(()=>{var Oe=Object.defineProperty;var Ne=(t,r)=>()=>(t&&(r=t(t=0)),r);var xe=(t,r)=>{for(var e in r)Oe(t,e,{get:r[e],enumerable:!0})};var ve={};xe(ve,{loadDefaults:()=>Ee});var Ee,Ae=Ne(()=>{Ee=()=>{Fez("fez-component",class{init(e){let n=document.createElement(e.name);for(n.props=e.props||e["data-props"]||e;this.root.firstChild;)this.root.parentNode.insertBefore(this.root.lastChild,n.nextSibling);this.root.innerHTML="",this.root.appendChild(n)}}),Fez("fez-include",class{init(e){Fez.fetch(e.src,n=>{let s=Fez.domRoot(n);Fez.head(s),this.root.innerHTML=s.innerHTML})}}),Fez("fez-inline",class{init(e){e["wait-for"]||=()=>!0,Fez.untilTrue(()=>{if(e["wait-for"]())return this.mountIt(),!0},100)}mountIt(){let e=this.root.innerHTML;if(e){let s=`inline-${Fez.fnv1(this.root.outerHTML)}`;Fez(s,class{HTML=e;init(){Object.assign(this.state,this.props.state||{})}});let o=document.createElement(s);this.root.after(this.root.lastChild,o),this.root.remove()}}}),Fez("fez-if",class{init(e){new Function(`return (${e.if||e.test})`)()||this.root.remove()}});let t=new Map,r=50;Fez.clearMemoStore=()=>{t.clear(),Fez.consoleLog("Memoize store cleared")},Fez("fez-memoize",class{init(e){if(!e.key){Fez.consoleError("fez-memoize: key prop is required");return}if(t.has(e.key)){let n=t.get(e.key);Fez.consoleLog(`Memoize - key: "${e.key}" - restore`),this.root.innerHTML="",this.root.appendChild(n.cloneNode(!0))}}onMount(e){t.has(e.key)||requestAnimationFrame(()=>{if(t.size>=r){let s=t.keys().next().value;t.delete(s),Fez.consoleLog(`Memoize - evicted oldest key: "${s}"`)}let n=document.createElement("div");n.innerHTML=this.root.innerHTML,Fez.consoleLog(`Memoize - key: "${e.key}" - set`),t.set(e.key,n)})}})};typeof Fez<"u"&&Fez&&Ee()});function G(t,r={},e){if(typeof r=="string"&&([r,e]=[e,r],r||={}),r instanceof Node&&(e=r,r={}),Array.isArray(t)&&(e=t,t="div"),(typeof r!="object"||Array.isArray(r))&&(e=r,r={}),t.includes(".")){let s=t.split(".");t=s.shift()||"div";let o=s.join(" ");r.class?r.class+=` ${o}`:r.class=o}let n=document.createElement(t);for(let[s,o]of Object.entries(r))if(typeof o=="function")n[s]=o.bind(this);else{let i=String(o).replaceAll("fez.",this.fezHtmlRoot);n.setAttribute(s,i)}if(e)if(Array.isArray(e))for(let s of e)n.appendChild(s);else e instanceof Node?n.appendChild(e):n.innerHTML=String(e);return n}function V(t){if(t.startsWith("[")){let n=t.match(/^\[([^\]]+)\](?:\s*,\s*(\w+))?$/);if(n)return{params:n[1].split(",").map(s=>s.trim()),indexParam:n[2]||null,isDestructured:!0}}return{params:t.split(",").map(n=>n.trim()),indexParam:null,isDestructured:!1}}function Re(t){let r=V(t),e=[...r.params];return r.indexParam&&e.push(r.indexParam),r.params.length===1&&!e.includes("i")&&e.push("i"),e}function ke(t,r){let e=V(r);return e.isDestructured||e.params.length>=3?`((_c)=>Array.isArray(_c)?_c:(_c&&typeof _c==="object")?Object.entries(_c):[])(${t})`:`(${t}||[])`}function je(t){let r=V(t);if(r.isDestructured){let n="["+r.params.join(", ")+"]",s=r.indexParam||(r.params.includes("i")?"_i":"i");return n+", "+s}if(r.params.length>=3){let n=[...r.params],s=n.pop();return"["+n.join(", ")+"], "+s}if(r.params.length===2)return r.params.join(", ");let e=r.params[0]==="i"?"_i":"i";return r.params[0]+", "+e}function De(t){return/^\s*(\([^)]*\)|[a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>/.test(t)}function He(t,r=[]){let e=t.match(/^\s*(?:\([^)]*\)|[a-zA-Z_$][a-zA-Z0-9_$]*)\s*=>\s*(.+)$/s);if(!e)return t;let n=e[1].trim(),o=t.match(/^\s*\(?\s*([a-zA-Z_$][a-zA-Z0-9_$]*)?\s*(?:,\s*[^)]+)?\)?\s*=>/)?.[1];if(o&&["e","event","ev"].includes(o)&&o!=="event"){let a=new RegExp(`\\b${o}\\b`,"g");n=n.replace(a,"event")}for(let a of r){let u=new RegExp(`(?<!\\$\\{)\\b${a}\\b(?![^{]*\\})`,"g");n=n.replace(u,`\${${a}}`)}return n=n.replace(/(?<![.\w])([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/g,(a,u)=>["console","window","document","Math","JSON","Date","Array","Object","String","Number","Boolean","parseInt","parseFloat","setTimeout","setInterval","clearTimeout","clearInterval","alert","confirm","prompt","fetch","event"].includes(u)?a:`fez.${u}(`),n}function Pe(t,r){let e=0,n=r;for(;n<t.length;){let s=t[n];if(s==="{")e++;else if(s==="}"){if(e--,e===0)return{expression:t.slice(r+1,n),endIndex:n}}else if(s==='"'||s==="'"||s==="`"){let o=s;for(n++;n<t.length&&t[n]!==o;)t[n]==="\\"&&n++,n++}n++}throw new Error(`Unmatched brace at ${r}`)}function se(t,r){let e=r-1;for(;e>=0&&(t[e]==="{"||t[e]===" "||t[e]==="	");)e--;if(e>=0&&t[e]==="="){for(e--;e>=0&&(t[e]===" "||t[e]==="	");)e--;let n=e+1;for(;e>=0&&/[a-zA-Z0-9_:-]/.test(t[e]);)e--;let s=t.slice(e+1,n);if(s&&/^[a-zA-Z]/.test(s))return s.toLowerCase()}return null}function Be(t,r){let e=se(t,r);return e&&/^on[a-z]+$/.test(e)?e:null}function U(t,r={}){let e=r.name||"unknown";try{t=t.replaceAll("&#x60;","`").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&");let n={};t=t.replace(/\{@block\s+(\w+)\}([\s\S]*?)\{\/block\}/g,(g,A,v)=>(n[A]=v,"")),t=t.replace(/\{@block:(\w+)\}/g,(g,A)=>n[A]||""),t=t.replace(/<!--[\s\S]*?-->/g,""),t=t.replace(/>\s+</g,"><").trim(),t=t.replace(/<([a-z][a-z0-9]*-[a-z0-9-]*)([^>]*?)\s*\/>/gi,"<$1$2></$1>"),t=t.replace(/<slot\s*\/>/gi,"<slot></slot>");let s="",o=0,i=[],a=[],u=[];for(;o<t.length;){if(t[o]==="\\"&&t[o+1]==="{"){s+="{",o+=2;continue}if(t[o]==="{"){let{expression:g,endIndex:A}=Pe(t,o),v=g.trim();if(v.startsWith("#if ")){let y=v.slice(4);s+="${("+y+") ? `",i.push(!1)}else if(v.startsWith("#unless ")){let y=v.slice(8);s+="${!("+y+") ? `",i.push(!1)}else if(v===":else")if(u.length>0&&!i.length){let y=u[u.length-1];y.hasElse=!0,s+='`).join("") : `'}else s+="` : `",i[i.length-1]=!0;else if(v.startsWith(":else if ")){let y=v.slice(9);s+="` : ("+y+") ? `"}else if(v==="/if"||v==="/unless"){let y=i.pop();s+=y?"`}":"` : ``}"}else if(v.startsWith("#each ")||v.startsWith("#for ")){let y=v.startsWith("#each "),C,T;if(y){let M=v.slice(6),N=M.indexOf(" as ");C=M.slice(0,N).trim(),T=M.slice(N+4).trim()}else{let M=v.slice(5),N=M.indexOf(" in ");T=M.slice(0,N).trim(),C=M.slice(N+4).trim()}let P=ke(C,T),k=je(T);a.push(Re(T)),u.push({collectionExpr:P,hasElse:!1}),s+="${((_arr) => _arr.length ? _arr.map(("+k+") => `"}else if(v==="/each"||v==="/for"){a.pop();let y=u.pop();y.hasElse?s+="`)("+y.collectionExpr+")}":s+='`).join("") : "")('+y.collectionExpr+")}"}else if(v.startsWith("@html ")){let y=v.slice(6);s+="${"+y+"}"}else if(v.startsWith("@json ")){let y=v.slice(6);s+='${`<pre class="json">${Fez.htmlEscape(JSON.stringify('+y+", null, 2))}</pre>`}"}else if(De(v))if(Be(t,o)){let C=a.flat(),T=He(v,C);T=T.replace(/"/g,"&quot;"),s+='"'+T+'"'}else s+="${"+v+"}";else se(t,o)?s+='"${Fez.htmlEscape('+v+')}"':s+="${Fez.htmlEscape("+v+")}";o=A+1;continue}t[o]==="`"?s+="\\`":t[o]==="$"&&t[o+1]==="{"?s+="\\$":t[o]==="\\"?s+="\\\\":s+=t[o],o++}let d=`
      const fez = this;
      with (this) {
        return \`${s}\`
      }
    `,m=new Function(d);return g=>{try{return m.bind(g)()}catch(A){return console.error(`FEZ svelte template runtime error in <${g.fezName||e}>:`,A.message),console.error("Template source:",s.substring(0,500)),""}}}catch(n){return console.error(`FEZ svelte template compile error in <${e}>:`,n.message),console.error("Template:",t.substring(0,200)),()=>""}}var Z=new Map;function qe(t){return t.includes("{{")&&t.includes("}}")||t.includes("[[")&&t.includes("]]")}function We(t,r){if(t=t.replace(/^#?raw/,"@html").replace(/^#?html/,"@html"),t.startsWith("#if")||t.startsWith("if"))return r.push(!1),t=t.replace(/^#?if/,""),`\${ ${t} ? \``;if(t.startsWith("#unless")||t.startsWith("unless"))return r.push(!1),t=t.replace(/^#?unless/,""),`\${ !(${t}) ? \``;if(t=="/block")return"`) && ''}";if(t.startsWith("#for")||t.startsWith("for")){t=t.replace(/^#?for/,"");let e=t.split(" in ",2);return"${"+e[1]+".map(("+e[0]+")=>`"}else if(t.startsWith("#each")||t.startsWith("each")){t=t.replace(/^#?each/,"");let e=t.split(" as ",2);return"${"+e[0]+".map(("+e[1]+")=>`"}else{if(t==":else"||t=="else")return r[r.length-1]=!0,"` : `";if(t=="/if"||t=="/unless")return r.pop()?"`}":"` : ``}";if(t=="/for"||t=="/each")return'`).join("")}';{let e="@html ";return t.startsWith("json ")&&(t=t.replace("json ","@html '<pre class=json>'+JSON.stringify("),t+=", null, 2) + '</pre>'"),t.startsWith(e)?t=t.replace(e,""):t=`Fez.htmlEscape(${t})`,"${"+t+"}"}}}function H(t,r={}){let e=t;if(Z.has(e))return Z.get(e);let n=qe(t)?Ge(t,r):U(t,r);return Z.set(e,n),n}function Ge(t,r={}){let e=[];t=t.replaceAll("[[","{{").replaceAll("]]","}}"),t=t.replace(/(\w+)=\{\{\s*(.*?)\s*\}\}([\s>])/g,(o,i,a,u)=>`${i}="{{ ${a} }}"${u}`);let n={};t=t.replace(/\{\{block\s+(\w+)\s*\}\}([^ยง]+)\{\{\/block\}\}/g,(o,i,a)=>(n[i]=a,"")),t=t.replace(/\{\{block:([\w\-]+)\s*\}\}/g,(o,i)=>n[i]||`block:${i}?`),t=t.replace(/:(\w+)="([\w\.\[\]]+)"/,(o,i,a)=>`:${i}=Fez.store.delete({{ Fez.store.set(${a}) }})`);let s=t.replace(/{{(.*?)}}/g,(o,i)=>(i=i.replaceAll("&#x60;","`"),i=i.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),We(i,e)));s=s.replace(/<!\-\-.*?\-\->/g,"").replace(/>\s+</g,"><"),s="`"+s.trim()+"`";try{let o=`const fez = this;
      with (this) {
        return ${s}
      }
    `,i=new Function(o);return a=>{try{return i.bind(a)()}catch(u){u.message=`FEZ template runtime error: ${u.message}

Template source: ${s}`,console.error(u)}}}catch(o){return o.message=`FEZ template compile error: ${o.message}Template source:
${s}`,console.error(o),()=>Fez.consoleError("Template Compile Error",!0)}}var F=class{static getProps(r,e){let n={};if(r.props)return r.props;for(let s of r.attributes)n[s.name]=s.value;for(let[s,o]of Object.entries(n))if([":"].includes(s[0])){delete n[s];try{let i=new Function(`return (${o})`).bind(e)();n[s.replace(/[\:_]/,"")]=i}catch(i){Fez.onError("attr",`Error evaluating ${s}="${o}" for ${r.tagName}: ${i.message}`)}}if(n["data-props"]){let s=n["data-props"];if(typeof s=="object")return s;s[0]!="{"&&(s=decodeURIComponent(s));try{n=JSON.parse(s)}catch(o){Fez.onError("props",`Invalid JSON in data-props for ${r.tagName}: ${o.message}`)}}else if(n["data-json-template"]){let s=e.previousSibling?.textContent;if(s)try{n=JSON.parse(s),e.previousSibling.remove()}catch(o){Fez.onError("props",`Invalid JSON in template for ${r.tagName}: ${o.message}`)}}return n}static formData(r){let e=r.closest("form")||r.querySelector("form");if(!e)return Fez.consoleLog("No form found for formData()"),{};let n=new FormData(e),s={};return n.forEach((o,i)=>{s[i]=o}),s}static nodeName="div";constructor(){}n=G;get fezHtmlRoot(){return`Fez(${this.UID}).`}get isConnected(){return this.root?.isConnected?!0:(this.fezOnDestroy(),!1)}prop(r){let e=this.oldRoot[r]||this.props[r];return typeof e=="function"&&(e=e.bind(this.root)),e}copy(){for(let r of Array.from(arguments)){let e=this.props[r];if(e!==void 0){if(r=="class"){let n=this.root.getAttribute(r,e);n&&(e=[n,e].join(" "))}typeof e=="string"?this.root.setAttribute(r,e):this.root[r]=e}}}fezOnDestroy(){this._onDestroyCallbacks&&(this._onDestroyCallbacks.forEach(r=>{try{r()}catch(e){Fez.onError("destroy","Error in cleanup callback",e)}}),this._onDestroyCallbacks=[]),this.onDestroy(),this.onDestroy=()=>{},this.root&&(this.root.fez=void 0),this.root=void 0}addOnDestroy(r){this._onDestroyCallbacks=this._onDestroyCallbacks||[],this._onDestroyCallbacks.push(r)}on(r,e,n=200){this._eventHandlers=this._eventHandlers||{},this._eventHandlers[r]&&window.removeEventListener(r,this._eventHandlers[r]);let s=Fez.throttle(()=>{this.isConnected&&e.call(this)},n);this._eventHandlers[r]=s,window.addEventListener(r,s),this.addOnDestroy(()=>{window.removeEventListener(r,s),delete this._eventHandlers[r]})}onWindowResize(r,e){this.on("resize",r,e),r()}onWindowScroll(r,e){this.on("scroll",r,e),r()}onElementResize(r,e,n=200){let s=Fez.throttle(()=>{this.isConnected&&e.call(this,r.getBoundingClientRect(),r)},n),o=new ResizeObserver(s);o.observe(r),e.call(this,r.getBoundingClientRect(),r),this.addOnDestroy(()=>{o.disconnect()})}fezSlot(r,e){e||=document.createElement("template");let n=e.nodeName=="SLOT";for(;r.firstChild;)n?e.parentNode.insertBefore(r.lastChild,e.nextSibling):e.appendChild(r.firstChild);return n?e.parentNode.removeChild(e):r.innerHTML="",e}setStyle(r,e){r&&typeof r=="object"?Object.entries(r).forEach(([n,s])=>{this.root.style.setProperty(n,s)}):this.root.style.setProperty(r,e)}connect(){}onMount(){}beforeRender(){}afterRender(){}onDestroy(){}onStateChange(){}onGlobalStateChange(){}publish(r,...e){let n=o=>{if(Fez._subs&&Fez._subs[r]){let i=Fez._subs[r].find(([a])=>a===o);if(i)return i[1].bind(o)(...e),!0}return!1};if(n(this))return!0;let s=this.root.parentElement;for(;s;){if(s.fez&&n(s.fez))return!0;s=s.parentElement}return!1}fezBlocks={};fezParseHtml(r){let e=this.fezHtmlRoot.replaceAll('"',"&quot;");return r=r.replace(/([!'"\s;])fez\.(\w)/g,`$1${e}$2`).replace(/>\s+</g,"><"),r.trim()}fezNextTick(r,e){e?(this._nextTicks||={},this._nextTicks[e]||=window.requestAnimationFrame(()=>{r.bind(this)(),this._nextTicks[e]=null},e)):window.requestAnimationFrame(r.bind(this))}fezRefresh(){this.fezNextTick(()=>this.fezRender(),"refresh")}refresh(){this.fezRefresh()}fezRender(r){if(r||=this?.class?.fezHtmlFunc,!r||!this.root)return;this.beforeRender();let e=typeof this.class.nodeName=="function"?this.class.nodeName(this.root):this.class.nodeName,n=document.createElement(e||"div"),s;Array.isArray(r)?r[0]instanceof Node?r.forEach(o=>n.appendChild(o)):s=r.join(""):typeof r=="string"?s=H(r)(this):typeof r=="function"&&(s=r(this)),s&&(s instanceof DocumentFragment||s instanceof Node?n.appendChild(s):(s=s.replace(/\s\w+="undefined"/g,""),n.innerHTML=this.fezParseHtml(s))),this.fezKeepNode(n),this.fezMemoization(n),Fez.morphdom(this.root,n),this.fezRenderPostProcess(),this.afterRender()}fezRenderPostProcess(){let r=(e,n)=>{this.root.querySelectorAll(`*[${e}]`).forEach(s=>{let o=s.getAttribute(e);s.removeAttribute(e),o&&n.bind(this)(o,s)})};r("fez-this",(e,n)=>{new Function("n",`this.${e} = n`).bind(this)(n)}),r("fez-use",(e,n)=>{if(e.includes("=>"))Fez.getFunction(e)(n);else if(e.includes("."))Fez.getFunction(e).bind(n)();else{let s=this[e];typeof s=="function"?s(n):Fez.onError("fez-use",`"${e}" is not a function in ${this.fezName}`)}}),r("fez-class",(e,n)=>{let s=e.split(/\s+/),o=s.pop();s.forEach(i=>n.classList.add(i)),o&&setTimeout(()=>{n.classList.add(o)},1)}),r("fez-bind",(e,n)=>{if(["INPUT","SELECT","TEXTAREA"].includes(n.nodeName)){let s=new Function(`return this.${e}`).bind(this)(),o=n.type.toLowerCase()=="checkbox",i=["SELECT"].includes(n.nodeName)||o?"onchange":"onkeyup";n.setAttribute(i,`${this.fezHtmlRoot}${e} = this.${o?"checked":"value"}`),this.val(n,s)}else Fez.onError("fez-bind",`Can't bind "${e}" to ${n.nodeName} (needs INPUT, SELECT or TEXTAREA)`)}),this.root.querySelectorAll("*[disabled]").forEach(e=>{let n=e.getAttribute("disabled");["false"].includes(n)?e.removeAttribute("disabled"):e.setAttribute("disabled","true")})}fezKeepNode(r){r.querySelectorAll("[fez-keep]").forEach(e=>{let n=e.getAttribute("fez-keep"),s=n==="default-slot"||n.startsWith("slot-"),o;if(s){let i=this.root.querySelectorAll(`[fez-keep="${n}"]`);for(let a of i){let u=a.parentElement,d=!1;for(;u&&u!==this.root;){if(u.classList.contains("fez")){d=!0;break}u=u.parentElement}if(!d){o=a;break}}}else o=this.root.querySelector(`[fez-keep="${n}"]`);if(o)e.parentNode.replaceChild(o,e);else if(s)if(e.getAttribute("hide")){this.state=null;let i=e.parentNode;Array.from(this.root.childNodes).forEach(a=>{i.insertBefore(a,e)}),e.remove()}else Array.from(this.root.childNodes).forEach(a=>{e.appendChild(a)})})}fezMemoization(r){let e=r.querySelector("[fez-memoize]:not(.fez)");if(!e)return;this.fezMemoStore||=new Map;let n=e.getAttribute("fez-memoize"),s=this.fezMemoStore.get(n);if(s)Fez.consoleLog(`Memoize restore ${this.fezName}: ${n}`),e.parentNode.replaceChild(s.cloneNode(!0),e);else{let o=this.root.querySelector("[fez-memoize]:not(.fez)");if(o){let i=o.getAttribute("fez-memoize");this.fezMemoStore.set(i,o.cloneNode(!0))}}}setInterval(r,e,n){typeof r=="number"&&([e,r]=[r,e]),n||=Fez.fnv1(String(r)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[n]);let s=setInterval(()=>{this.isConnected&&r()},e);return this._setIntervalCache[n]=s,this.addOnDestroy(()=>{clearInterval(s),delete this._setIntervalCache[n]}),s}find(r){return typeof r=="string"?this.root.querySelector(r):r}val(r,e){let n=this.find(r);if(n)if(["INPUT","TEXTAREA","SELECT"].includes(n.nodeName))if(typeof e<"u")n.type=="checkbox"?n.checked=!!e:n.value=e;else return n.value;else if(typeof e<"u")n.innerHTML=e;else return n.innerHTML}formData(r){return this.class.formData(r||this.root)}attr(r,e){return typeof e>"u"?this.root.getAttribute(r):(this.root.setAttribute(r,e),e)}childNodes(r){let e=Array.from(this.root.children);if(r){let n=document.createElement("div");n.style.display="none",document.body.appendChild(n),e.forEach(s=>n.appendChild(s)),e=Array.from(n.children).map(r),document.body.removeChild(n)}return e}subscribe(r,e){Fez._subs||={},Fez._subs[r]||=[],Fez._subs[r]=Fez._subs[r].filter(n=>n[0].isConnected),Fez._subs[r].push([this,e])}rootId(){return this.root.id||=`fez_${this.UID}`,this.root.id}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.fezReactiveStore(),this.globalState=Fez.state.createProxy(this),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(e=>e!=="constructor"&&typeof this[e]=="function").forEach(e=>this[e]=this[e].bind(this))}dissolve(r){r&&(r.classList.add("fez"),r.classList.add(`fez-${this.fezName}`),r.fez=this,this.attr("id")&&r.setAttribute("id",this.attr("id")),this.root.innerHTML="",this.root.appendChild(r));let e=this.root,n=this.childNodes(),s=this.root.parentNode;return n.reverse().forEach(o=>s.insertBefore(o,e.nextSibling)),this.root.remove(),this.root=void 0,r&&(this.root=r),n}fezReactiveStore(r,e){r||={},e||=(s,o,i,a)=>{i!=a&&(this.onStateChange(o,i,a),this.fezNextTick(this.fezRender,"fezRender"))},e.bind(this);function n(s,o){return typeof s!="object"||s===null?s:new Proxy(s,{set(i,a,u,d){let m=Reflect.get(i,a,d);if(m!==u){typeof u=="object"&&u!==null&&(u=n(u,o));let g=Reflect.set(i,a,u,d);return o(i,a,u,m),g}return!0},get(i,a,u){let d=Reflect.get(i,a,u);return typeof d=="object"&&d!==null?n(d,o):d}})}return n(r,e)}};var Ve={data:""},oe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ve,Ue=t=>{let r=oe(t),e=r.data;return r.data="",e},Ze=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Xe=/\/\*[^]*?\*\/|  +/g,ne=/\n+/g,I=(t,r)=>{let e="",n="",s="";for(let o in t){let i=t[o];o[0]=="@"?o[1]=="i"?e=o+" "+i+";":n+=o[1]=="f"?I(i,o):o+"{"+I(i,o[1]=="k"?"":r)+"}":typeof i=="object"?n+=I(i,r?r.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=I.p?I.p(o,i):o+":"+i+";")}return e+(r&&s?r+"{"+s+"}":s)+n},_={},ie=t=>{if(typeof t=="object"){let r="";for(let e in t)r+=e+ie(t[e]);return r}return t},Ke=(t,r,e,n,s)=>{let o=ie(t),i=_[o]||(_[o]=(u=>{let d=0,m=11;for(;d<u.length;)m=101*m+u.charCodeAt(d++)>>>0;return"go"+m})(o));if(!_[i]){let u=o!==t?t:(d=>{let m,g,A=[{}];for(;m=Ze.exec(d.replace(Xe,""));)m[4]?A.shift():m[3]?(g=m[3].replace(ne," ").trim(),A.unshift(A[0][g]=A[0][g]||{})):A[0][m[1]]=m[2].replace(ne," ").trim();return A[0]})(t);_[i]=I(s?{["@keyframes "+i]:u}:u,e?"":"."+i)}let a=e&&_.g?_.g:null;return e&&(_.g=_[i]),((u,d,m,g)=>{g?d.data=d.data.replace(g,u):d.data.indexOf(u)===-1&&(d.data=m?u+d.data:d.data+u)})(_[i],r,n,a),i},Je=(t,r,e)=>t.reduce((n,s,o)=>{let i=r[o];if(i&&i.call){let a=i(e),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;i=u?"."+u:a&&typeof a=="object"?a.props?"":I(a,""):a===!1?"":a}return n+s+(i??"")},"");function B(t){let r=this||{},e=t.call?t(r.p):t;return Ke(e.unshift?e.raw?Je(e,[].slice.call(arguments,1),r.p):e.reduce((n,s)=>Object.assign(n,s&&s.call?s(r.p):s),{}):e,oe(r.target),r.g,r.o,r.k)}var le,X,K,Ye=B.bind({g:1}),Qe=B.bind({k:1});function et(t,r,e,n){I.p=r,le=t,X=e,K=n}function tt(t,r){let e=this||{};return function(){let n=arguments;function s(o,i){let a=Object.assign({},o),u=a.className||s.className;e.p=Object.assign({theme:X&&X()},a),e.o=/ *go\d+/.test(u),a.className=B.apply(e,n)+(u?" "+u:""),r&&(a.ref=i);let d=t;return t[0]&&(d=a.as||t,delete a.as),K&&d[0]&&K(a),le(d,a)}return r?r(s):s}}var ce={css:B,extractCss:Ue,glob:Ye,keyframes:Qe,setup:et,styled:tt};var ae=function(){"use strict";let t=new Set,r={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:y,afterNodeAdded:y,beforeNodeMorphed:y,afterNodeMorphed:y,beforeNodeRemoved:y,afterNodeRemoved:y,beforeAttributeUpdated:y},head:{style:"merge",shouldPreserve:function(c){return c.getAttribute("im-preserve")==="true"},shouldReAppend:function(c){return c.getAttribute("im-re-append")==="true"},shouldRemove:y,afterHeadMorphed:y}};function e(c,l,f={}){c instanceof Document&&(c=c.documentElement),typeof l=="string"&&(l=we(l));let p=$e(l),h=T(c,p,f);return n(c,p,h)}function n(c,l,f){if(f.head.block){let p=c.querySelector("head"),h=l.querySelector("head");if(p&&h){let b=A(h,p,f);Promise.all(b).then(function(){n(c,l,Object.assign(f,{head:{block:!1,ignore:!0}}))});return}}if(f.morphStyle==="innerHTML")return i(l,c,f),c.children;if(f.morphStyle==="outerHTML"||f.morphStyle==null){let p=Ce(l,c,f),h=p?.previousSibling,b=p?.nextSibling,E=o(c,p,f);return p?Te(h,E,b):[]}else throw"Do not understand how to morph style "+f.morphStyle}function s(c,l){return l.ignoreActiveValue&&c===document.activeElement&&c!==document.body}function o(c,l,f){if(!(f.ignoreActive&&c===document.activeElement))return l==null?f.callbacks.beforeNodeRemoved(c)===!1?c:(c.remove(),f.callbacks.afterNodeRemoved(c),null):k(c,l)?(f.callbacks.beforeNodeMorphed(c,l)===!1||(c instanceof HTMLHeadElement&&f.head.ignore||(c instanceof HTMLHeadElement&&f.head.style!=="morph"?A(l,c,f):(u(l,c,f),s(c,f)||i(l,c,f))),f.callbacks.afterNodeMorphed(c,l)),c):f.callbacks.beforeNodeRemoved(c)===!1||f.callbacks.beforeNodeAdded(l)===!1?c:(c.parentElement.replaceChild(l,c),f.callbacks.afterNodeAdded(l),f.callbacks.afterNodeRemoved(c),l)}function i(c,l,f){let p=c.firstChild,h=l.firstChild,b;for(;p;){if(b=p,p=b.nextSibling,h==null){if(f.callbacks.beforeNodeAdded(b)===!1)return;l.appendChild(b),f.callbacks.afterNodeAdded(b),x(f,b);continue}if(P(b,h,f)){o(h,b,f),h=h.nextSibling,x(f,b);continue}let E=N(c,l,b,h,f);if(E){h=M(h,E,f),o(E,b,f),x(f,b);continue}let S=Se(c,l,b,h,f);if(S){h=M(h,S,f),o(S,b,f),x(f,b);continue}if(f.callbacks.beforeNodeAdded(b)===!1)return;l.insertBefore(b,h),f.callbacks.afterNodeAdded(b),x(f,b)}for(;h!==null;){let E=h;h=h.nextSibling,ee(E,f)}}function a(c,l,f,p){return c==="value"&&p.ignoreActiveValue&&l===document.activeElement?!0:p.callbacks.beforeAttributeUpdated(c,l,f)===!1}function u(c,l,f){let p=c.nodeType;if(p===1){let h=c.attributes,b=l.attributes;for(let E of h)if(!a(E.name,l,"update",f))try{l.getAttribute(E.name)!==E.value&&(E.name==="class"?d(c,l):l.setAttribute(E.name,E.value))}catch(S){console.error("Error setting attribute:",{badNode:l,badAttribute:E,error:S.message})}for(let E=b.length-1;0<=E;E--){let S=b[E];a(S.name,l,"remove",f)||c.hasAttribute(S.name)||l.removeAttribute(S.name)}}(p===8||p===3)&&l.nodeValue!==c.nodeValue&&(l.nodeValue=c.nodeValue),s(l,f)||g(c,l,f)}function d(c,l){let f=new Set(c.className.split(/\s+/).filter(Boolean)),p=new Set(l.className.split(/\s+/).filter(Boolean));for(let h of p)f.has(h)||l.classList.remove(h);for(let h of f)p.has(h)||l.classList.add(h)}function m(c,l,f,p){if(c[f]!==l[f]){let h=a(f,l,"update",p);h||(l[f]=c[f]),c[f]?h||l.setAttribute(f,c[f]):a(f,l,"remove",p)||l.removeAttribute(f)}}function g(c,l,f){if(c instanceof HTMLInputElement&&l instanceof HTMLInputElement&&c.type!=="file"){let p=c.value,h=l.value;m(c,l,"checked",f),m(c,l,"disabled",f),c.hasAttribute("value")?p!==h&&(a("value",l,"update",f)||(l.setAttribute("value",p),l.value=p)):a("value",l,"remove",f)||(l.value="",l.removeAttribute("value"))}else if(c instanceof HTMLOptionElement)m(c,l,"selected",f);else if(c instanceof HTMLTextAreaElement&&l instanceof HTMLTextAreaElement){let p=c.value,h=l.value;if(a("value",l,"update",f))return;p!==h&&(l.value=p),l.firstChild&&l.firstChild.nodeValue!==p&&(l.firstChild.nodeValue=p)}}function A(c,l,f){let p=[],h=[],b=[],E=[],S=f.head.style,R=new Map;for(let w of c.children)R.set(w.outerHTML,w);for(let w of l.children){let L=R.has(w.outerHTML),D=f.head.shouldReAppend(w),W=f.head.shouldPreserve(w);L||W?D?h.push(w):(R.delete(w.outerHTML),b.push(w)):S==="append"?D&&(h.push(w),E.push(w)):f.head.shouldRemove(w)!==!1&&h.push(w)}E.push(...R.values());let re=[];for(let w of E){let L=document.createRange().createContextualFragment(w.outerHTML).firstChild;if(f.callbacks.beforeNodeAdded(L)!==!1){if(L.href||L.src){let D=null,W=new Promise(function(Ie){D=Ie});L.addEventListener("load",function(){D()}),re.push(W)}l.appendChild(L),f.callbacks.afterNodeAdded(L),p.push(L)}}for(let w of h)f.callbacks.beforeNodeRemoved(w)!==!1&&(l.removeChild(w),f.callbacks.afterNodeRemoved(w));return f.head.afterHeadMorphed(l,{added:p,kept:b,removed:h}),re}function v(){}function y(){}function C(c){let l={};return Object.assign(l,r),Object.assign(l,c),l.callbacks={},Object.assign(l.callbacks,r.callbacks),Object.assign(l.callbacks,c.callbacks),l.head={},Object.assign(l.head,r.head),Object.assign(l.head,c.head),l}function T(c,l,f){return f=C(f),{target:c,newContent:l,config:f,morphStyle:f.morphStyle,ignoreActive:f.ignoreActive,ignoreActiveValue:f.ignoreActiveValue,idMap:Fe(c,l),deadIds:new Set,callbacks:f.callbacks,head:f.head}}function P(c,l,f){return c==null||l==null?!1:c.nodeType===l.nodeType&&c.tagName===l.tagName?c.id!==""&&c.id===l.id?!0:j(f,c,l)>0:!1}function k(c,l){return c==null||l==null?!1:c.nodeType===l.nodeType&&c.tagName===l.tagName}function M(c,l,f){for(;c!==l;){let p=c;c=c.nextSibling,ee(p,f)}return x(f,l),l.nextSibling}function N(c,l,f,p,h){let b=j(h,f,l),E=null;if(b>0){let S=p,R=0;for(;S!=null;){if(P(f,S,h))return S;if(R+=j(h,S,c),R>b)return null;S=S.nextSibling}}return E}function Se(c,l,f,p,h){let b=p,E=f.nextSibling,S=0;for(;b!=null;){if(j(h,b,c)>0)return null;if(k(f,b))return b;if(k(E,b)&&(S++,E=E.nextSibling,S>=2))return null;b=b.nextSibling}return b}function we(c){let l=new DOMParser,f=c.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(f.match(/<\/html>/)||f.match(/<\/head>/)||f.match(/<\/body>/)){let p=l.parseFromString(c,"text/html");if(f.match(/<\/html>/))return p.generatedByIdiomorph=!0,p;{let h=p.firstChild;return h?(h.generatedByIdiomorph=!0,h):null}}else{let h=l.parseFromString("<body><template>"+c+"</template></body>","text/html").body.querySelector("template").content;return h.generatedByIdiomorph=!0,h}}function $e(c){if(c==null)return document.createElement("div");if(c.generatedByIdiomorph)return c;if(c instanceof Node){let l=document.createElement("div");return l.append(c),l}else{let l=document.createElement("div");for(let f of[...c])l.append(f);return l}}function Te(c,l,f){let p=[],h=[];for(;c!=null;)p.push(c),c=c.previousSibling;for(;p.length>0;){let b=p.pop();h.push(b),l.parentElement.insertBefore(b,l)}for(h.push(l);f!=null;)p.push(f),h.push(f),f=f.nextSibling;for(;p.length>0;)l.parentElement.insertBefore(p.pop(),l.nextSibling);return h}function Ce(c,l,f){let p;p=c.firstChild;let h=p,b=0;for(;p;){let E=Me(p,l,f);E>b&&(h=p,b=E),p=p.nextSibling}return h}function Me(c,l,f){return k(c,l)?.5+j(f,c,l):0}function ee(c,l){x(l,c),l.callbacks.beforeNodeRemoved(c)!==!1&&(c.remove(),l.callbacks.afterNodeRemoved(c))}function Le(c,l){return!c.deadIds.has(l)}function _e(c,l,f){return(c.idMap.get(f)||t).has(l)}function x(c,l){let f=c.idMap.get(l)||t;for(let p of f)c.deadIds.add(p)}function j(c,l,f){let p=c.idMap.get(l)||t,h=0;for(let b of p)Le(c,b)&&_e(c,b,f)&&++h;return h}function te(c,l){let f=c.parentElement,p=c.querySelectorAll("[id]");for(let h of p){let b=h;for(;b!==f&&b!=null;){let E=l.get(b);E==null&&(E=new Set,l.set(b,E)),E.add(h.id),b=b.parentElement}}}function Fe(c,l){let f=new Map;return te(c,f),te(l,f),f}return{morph:e,defaults:r}}();var rt=t=>{let r=t.split(/(<\/?[^>]+>)/g).map(s=>s.trim()).filter(s=>s),e=0,n=[];for(let s=0;s<r.length;s++){let o=r[s],i=r[s+1],a=r[s+2];if(o.startsWith("<"))if(!o.startsWith("</")&&!o.endsWith("/>")&&i&&!i.startsWith("<")&&a&&a.startsWith("</")){let u=Math.max(0,e);n.push("  ".repeat(u)+o+i+a),s+=2}else if(o.startsWith("</")){e--;let u=Math.max(0,e);n.push("  ".repeat(u)+o)}else if(o.endsWith("/>")||o.includes(" />")){let u=Math.max(0,e);n.push("  ".repeat(u)+o)}else{let u=Math.max(0,e);n.push("  ".repeat(u)+o),e++}else if(o){let u=Math.max(0,e);n.push("  ".repeat(u)+o)}}return n.join(`
`)},J=(()=>{let t=[],r=[],e=0,n=null;document.addEventListener("keydown",i=>{if(i.key==="Escape"){i.preventDefault();let a=document.getElementById("dump-dialog"),u=document.getElementById("log-reopen-button");a?(a.remove(),s()):u&&(u.remove(),o())}else(i.key==="ArrowLeft"||i.key==="ArrowRight"||i.key==="ArrowUp"||i.key==="ArrowDown")&&document.getElementById("dump-dialog")&&t.length>0&&(i.preventDefault(),i.key==="ArrowLeft"&&e>0?(e--,localStorage.setItem("_LOG_INDEX",e),n()):i.key==="ArrowRight"&&e<t.length-1?(e++,localStorage.setItem("_LOG_INDEX",e),n()):i.key==="ArrowUp"&&e>0?(e=Math.max(0,e-5),localStorage.setItem("_LOG_INDEX",e),n()):i.key==="ArrowDown"&&e<t.length-1&&(e=Math.min(t.length-1,e+5),localStorage.setItem("_LOG_INDEX",e),n()))});let s=()=>{let i=document.getElementById("log-reopen-button");i||(i=document.body.appendChild(document.createElement("button")),i.id="log-reopen-button",i.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;margin-right:4px"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>LOG',i.style.cssText="position:fixed; top: 10px; right: 10px;padding:10px 20px;background:#ff3333;color:#fff;border:none;cursor:pointer;font:14px/1.4 monospace;z-index:2147483647;border-radius:8px;display:flex;align-items:center;opacity:1;visibility:visible;box-shadow:0 4px 12px rgba(255,51,51,0.3)",i.onclick=()=>{i.remove(),o()})},o=()=>{let i=document.getElementById("dump-dialog");if(!i){i=document.body.appendChild(document.createElement("div")),i.id="dump-dialog";let u=window.pageYOffset||document.documentElement.scrollTop;i.style.cssText="position:absolute; top:"+(u+20)+"px; left: 20px; right:20px;background:#fff; border:1px solid #333; box-shadow:0 0 10px rgba(0,0,0,0.5);padding:20px; overflow:auto; z-index:2147483646; font:13px/1.4 monospace;white-space:pre; display:block; opacity:1; visibility:visible"}let a=parseInt(localStorage.getItem("_LOG_INDEX"));!isNaN(a)&&a>=0&&a<t.length?e=a:e=t.length-1,n=()=>{let u=t.map((d,m)=>{let g="#f0f0f0";return m!==e&&(r[m]==="object"?g="#d6e3ef":r[m]==="array"&&(g="#d8d5ef")),`<button style="font-size: 14px; font-weight: 400; padding:2px 6px; margin: 0 2px 2px 0;cursor:pointer;background:${m===e?"#333":g};color:${m===e?"#fff":"#000"}" data-index="${m}">${m+1}</button>`}).join("");i.innerHTML='<div style="display:flex;flex-direction:column;height:100%"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px"><div style="display:flex;flex-wrap:wrap;gap:4px;flex:1;margin-right:10px">'+u+'</div><button style="padding:4px 8px;cursor:pointer;flex-shrink:0">&times;</button></div><xmp style="font-family:monospace;flex:1;overflow:auto;margin:0;padding:0;color:#000;background:#fff;font-size:14px;line-height:22px">'+t[e]+"</xmp></div>",i.querySelector('button[style*="flex-shrink:0"]').onclick=()=>{i.remove(),s()},i.querySelectorAll("button[data-index]").forEach(d=>{d.onclick=()=>{e=parseInt(d.dataset.index),localStorage.setItem("_LOG_INDEX",e),n()}})},n()};return i=>{if(!document.body){window.requestAnimationFrame(()=>J(i));return}let a=typeof i;i instanceof Node&&(i.nodeType===Node.TEXT_NODE?i=i.textContent||String(i):i=rt(i.outerHTML)),i===void 0&&(i="undefined"),i===null&&(i="null"),Array.isArray(i)?a="array":typeof i=="object"&&i!==null&&(a="object"),typeof i!="string"&&(i=JSON.stringify(i,(d,m)=>typeof m=="function"?String(m):m,2).replaceAll("<","&lt;")),i=i.trim(),t.push(i+`

type: ${a}`),r.push(a),!!document.getElementById("dump-dialog")?(e=t.length-1,localStorage.setItem("_LOG_INDEX",e),n&&n()):o()}})();typeof window<"u"&&!window.LOG&&(window.LOG=J);var fe=J;var ue=()=>{let t=parseInt(window.location.port)||80;if(!(Fez.DEV===!0||t>2999&&Fez.DEV!==!1))return;let r=document.querySelectorAll(".fez-highlight-overlay");if(r.length>0){r.forEach(n=>n.remove());return}document.querySelectorAll(".fez, .svelte").forEach(n=>{let s=null,o=null;if(n.classList.contains("fez")&&n.fez&&n.fez.fezName?(s=n.fez.fezName,o="fez"):n.classList.contains("svelte")&&n.svelte&&n.svelte.svelteName&&(s=n.svelte.svelteName,o="svelte"),s){let i=document.createElement("div");i.className="fez-highlight-overlay";let a=n.getBoundingClientRect(),u=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft;i.style.cssText=`
        position: absolute;
        top: ${a.top+u}px;
        left: ${a.left+d}px;
        width: ${a.width}px;
        height: ${a.height}px;
        border: 1px solid ${o==="svelte"?"blue":"red"};
        pointer-events: none;
        z-index: 9999;
      `;let m=document.createElement("div");m.textContent=s,m.style.cssText=`
        position: absolute;
        top: -20px;
        left: 0;
        background: ${o==="svelte"?"blue":"red"};
        color: white;
        padding: 4px 6px 2px 6px;
        font-size: 14px;
        font-family: monospace;
        line-height: 1;
        white-space: nowrap;
        cursor: pointer;
        pointer-events: auto;
        text-transform: uppercase;
      `,m.addEventListener("click",g=>{g.stopPropagation(),Fez.log(n)}),i.appendChild(m),document.body.appendChild(i)}})};document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="e"&&(t.target.closest("form")||(t.preventDefault(),ue()))});var de=ue;var st=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]),nt=new MutationObserver((t,r)=>{for(let e of t)if(e.type==="attributes"){let n=e.target.fez,s=e.attributeName,o=e.target.getAttribute(s);n&&(n.props[s]=o,n.onPropsChange(s,o))}});function Y(t,r){let e=globalThis.window?.Fez||globalThis.Fez;if(!t.includes("-")){console.error(`Fez: Invalid custom element name "${t}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);return}if(r=ot(e,t,r),r.html){let n=r.SLOT||"div";r.html=r.html.replace(/<slot(\s[^>]*)?>/,`<${n} class="fez-slot fez-slot-${t}" fez-keep="slot-${t}"$1>`).replace("</slot>",`</${n}>`),r.fezHtmlFunc=H(r.html,{name:t})}r.css&&(r.css=e.globalCss(r.css,{name:t})),e.classes[t]=r,customElements.get(t)||customElements.define(t,class extends HTMLElement{connectedCallback(){it(this,r)?he(t,this):requestAnimationFrame(()=>{he(t,this)})}})}function ot(t,r,e){if(e.prototype instanceof F)return e.html&&(e.html=pe(e.html)),e;let n=new e,s=class extends F{},o=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertyNames(e.prototype)].filter(a=>a!=="constructor"&&a!=="prototype");for(let a of o)s.prototype[a]=n[a];let i={FAST:"FAST",GLOBAL:"GLOBAL",CSS:"css",NAME:"nodeName"};for(let[a,u]of Object.entries(i))n[a]&&(s[u]=n[a]);return n.HTML&&(s.html=pe(n.HTML)),n.GLOBAL&&t.onReady(()=>document.body.appendChild(document.createElement(r))),t.consoleLog(`${r} compiled`),s}function it(t,r){let e=t.getAttribute("fez-fast");if(e==="false")return!1;let n=typeof r.FAST=="function"?r.FAST(t):r.FAST;return!!(e||n||t.childNodes[0]||t.nextSibling)}function pe(t){return t.replace(/<([a-z-]+)\b([^>]*)\/>/g,(r,e,n)=>st.has(e)?r:`<${e}${n}></${e}>`)}function he(t,r){if(!r.isConnected||r.classList?.contains("fez"))return;let e=Fez.classes[t],n=typeof e.nodeName=="function"?e.nodeName(r):e.nodeName,s=document.createElement(n||"div");if(s.classList.add("fez"),s.classList.add(`fez-${t}`),!r.parentNode){console.warn(`Fez: ${t} node has no parent, skipping`);return}r.parentNode.replaceChild(s,r);let o=new e;if(o.UID=++Fez.instanceCount,Fez.instances.set(o.UID,o),o.oldRoot=r,o.fezName=t,o.root=s,o.props=e.getProps(r,s),o.class=e,o.fezSlot(r,s),s.fez=o,e.GLOBAL&&e.GLOBAL!=!0&&(window[e.GLOBAL]||=o),window.$&&(o.$root=$(s)),o.props.id&&s.setAttribute("id",o.props.id),o.fezRegister(),(o.onInit||o.init||o.created||o.connect)(o.props),o.fezRender(),o.onMount(o.props),o.onSubmit){let a=o.root.nodeName=="FORM"?o.root:o.find("form");a&&(a.onsubmit=u=>{u.preventDefault(),o.onSubmit(o.formData())})}if(o.onPropsChange){nt.observe(s,{attributes:!0});for(let[a,u]of Object.entries(o.props))o.onPropsChange(a,u)}}var lt=t=>{let r={script:"",style:"",html:"",head:""},e=t.split(`
`),n=[],s="";for(var o of e)o=o.trim(),o.startsWith("<script")&&!r.script&&s!="head"?s="script":o.startsWith("<head")&&!r.script?s="head":o.startsWith("<style")?s="style":o.endsWith("<\/script>")&&s==="script"&&!r.script?(r.script=n.join(`
`),n=[],s=null):o.endsWith("</style>")&&s==="style"?(r.style=n.join(`
`),n=[],s=null):(o.endsWith("</head>")||o.endsWith("</header>"))&&s==="head"?(r.head=n.join(`
`),n=[],s=null):s?n.push(o):r.html+=o+`
`;if(r.head){let a=Fez.domRoot(r.head);Array.from(a.children).forEach(u=>{if(u.tagName==="SCRIPT"){let d=document.createElement("script");Array.from(u.attributes).forEach(m=>{d.setAttribute(m.name,m.value)}),d.type||="text/javascript",u.src?document.head.appendChild(d):(d.type.includes("javascript")||d.type=="module")&&(d.textContent=u.textContent,document.head.appendChild(d))}else document.head.appendChild(u.cloneNode(!0))})}let i=r.script;return/class\s+\{/.test(i)||(i=`class {
${i}
}`),String(r.style).includes(":")&&(r.style=Fez.cssMixin(r.style),r.style=r.style.includes(":fez")||/(?:^|\s)body\s*\{/.test(r.style)?r.style:`:fez {
${r.style}
}`,i=i.replace(/\}\s*$/,`
  CSS = \`${r.style}\`
}`)),/\w/.test(String(r.html))&&(r.html=r.html.replaceAll("`","&#x60;"),r.html=r.html.replaceAll("$","\\$"),i=i.replace(/\}\s*$/,`
  HTML = \`${r.html}\`
}`)),i};function Q(t){if(t instanceof Node){let r=t;r.remove();let e=r.getAttribute("fez");if(e&&(e.includes(".")||e.includes("/"))){ct(e);return}else{e&&!e.includes("-")&&console.error(`Fez: Invalid custom element name "${e}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),q(e,r.innerHTML);return}}else{(t?Fez.domRoot(t):document.body).querySelectorAll("template[fez], xmp[fez]").forEach(e=>{Q(e)});return}}function ct(t){Fez.consoleLog(`Loading from ${t}`),Fez.fetch(t).then(r=>{let s=new DOMParser().parseFromString(r,"text/html").querySelectorAll("template[fez], xmp[fez]");if(s.length>0)s.forEach(o=>{let i=o.getAttribute("fez");i&&!i.includes("-")&&!i.includes(".")&&!i.includes("/")&&console.error(`Fez: Invalid custom element name "${i}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let a=o.innerHTML;q(i,a)});else{let o=t.split("/").pop().split(".")[0];q(o,r)}}).catch(r=>{Fez.onError("compile",`Template load error for "${t}": ${r.message}`)})}function q(t,r){if(arguments.length===1)return Q(t);if(r&&r.includes("</xmp>"))return Q(r);t&&!t.includes("-")&&!t.includes(".")&&!t.includes("/")&&console.error(`Fez: Invalid custom element name "${t}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let e=lt(r),n=e.split(/class\s+\{/,2);if(e=`${n[0]};

window.Fez('${t}', class {
${n[1]})`,t){let s=document.getElementById("fez-hidden-styles");s||(s=document.createElement("style"),s.id="fez-hidden-styles",document.head.appendChild(s));let o=[...Object.keys(Fez.classes),t].sort().join(", ");s.textContent=`${o} { display: none; }
`}if(e.includes("import "))Fez.head({script:e}),setTimeout(()=>{Fez.classes[t]||Fez.consoleError(`Template "${t}" possible compile error. (can be a false positive, it imports are not loaded)`)},2e3);else try{new Function(e)()}catch(s){Fez.consoleError(`Template "${t}" compile error: ${s.message}`),console.log(e)}}var me=q;var at={data:{},listeners:new Map,subscribers:new Map,globalSubscribers:new Set,notify(t,r,e){Fez.consoleLog(`Global state change for ${t}: ${r} (from ${e})`);let n=this.listeners.get(t);n&&n.forEach(o=>{o.isConnected?(o.onGlobalStateChange(t,r,e),o.fezRender()):n.delete(o)});let s=this.subscribers.get(t);s&&s.forEach(o=>{try{o(r,e,t)}catch(i){console.error(`Error in subscriber for key ${t}:`,i)}}),this.globalSubscribers.forEach(o=>{try{o(t,r,e)}catch(i){console.error("Error in global subscriber:",i)}})},createProxy(t){return new Proxy({},{get:(r,e)=>(t._globalStateKeys||=new Set,t._globalStateKeys.has(e)||(t._globalStateKeys.add(e),this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)),this.data[e]),set:(r,e,n)=>{let s=this.data[e];return s!==n&&(this.data[e]=n,this.notify(e,n,s)),!0}})},set(t,r){let e=this.data[t];e!==r&&(this.data[t]=r,this.notify(t,r,e))},get(t){return this.data[t]},forEach(t,r){let e=this.listeners.get(t);e&&e.forEach(n=>{n.isConnected?r(n):e.delete(n)})},subscribe(t,r){if(typeof t=="function")return this.globalSubscribers.add(t),()=>this.globalSubscribers.delete(t);{let e=t;return this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e).add(r),()=>{let n=this.subscribers.get(e);n&&(n.delete(r),n.size===0&&this.subscribers.delete(e))}}}},be=at;var ge=t=>{t.head=(s,o)=>{if(s.nodeName){s.nodeName=="SCRIPT"?(t.head({script:s.innerText}),s.remove()):(s.querySelectorAll("script").forEach(g=>t.head(g)),s.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(g=>t.compile(g)));return}if(typeof s!="object"||s===null)throw new Error("head requires an object parameter");let i,a={},u;if(s.script){if(s.script.includes("import ")){o&&t.consoleError("Fez.head callback is not supported when script with import is passed (module context).");let g=document.createElement("script");g.type="module",g.textContent=s.script,document.head.appendChild(g),requestAnimationFrame(()=>g.remove())}else try{new Function(s.script)(),o&&o()}catch(g){t.consoleError("Error executing script:",g),console.log(s.script)}return}else if(s.js){i=s.js,u="script";for(let[g,A]of Object.entries(s))g!=="js"&&g!=="module"&&(a[g]=A);s.module&&(a.type="module")}else if(s.css){i=s.css,u="link",a.rel="stylesheet";for(let[g,A]of Object.entries(s))g!=="css"&&(a[g]=A)}else throw new Error('head requires either "script", "js" or "css" property');let d=document.querySelector(`${u}[src="${i}"], ${u}[href="${i}"]`);if(d)return o&&o(),d;let m=document.createElement(u);u==="link"?m.href=i:m.src=i;for(let[g,A]of Object.entries(a))m.setAttribute(g,A);return(o||s.module)&&(m.onload=()=>{s.module&&u==="script"&&import(i).then(g=>{window[s.module]=g.default||g[s.module]||g}).catch(g=>{console.error(`Error importing module ${s.module}:`,g)}),o&&o()}),document.head.appendChild(m),m};let r=5*60*1e3,e=100;t.fetch=function(...s){t._fetchCache||=new Map;let o="GET",i,a;typeof s[0]=="string"&&/^[A-Z]+$/.test(s[0])&&(o=s.shift()),i=s.shift();let u={},d=null;if(typeof s[0]=="object"&&(d=s.shift()),typeof s[0]=="function"&&(a=s.shift()),d){if(o==="GET"){let y=new URLSearchParams(d);i+=(i.includes("?")?"&":"?")+y.toString()}else if(o==="POST"){let y=new FormData;for(let[C,T]of Object.entries(d))y.append(C,T);u.body=y}}u.method=o;let m=`${o}:${i}:${JSON.stringify(u)}`,g=t._fetchCache.get(m);if(g&&Date.now()-g.timestamp<r){if(t.consoleLog(`fetch cache hit: ${o} ${i}`),a){a(g.data);return}return Promise.resolve(g.data)}t.consoleLog(`fetch live: ${o} ${i}`);let A=y=>y.headers.get("content-type")?.includes("application/json")?y.json():y.text(),v=(y,C)=>{if(t._fetchCache.size>=e){let T=t._fetchCache.keys().next().value;t._fetchCache.delete(T)}t._fetchCache.set(y,{data:C,timestamp:Date.now()})};if(a){fetch(i,u).then(A).then(y=>{v(m,y),a(y)}).catch(y=>t.onError("fetch",y));return}return fetch(i,u).then(A).then(y=>(v(m,y),y))},t.clearFetchCache=()=>{t._fetchCache?.clear()},t.darkenColor=(s,o=20)=>{let i=parseInt(s.replace("#",""),16),a=Math.round(2.55*o),u=(i>>16)-a,d=(i>>8&255)-a,m=(i&255)-a;return"#"+(16777216+(u<255?u<1?0:u:255)*65536+(d<255?d<1?0:d:255)*256+(m<255?m<1?0:m:255)).toString(16).slice(1)},t.lightenColor=(s,o=20)=>{let i=parseInt(s.replace("#",""),16),a=Math.round(2.55*o),u=(i>>16)+a,d=(i>>8&255)+a,m=(i&255)+a;return"#"+(16777216+(u<255?u<1?0:u:255)*65536+(d<255?d<1?0:d:255)*256+(m<255?m<1?0:m:255)).toString(16).slice(1)},t.htmlEscape=s=>typeof s=="string"?s.replace(/font-family\s*:\s*(?:&[^;]+;|[^;])*?;/gi,"").replaceAll("&","&amp;").replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;"):s===void 0?"":s,t.domRoot=(s,o="div")=>{if(s instanceof Node)return s;{let i=document.createElement(o);return i.innerHTML=s,i}},t.activateNode=(s,o="active")=>{!s||!s.parentElement||(Array.from(s.parentElement.children).forEach(i=>{i.classList.remove(o)}),s.classList.add(o))},t.isTrue=s=>["1","true","on"].includes(String(s).toLowerCase()),t.UID=111,t.uid=()=>"fez_uid_"+(++t.UID).toString(32),t.POINTER_SEQ=0,t.POINTER={},t.pointer=(s,o={})=>{if(typeof s=="function"){let i=++t.POINTER_SEQ;return o.persist?t.POINTER[i]=s:t.POINTER[i]=(...a)=>{let u=s(...a);return delete t.POINTER[i],u},`Fez.POINTER[${i}]`}},t.clearPointers=()=>{t.POINTER={}},t.getFunction=s=>{if(s){if(typeof s=="function")return s;if(typeof s=="string"){let o=/^\s*\(?\s*\w+(\s*,\s*\w+)*\s*\)?\s*=>/,i=/^\s*function\s*\(/;return o.test(s)||i.test(s)?new Function("return "+s)():s.includes(".")&&!s.includes("(")?new Function(`return function() { return ${s}(); }`):new Function(s)}}else return()=>{}},t.onReady=s=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{s()},{once:!0}):s()},t.fnv1=s=>{var o,i,a,u,d,m;for(o=2166136261,i=16777619,a=o,u=d=0,m=s.length-1;0<=m?d<=m:d>=m;u=0<=m?++d:--d)a^=s.charCodeAt(u),a*=i;return a.toString(36).replaceAll("-","")},t.tag=(s,o={},i="")=>{let a=encodeURIComponent(JSON.stringify(o));return`<${s} data-props="${a}">${i}</${s}>`},t.untilTrue=(s,o)=>{o||=200,s()||setTimeout(()=>{t.untilTrue(s,o)},o)};let n=200;t.throttle=(s,o=n)=>{let i=0,a;return function(...u){let d=Date.now();d-i>=o?(s.apply(this,u),i=d):(clearTimeout(a),a=setTimeout(()=>{s.apply(this,u),i=Date.now()},o-(d-i)))}}};var ye={},ze=t=>{t.cssMixin=(r,e)=>{if(e)ye[r]=e;else return Object.entries(ye).forEach(([n,s])=>{r=r.replaceAll(`:${n} `,`${s} `),r=r.replaceAll(`@include ${n} `,`${s} `)}),r},t.cssMixin("mobile","@media (max-width: 767px)"),t.cssMixin("tablet","@media (min-width: 768px) and (max-width: 1023px)"),t.cssMixin("desktop","@media (min-width:  1200px)")};var z=(t,r)=>{if(typeof t=="number"){let e=z.instances.get(t);if(e)return e;z.consoleError(`Instance with UID "${t}" not found.`)}else if(t)if(r)if(typeof r=="function"&&!/^\s*class/.test(r.toString())&&!/\b(this|new)\b/.test(r.toString())){let n=Array.from(document.querySelectorAll(`.fez.fez-${t}`)).filter(s=>s.fez);return n.forEach(s=>r(s.fez)),n}else return typeof r!="function"?z.find(t,r):Y(t,r);else{let e=t.nodeName?t.closest(".fez"):document.querySelector(t.includes("#")?t:`.fez.fez-${t}`);if(e){if(e.fez)return e.fez;z.consoleError(`node "${t}" has no Fez attached.`)}else z.consoleError(`node "${t}" not found.`)}else z.consoleError("Fez() ?")};z.classes={};z.instanceCount=0;z.instances=new Map;z.find=(t,r)=>{let e=t;typeof e=="string"&&(e=document.body.querySelector(e)),typeof e.val=="function"&&(e=e[0]);let n=r?`.fez.fez-${r}`:".fez",s=e.closest(n);if(s&&s.fez)return s.fez;z.onError("find","Node connector not found",{original:t,resolved:e})};z.cssClass=t=>ce.css(t);z.globalCss=(t,r={})=>{if(typeof t=="function"&&(t=t()),t.includes(":")){let e=t.split(`
`).filter(n=>!/^\s*\/\//.test(n)).join(`
`);r.wrap&&(e=`:fez { ${e} }`),e=e.replace(/\:fez|\:host/,`.fez.fez-${r.name}`),t=z.cssClass(e)}return z.onReady(()=>{document.body.parentElement.classList.add(t)}),t};z.info=()=>{console.log("Fez components:",Object.keys(z.classes||{}))};z.morphdom=(t,r,e={})=>{Array.from(t.attributes).forEach(s=>{r.setAttribute(s.name,s.value)}),ae.morph(t,r,{morphStyle:"outerHTML"});let n=t.nextSibling;n?.nodeType===Node.TEXT_NODE&&n.textContent.trim()===""&&n.remove()};z._globalSubs||=new Map;z.publish=(t,...r)=>{z._subs||={},z._subs[t]||=[],z._subs[t].forEach(n=>{n[1].bind(n[0])(...r)});let e=z._globalSubs.get(t);e&&e.forEach(n=>{n.node&&n.node.isConnected?n.callback.call(n.node,...r):e.delete(n)})};z.subscribe=(t,r,e)=>{typeof r=="function"&&(e=r,r=t,t=document.body),typeof t=="string"&&(t=document.querySelector(t)),z._globalSubs.has(r)||z._globalSubs.set(r,new Set);let n=z._globalSubs.get(r);n.forEach(o=>{o.node===t&&o.callback===e&&n.delete(o)});let s={node:t,callback:e};return n.add(s),()=>{n.delete(s)}};z.consoleError=(t,r)=>{if(t=`Fez: ${t}`,console.error(t),r)return`<span style="border: 1px solid red; font-size: 14px; padding: 3px 7px; background: #fee; border-radius: 4px;">${t}</span>`};z.consoleLog=t=>{z.LOG===!0&&(t=String(t).substring(0,180),console.log(`Fez: ${t}`))};z.onError=(t,r,e)=>{let n=`Fez ${t}: ${r?.toString?.()||r}`;return console.error(n,e||""),n};z.store={store:new Map,counter:0,set(t){let r=this.counter++;return this.store.set(r,t),r},get(t){return this.store.get(t)},delete(t){let r=this.store.get(t);return this.store.delete(t),r}};ge(z);ze(z);z.compile=me;z.state=be;z.log=fe;z.highlightAll=de;z.onReady(()=>{z.consoleLog("Fez.LOG === true, logging enabled.")});var O=z;typeof window<"u"&&(window.FezBase=F);typeof window<"u"&&(window.Fez=O);Promise.resolve().then(()=>Ae());var ft=5e3;setInterval(()=>{for(let[t,r]of O.instances)r?.isConnected||(r.fez?.fezOnDestroy(),O.instances.delete(t))},ft);var ut=new MutationObserver(t=>{for(let{addedNodes:r,removedNodes:e}of t)r.forEach(n=>{n.nodeType===1&&(n.matches("template[fez], xmp[fez], script[fez]")&&(O.compile(n),n.remove()),n.querySelectorAll&&n.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(o=>{O.compile(o),o.remove()}))}),e.forEach(n=>{n.nodeType===1&&n.querySelectorAll&&n.querySelectorAll(".fez, :scope.fez").forEach(o=>{o.fez&&o.root&&(O.instances.delete(o.fez.UID),o.fez.fezOnDestroy())})})});ut.observe(document.documentElement,{childList:!0,subtree:!0});var Jt=O;})();
//# sourceMappingURL=fez.js.map
