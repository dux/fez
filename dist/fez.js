(()=>{var Me=Object.defineProperty;var Le=(r,e)=>()=>(r&&(e=r(r=0)),e);var Fe=(r,e)=>{for(var t in e)Me(r,t,{get:e[t],enumerable:!0})};var pe={};Fe(pe,{loadDefaults:()=>de});var de,he=Le(()=>{de=()=>{Fez("fez-component",class{init(e){let t=document.createElement(e.name);for(t.props=e.props||e["data-props"]||e;this.root.firstChild;)this.root.parentNode.insertBefore(this.root.lastChild,t.nextSibling);this.root.innerHTML="",this.root.appendChild(t)}}),Fez("fez-include",class{init(e){Fez.fetch(e.src,t=>{let s=Fez.domRoot(t);Fez.head(s),this.root.innerHTML=s.innerHTML})}}),Fez("fez-inline",class{init(e){e["wait-for"]||=()=>!0,Fez.untilTrue(()=>{if(e["wait-for"]())return this.mountIt(),!0},100)}mountIt(){let e=this.root.innerHTML;if(e){let s=`inline-${Fez.fnv1(this.root.outerHTML)}`;Fez(s,class{HTML=e;init(){Object.assign(this.state,this.props.state||{})}});let o=document.createElement(s);this.root.after(this.root.lastChild,o),this.root.remove()}}}),Fez("fez-if",class{init(e){new Function(`return (${e.if||e.test})`)()||this.root.remove()}});let r=new Map;Fez("fez-memoize",class{init(e){if(!e.key){Fez.consoleError("fez-memoize: key prop is required");return}if(r.has(e.key)){let t=r.get(e.key);Fez.consoleLog(`Memoize - key: "${e.key}" - restore`),this.root.innerHTML="",this.root.appendChild(t.cloneNode(!0))}}onMount(e){r.has(e.key)||requestAnimationFrame(()=>{let t=document.createElement("div");t.innerHTML=this.root.innerHTML,Fez.consoleLog(`Memoize - key: "${e.key}" - set`),r.set(e.key,t)})}})};typeof Fez<"u"&&Fez&&de()});function D(r,e={},t){if(typeof e=="string"&&([e,t]=[t,e],e||={}),e instanceof Node&&(t=e,e={}),Array.isArray(r)&&(t=r,r="div"),(typeof e!="object"||Array.isArray(e))&&(t=e,e={}),r.includes(".")){let o=r.split(".");r=o.shift()||"div";let i=o.join(" ");e.class?e.class+=` ${i}`:e.class=i}let s=document.createElement(r);for(let[o,i]of Object.entries(e))if(typeof i=="function")s[o]=i.bind(this);else{let n=String(i).replaceAll("fez.",this.fezHtmlRoot);s.setAttribute(o,n)}if(t)if(Array.isArray(t))for(let o of t)s.appendChild(o);else t instanceof Node?s.appendChild(t):s.innerHTML=String(t);return s}function xe(r,e){if(r=r.replace(/^#?raw/,"@html").replace(/^#?html/,"@html"),r.startsWith("#if")||r.startsWith("if"))return e.push(!1),r=r.replace(/^#?if/,""),`\${ ${r} ? \``;if(r.startsWith("#unless")||r.startsWith("unless"))return e.push(!1),r=r.replace(/^#?unless/,""),`\${ !(${r}) ? \``;if(r=="/block")return"`) && ''}";if(r.startsWith("#for")||r.startsWith("for")){r=r.replace(/^#?for/,"");let t=r.split(" in ",2);return"${"+t[1]+".map(("+t[0]+")=>`"}else if(r.startsWith("#each")||r.startsWith("each")){r=r.replace(/^#?each/,"");let t=r.split(" as ",2);return"${"+t[0]+".map(("+t[1]+")=>`"}else{if(r==":else"||r=="else")return e[e.length-1]=!0,"` : `";if(r=="/if"||r=="/unless")return e.pop()?"`}":"` : ``}";if(r=="/for"||r=="/each")return'`).join("")}';{let t="@html ";return r.startsWith("json ")&&(r=r.replace("json ","@html '<pre class=json>'+JSON.stringify("),r+=", null, 2) + '</pre>'"),r.startsWith(t)?r=r.replace(t,""):r=`Fez.htmlEscape(${r})`,"${"+r+"}"}}}function _(r,e={}){let t=[];r=r.replaceAll("[[","{{").replaceAll("]]","}}"),r=r.replace(/(\w+)=\{\{\s*(.*?)\s*\}\}([\s>])/g,(i,n,f,u)=>`${n}="{{ ${f} }}"${u}`);let s={};r=r.replace(/\{\{block\s+(\w+)\s*\}\}([^ยง]+)\{\{\/block\}\}/g,(i,n,f)=>(s[n]=f,"")),r=r.replace(/\{\{block:([\w\-]+)\s*\}\}/g,(i,n)=>s[n]||`block:${n}?`),r=r.replace(/:(\w+)="([\w\.\[\]]+)"/,(i,n,f)=>`:${n}=Fez.store.delete({{ Fez.store.set(${f}) }})`);let o=r.replace(/{{(.*?)}}/g,(i,n)=>(n=n.replaceAll("&#x60;","`"),n=n.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),xe(n,t)));o=o.replace(/<!\-\-.*?\-\->/g,"").replace(/>\s+</g,"><"),o="`"+o.trim()+"`";try{let i=`const fez = this;
      with (this) {
        return ${o}
      }
    `,n=new Function(i);return u=>{try{return n.bind(u)()}catch(d){d.message=`FEZ template runtime error: ${d.message}

Template source: ${o}`,console.error(d)}}}catch(i){return i.message=`FEZ template compile error: ${i.message}Template source:
${o}`,console.error(i),()=>Fez.consoleError("Template Compile Error",!0)}}var x=class{static getProps(e,t){let s={};if(e.props)return e.props;for(let o of e.attributes)s[o.name]=o.value;for(let[o,i]of Object.entries(s))if([":"].includes(o[0])){delete s[o];try{let n=new Function(`return (${i})`).bind(t)();s[o.replace(/[\:_]/,"")]=n}catch(n){console.error(`Fez: Error evaluating attribute ${o}="${i}" for ${e.tagName}: ${n.message}`)}}if(s["data-props"]){let o=s["data-props"];if(typeof o=="object")return o;o[0]!="{"&&(o=decodeURIComponent(o));try{s=JSON.parse(o)}catch(i){console.error(`Fez: Invalid JSON in data-props for ${e.tagName}: ${i.message}`)}}else if(s["data-json-template"]){let o=t.previousSibling?.textContent;if(o)try{s=JSON.parse(o),t.previousSibling.remove()}catch(i){console.error(`Fez: Invalid JSON in template for ${e.tagName}: ${i.message}`)}}return s}static formData(e){let t=e.closest("form")||e.querySelector("form");if(!t)return Fez.consoleLog("No form found for formData()"),{};let s=new FormData(t),o={};return s.forEach((i,n)=>{o[n]=i}),o}static nodeName="div";constructor(){}n=D;get fezHtmlRoot(){return`Fez(${this.UID}).`}get isConnected(){return this.root?.isConnected?!0:(this.fezOnDestroy(),!1)}prop(e){let t=this.oldRoot[e]||this.props[e];return typeof t=="function"&&(t=t.bind(this.root)),t}copy(){for(let e of Array.from(arguments)){let t=this.props[e];if(t!==void 0){if(e=="class"){let s=this.root.getAttribute(e,t);s&&(t=[s,t].join(" "))}typeof t=="string"?this.root.setAttribute(e,t):this.root[e]=t}}}fezOnDestroy(){this._onDestroyCallbacks&&(this._onDestroyCallbacks.forEach(e=>{try{e()}catch(t){console.error("Fez: Error in cleanup callback:",t)}}),this._onDestroyCallbacks=[]),this.onDestroy(),this.onDestroy=()=>{},this.root&&(this.root.fez=void 0),this.root=void 0}addOnDestroy(e){this._onDestroyCallbacks=this._onDestroyCallbacks||[],this._onDestroyCallbacks.push(e)}on(e,t,s=200){this._eventHandlers=this._eventHandlers||{},this._eventHandlers[e]&&window.removeEventListener(e,this._eventHandlers[e]);let o=Fez.throttle(()=>{this.isConnected&&t.call(this)},s);this._eventHandlers[e]=o,window.addEventListener(e,o),this.addOnDestroy(()=>{window.removeEventListener(e,o),delete this._eventHandlers[e]})}onWindowResize(e,t){this.on("resize",e,t),e()}onWindowScroll(e,t){this.on("scroll",e,t),e()}onElementResize(e,t,s=200){let o=Fez.throttle(()=>{this.isConnected&&t.call(this,e.getBoundingClientRect(),e)},s),i=new ResizeObserver(o);i.observe(e),t.call(this,e.getBoundingClientRect(),e),this.addOnDestroy(()=>{i.disconnect()})}slot(e,t){t||=document.createElement("template");let s=t.nodeName=="SLOT";for(;e.firstChild;)s?t.parentNode.insertBefore(e.lastChild,t.nextSibling):t.appendChild(e.firstChild);return s?t.parentNode.removeChild(t):e.innerHTML="",t}setStyle(e,t){e&&typeof e=="object"?Object.entries(e).forEach(([s,o])=>{this.root.style.setProperty(s,o)}):this.root.style.setProperty(e,t)}connect(){}onMount(){}beforeRender(){}afterRender(){}onDestroy(){}onStateChange(){}onGlobalStateChange(){}publish(e,...t){let s=i=>{if(Fez._subs&&Fez._subs[e]){let n=Fez._subs[e].find(([f])=>f===i);if(n)return n[1].bind(i)(...t),!0}return!1};if(s(this))return!0;let o=this.root.parentElement;for(;o;){if(o.fez&&s(o.fez))return!0;o=o.parentElement}return!1}fezBlocks={};parseHtml(e){let t=this.fezHtmlRoot.replaceAll('"',"&quot;");return e=e.replace(/([!'"\s;])fez\.(\w)/g,`$1${t}$2`).replace(/>\s+</g,"><"),e.trim()}nextTick(e,t){t?(this._nextTicks||={},this._nextTicks[t]||=window.requestAnimationFrame(()=>{e.bind(this)(),this._nextTicks[t]=null},t)):window.requestAnimationFrame(e.bind(this))}render(e){if(e||=this?.class?.fezHtmlFunc,!e||!this.root)return;this.beforeRender();let t=typeof this.class.nodeName=="function"?this.class.nodeName(this.root):this.class.nodeName,s=document.createElement(t||"div"),o;Array.isArray(e)?e[0]instanceof Node?e.forEach(i=>s.appendChild(i)):o=e.join(""):typeof e=="string"?o=_(e)(this):typeof e=="function"&&(o=e(this)),o&&(o=o.replace(/\s\w+="undefined"/g,""),s.innerHTML=this.parseHtml(o)),this.fezKeepNode(s),this.fezMemoization(s),Fez.morphdom(this.root,s),this.fezRenderPostProcess(),this.afterRender()}fezRenderPostProcess(){let e=(t,s)=>{this.root.querySelectorAll(`*[${t}]`).forEach(o=>{let i=o.getAttribute(t);o.removeAttribute(t),i&&s.bind(this)(i,o)})};e("fez-this",(t,s)=>{new Function("n",`this.${t} = n`).bind(this)(s)}),e("fez-use",(t,s)=>{if(t.includes("=>"))Fez.getFunction(t)(s);else if(t.includes("."))Fez.getFunction(t).bind(s)();else{let o=this[t];typeof o=="function"?o(s):console.error(`Fez error: "${t}" is not a function in ${this.fezName}`)}}),e("fez-class",(t,s)=>{let o=t.split(/\s+/),i=o.pop();o.forEach(n=>s.classList.add(n)),i&&setTimeout(()=>{s.classList.add(i)},1)}),e("fez-bind",(t,s)=>{if(["INPUT","SELECT","TEXTAREA"].includes(s.nodeName)){let o=new Function(`return this.${t}`).bind(this)(),i=s.type.toLowerCase()=="checkbox",n=["SELECT"].includes(s.nodeName)||i?"onchange":"onkeyup";s.setAttribute(n,`${this.fezHtmlRoot}${t} = this.${i?"checked":"value"}`),this.val(s,o)}else console.error(`Cant fez-bind="${t}" to ${s.nodeName} (needs INPUT, SELECT or TEXTAREA. Want to use fez-this?).`)}),this.root.querySelectorAll("*[disabled]").forEach(t=>{let s=t.getAttribute("disabled");["false"].includes(s)?t.removeAttribute("disabled"):t.setAttribute("disabled","true")})}fezKeepNode(e){e.querySelectorAll("[fez-keep]").forEach(t=>{let s=t.getAttribute("fez-keep"),o=this.root.querySelector(`[fez-keep="${s}"]`);if(o)t.parentNode.replaceChild(o,t);else if(s==="default-slot")if(t.getAttribute("hide")){this.state=null;let i=t.parentNode;Array.from(this.root.childNodes).forEach(n=>{i.insertBefore(n,t)}),t.remove()}else Array.from(this.root.childNodes).forEach(i=>{t.appendChild(i)})})}fezMemoization(e){let t=e.querySelector("[fez-memoize]:not(.fez)");if(!t)return;this.fezMemoStore||=new Map;let s=t.getAttribute("fez-memoize"),o=this.fezMemoStore.get(s);if(o)Fez.consoleLog(`Memoize restore ${this.fezName}: ${s}`),t.parentNode.replaceChild(o.cloneNode(!0),t);else{let i=this.root.querySelector("[fez-memoize]:not(.fez)");if(i){let n=i.getAttribute("fez-memoize");this.fezMemoStore.set(n,i.cloneNode(!0))}}}refresh(e){if(alert("NEEDS FIX and remove htmlTemplate"),e){let s=Fez.domRoot(this.class.htmlTemplate).querySelector(e).innerHTML;this.render(e,s)}else this.render()}setInterval(e,t,s){typeof e=="number"&&([t,e]=[e,t]),s||=Fez.fnv1(String(e)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[s]);let o=setInterval(()=>{this.isConnected&&e()},t);return this._setIntervalCache[s]=o,this.addOnDestroy(()=>{clearInterval(o),delete this._setIntervalCache[s]}),o}find(e){return typeof e=="string"?this.root.querySelector(e):e}val(e,t){let s=this.find(e);if(s)if(["INPUT","TEXTAREA","SELECT"].includes(s.nodeName))if(typeof t<"u")s.type=="checkbox"?s.checked=!!t:s.value=t;else return s.value;else if(typeof t<"u")s.innerHTML=t;else return s.innerHTML}formData(e){return this.class.formData(e||this.root)}attr(e,t){return typeof t>"u"?this.root.getAttribute(e):(this.root.setAttribute(e,t),t)}childNodes(e){let t=Array.from(this.root.children);if(e){let s=document.createElement("div");s.style.display="none",document.body.appendChild(s),t.forEach(o=>s.appendChild(o)),t=Array.from(s.children).map(e),document.body.removeChild(s)}return t}subscribe(e,t){Fez._subs||={},Fez._subs[e]||=[],Fez._subs[e]=Fez._subs[e].filter(s=>s[0].isConnected),Fez._subs[e].push([this,t])}rootId(){return this.root.id||=`fez_${this.UID}`,this.root.id}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.reactiveStore(),this.globalState=Fez.state.createProxy(this),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(t=>t!=="constructor"&&typeof this[t]=="function").forEach(t=>this[t]=this[t].bind(this))}dissolve(e){e&&(e.classList.add("fez"),e.classList.add(`fez-${this.fezName}`),e.fez=this,this.attr("id")&&e.setAttribute("id",this.attr("id")),this.root.innerHTML="",this.root.appendChild(e));let t=this.root,s=this.childNodes(),o=this.root.parentNode;return s.reverse().forEach(i=>o.insertBefore(i,t.nextSibling)),this.root.remove(),this.root=void 0,e&&(this.root=e),s}reactiveStore(e,t){e||={},t||=(o,i,n,f)=>{n!=f&&(this.onStateChange(i,n,f),this.nextTick(this.render,"render"))},t.bind(this);function s(o,i){return typeof o!="object"||o===null?o:new Proxy(o,{set(n,f,u,d){let g=Reflect.get(n,f,d);if(g!==u){typeof u=="object"&&u!==null&&(u=s(u,i));let v=Reflect.set(n,f,u,d);return i(n,f,u,g),v}return!0},get(n,f,u){let d=Reflect.get(n,f,u);return typeof d=="object"&&d!==null?s(d,i):d}})}return s(e,t)}};var Ie={data:""},Z=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Ie,Oe=r=>{let e=Z(r),t=e.data;return e.data="",t},_e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ne=/\/\*[^]*?\*\/|  +/g,J=/\n+/g,T=(r,e)=>{let t="",s="",o="";for(let i in r){let n=r[i];i[0]=="@"?i[1]=="i"?t=i+" "+n+";":s+=i[1]=="f"?T(n,i):i+"{"+T(n,i[1]=="k"?"":e)+"}":typeof n=="object"?s+=T(n,e?e.replace(/([^,])+/g,f=>i.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,f):f?f+" "+u:u)):i):n!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=T.p?T.p(i,n):i+":"+n+";")}return t+(e&&o?e+"{"+o+"}":o)+s},w={},Y=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Y(r[t]);return e}return r},ke=(r,e,t,s,o)=>{let i=Y(r),n=w[i]||(w[i]=(u=>{let d=0,g=11;for(;d<u.length;)g=101*g+u.charCodeAt(d++)>>>0;return"go"+g})(i));if(!w[n]){let u=i!==r?r:(d=>{let g,v,M=[{}];for(;g=_e.exec(d.replace(Ne,""));)g[4]?M.shift():g[3]?(v=g[3].replace(J," ").trim(),M.unshift(M[0][v]=M[0][v]||{})):M[0][g[1]]=g[2].replace(J," ").trim();return M[0]})(r);w[n]=T(o?{["@keyframes "+n]:u}:u,t?"":"."+n)}let f=t&&w.g?w.g:null;return t&&(w.g=w[n]),((u,d,g,v)=>{v?d.data=d.data.replace(v,u):d.data.indexOf(u)===-1&&(d.data=g?u+d.data:d.data+u)})(w[n],e,s,f),n},Re=(r,e,t)=>r.reduce((s,o,i)=>{let n=e[i];if(n&&n.call){let f=n(t),u=f&&f.props&&f.props.className||/^go/.test(f)&&f;n=u?"."+u:f&&typeof f=="object"?f.props?"":T(f,""):f===!1?"":f}return s+o+(n??"")},"");function k(r){let e=this||{},t=r.call?r(e.p):r;return ke(t.unshift?t.raw?Re(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,Z(e.target),e.g,e.o,e.k)}var Q,H,P,je=k.bind({g:1}),De=k.bind({k:1});function He(r,e,t,s){T.p=e,Q=r,H=t,P=s}function Pe(r,e){let t=this||{};return function(){let s=arguments;function o(i,n){let f=Object.assign({},i),u=f.className||o.className;t.p=Object.assign({theme:H&&H()},f),t.o=/ *go\d+/.test(u),f.className=k.apply(t,s)+(u?" "+u:""),e&&(f.ref=n);let d=r;return r[0]&&(d=f.as||r,delete f.as),P&&d[0]&&P(f),Q(d,f)}return e?e(o):o}}var ee={css:k,extractCss:Oe,glob:je,keyframes:De,setup:He,styled:Pe};var te=function(){"use strict";let r=new Set,e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:A,afterNodeAdded:A,beforeNodeMorphed:A,afterNodeMorphed:A,beforeNodeRemoved:A,afterNodeRemoved:A,beforeAttributeUpdated:A},head:{style:"merge",shouldPreserve:function(l){return l.getAttribute("im-preserve")==="true"},shouldReAppend:function(l){return l.getAttribute("im-re-append")==="true"},shouldRemove:A,afterHeadMorphed:A}};function t(l,c,a={}){l instanceof Document&&(l=l.documentElement),typeof c=="string"&&(c=ze(c));let p=Ee(c),h=be(l,p,a);return s(l,p,h)}function s(l,c,a){if(a.head.block){let p=l.querySelector("head"),h=c.querySelector("head");if(p&&h){let m=v(h,p,a);Promise.all(m).then(function(){s(l,c,Object.assign(a,{head:{block:!1,ignore:!0}}))});return}}if(a.morphStyle==="innerHTML")return n(c,l,a),l.children;if(a.morphStyle==="outerHTML"||a.morphStyle==null){let p=Se(c,l,a),h=p?.previousSibling,m=p?.nextSibling,y=i(l,p,a);return p?ve(h,y,m):[]}else throw"Do not understand how to morph style "+a.morphStyle}function o(l,c){return c.ignoreActiveValue&&l===document.activeElement&&l!==document.body}function i(l,c,a){if(!(a.ignoreActive&&l===document.activeElement))return c==null?a.callbacks.beforeNodeRemoved(l)===!1?l:(l.remove(),a.callbacks.afterNodeRemoved(l),null):N(l,c)?(a.callbacks.beforeNodeMorphed(l,c)===!1||(l instanceof HTMLHeadElement&&a.head.ignore||(l instanceof HTMLHeadElement&&a.head.style!=="morph"?v(c,l,a):(u(c,l,a),o(l,a)||n(c,l,a))),a.callbacks.afterNodeMorphed(l,c)),l):a.callbacks.beforeNodeRemoved(l)===!1||a.callbacks.beforeNodeAdded(c)===!1?l:(l.parentElement.replaceChild(c,l),a.callbacks.afterNodeAdded(c),a.callbacks.afterNodeRemoved(l),c)}function n(l,c,a){let p=l.firstChild,h=c.firstChild,m;for(;p;){if(m=p,p=m.nextSibling,h==null){if(a.callbacks.beforeNodeAdded(m)===!1)return;c.appendChild(m),a.callbacks.afterNodeAdded(m),L(a,m);continue}if(W(m,h,a)){i(h,m,a),h=h.nextSibling,L(a,m);continue}let y=ge(l,c,m,h,a);if(y){h=V(h,y,a),i(y,m,a),L(a,m);continue}let z=ye(l,c,m,h,a);if(z){h=V(h,z,a),i(z,m,a),L(a,m);continue}if(a.callbacks.beforeNodeAdded(m)===!1)return;c.insertBefore(m,h),a.callbacks.afterNodeAdded(m),L(a,m)}for(;h!==null;){let y=h;h=h.nextSibling,U(y,a)}}function f(l,c,a,p){return l==="value"&&p.ignoreActiveValue&&c===document.activeElement?!0:p.callbacks.beforeAttributeUpdated(l,c,a)===!1}function u(l,c,a){let p=l.nodeType;if(p===1){let h=l.attributes,m=c.attributes;for(let y of h)if(!f(y.name,c,"update",a))try{c.getAttribute(y.name)!==y.value&&c.setAttribute(y.name,y.value)}catch(z){console.error("Error setting attribute:",{badNode:c,badAttribute:y,error:z.message})}for(let y=m.length-1;0<=y;y--){let z=m[y];f(z.name,c,"remove",a)||l.hasAttribute(z.name)||c.removeAttribute(z.name)}}(p===8||p===3)&&c.nodeValue!==l.nodeValue&&(c.nodeValue=l.nodeValue),o(c,a)||g(l,c,a)}function d(l,c,a,p){if(l[a]!==c[a]){let h=f(a,c,"update",p);h||(c[a]=l[a]),l[a]?h||c.setAttribute(a,l[a]):f(a,c,"remove",p)||c.removeAttribute(a)}}function g(l,c,a){if(l instanceof HTMLInputElement&&c instanceof HTMLInputElement&&l.type!=="file"){let p=l.value,h=c.value;d(l,c,"checked",a),d(l,c,"disabled",a),l.hasAttribute("value")?p!==h&&(f("value",c,"update",a)||(c.setAttribute("value",p),c.value=p)):f("value",c,"remove",a)||(c.value="",c.removeAttribute("value"))}else if(l instanceof HTMLOptionElement)d(l,c,"selected",a);else if(l instanceof HTMLTextAreaElement&&c instanceof HTMLTextAreaElement){let p=l.value,h=c.value;if(f("value",c,"update",a))return;p!==h&&(c.value=p),c.firstChild&&c.firstChild.nodeValue!==p&&(c.firstChild.nodeValue=p)}}function v(l,c,a){let p=[],h=[],m=[],y=[],z=a.head.style,F=new Map;for(let E of l.children)F.set(E.outerHTML,E);for(let E of c.children){let S=F.has(E.outerHTML),O=a.head.shouldReAppend(E),j=a.head.shouldPreserve(E);S||j?O?h.push(E):(F.delete(E.outerHTML),m.push(E)):z==="append"?O&&(h.push(E),y.push(E)):a.head.shouldRemove(E)!==!1&&h.push(E)}y.push(...F.values());let K=[];for(let E of y){let S=document.createRange().createContextualFragment(E.outerHTML).firstChild;if(a.callbacks.beforeNodeAdded(S)!==!1){if(S.href||S.src){let O=null,j=new Promise(function(Ce){O=Ce});S.addEventListener("load",function(){O()}),K.push(j)}c.appendChild(S),a.callbacks.afterNodeAdded(S),p.push(S)}}for(let E of h)a.callbacks.beforeNodeRemoved(E)!==!1&&(c.removeChild(E),a.callbacks.afterNodeRemoved(E));return a.head.afterHeadMorphed(c,{added:p,kept:m,removed:h}),K}function M(){}function A(){}function me(l){let c={};return Object.assign(c,e),Object.assign(c,l),c.callbacks={},Object.assign(c.callbacks,e.callbacks),Object.assign(c.callbacks,l.callbacks),c.head={},Object.assign(c.head,e.head),Object.assign(c.head,l.head),c}function be(l,c,a){return a=me(a),{target:l,newContent:c,config:a,morphStyle:a.morphStyle,ignoreActive:a.ignoreActive,ignoreActiveValue:a.ignoreActiveValue,idMap:$e(l,c),deadIds:new Set,callbacks:a.callbacks,head:a.head}}function W(l,c,a){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName?l.id!==""&&l.id===c.id?!0:I(a,l,c)>0:!1}function N(l,c){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName}function V(l,c,a){for(;l!==c;){let p=l;l=l.nextSibling,U(p,a)}return L(a,c),c.nextSibling}function ge(l,c,a,p,h){let m=I(h,a,c),y=null;if(m>0){let z=p,F=0;for(;z!=null;){if(W(a,z,h))return z;if(F+=I(h,z,l),F>m)return null;z=z.nextSibling}}return y}function ye(l,c,a,p,h){let m=p,y=a.nextSibling,z=0;for(;m!=null;){if(I(h,m,l)>0)return null;if(N(a,m))return m;if(N(y,m)&&(z++,y=y.nextSibling,z>=2))return null;m=m.nextSibling}return m}function ze(l){let c=new DOMParser,a=l.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(a.match(/<\/html>/)||a.match(/<\/head>/)||a.match(/<\/body>/)){let p=c.parseFromString(l,"text/html");if(a.match(/<\/html>/))return p.generatedByIdiomorph=!0,p;{let h=p.firstChild;return h?(h.generatedByIdiomorph=!0,h):null}}else{let h=c.parseFromString("<body><template>"+l+"</template></body>","text/html").body.querySelector("template").content;return h.generatedByIdiomorph=!0,h}}function Ee(l){if(l==null)return document.createElement("div");if(l.generatedByIdiomorph)return l;if(l instanceof Node){let c=document.createElement("div");return c.append(l),c}else{let c=document.createElement("div");for(let a of[...l])c.append(a);return c}}function ve(l,c,a){let p=[],h=[];for(;l!=null;)p.push(l),l=l.previousSibling;for(;p.length>0;){let m=p.pop();h.push(m),c.parentElement.insertBefore(m,c)}for(h.push(c);a!=null;)p.push(a),h.push(a),a=a.nextSibling;for(;p.length>0;)c.parentElement.insertBefore(p.pop(),c.nextSibling);return h}function Se(l,c,a){let p;p=l.firstChild;let h=p,m=0;for(;p;){let y=Ae(p,c,a);y>m&&(h=p,m=y),p=p.nextSibling}return h}function Ae(l,c,a){return N(l,c)?.5+I(a,l,c):0}function U(l,c){L(c,l),c.callbacks.beforeNodeRemoved(l)!==!1&&(l.remove(),c.callbacks.afterNodeRemoved(l))}function we(l,c){return!l.deadIds.has(c)}function Te(l,c,a){return(l.idMap.get(a)||r).has(c)}function L(l,c){let a=l.idMap.get(c)||r;for(let p of a)l.deadIds.add(p)}function I(l,c,a){let p=l.idMap.get(c)||r,h=0;for(let m of p)we(l,m)&&Te(l,m,a)&&++h;return h}function X(l,c){let a=l.parentElement,p=l.querySelectorAll("[id]");for(let h of p){let m=h;for(;m!==a&&m!=null;){let y=c.get(m);y==null&&(y=new Set,c.set(m,y)),y.add(h.id),m=m.parentElement}}}function $e(l,c){let a=new Map;return X(l,a),X(c,a),a}return{morph:t,defaults:e}}();var Be=r=>{let e=r.split(/(<\/?[^>]+>)/g).map(o=>o.trim()).filter(o=>o),t=0,s=[];for(let o=0;o<e.length;o++){let i=e[o],n=e[o+1],f=e[o+2];if(i.startsWith("<"))if(!i.startsWith("</")&&!i.endsWith("/>")&&n&&!n.startsWith("<")&&f&&f.startsWith("</")){let u=Math.max(0,t);s.push("  ".repeat(u)+i+n+f),o+=2}else if(i.startsWith("</")){t--;let u=Math.max(0,t);s.push("  ".repeat(u)+i)}else if(i.endsWith("/>")||i.includes(" />")){let u=Math.max(0,t);s.push("  ".repeat(u)+i)}else{let u=Math.max(0,t);s.push("  ".repeat(u)+i),t++}else if(i){let u=Math.max(0,t);s.push("  ".repeat(u)+i)}}return s.join(`
`)},B=(()=>{let r=[],e=[],t=0,s=null;document.addEventListener("keydown",n=>{if(n.key==="Escape"){n.preventDefault();let f=document.getElementById("dump-dialog"),u=document.getElementById("log-reopen-button");f?(f.remove(),o()):u&&(u.remove(),i())}else(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown")&&document.getElementById("dump-dialog")&&r.length>0&&(n.preventDefault(),n.key==="ArrowLeft"&&t>0?(t--,localStorage.setItem("_LOG_INDEX",t),s()):n.key==="ArrowRight"&&t<r.length-1?(t++,localStorage.setItem("_LOG_INDEX",t),s()):n.key==="ArrowUp"&&t>0?(t=Math.max(0,t-5),localStorage.setItem("_LOG_INDEX",t),s()):n.key==="ArrowDown"&&t<r.length-1&&(t=Math.min(r.length-1,t+5),localStorage.setItem("_LOG_INDEX",t),s()))});let o=()=>{let n=document.getElementById("log-reopen-button");n||(n=document.body.appendChild(document.createElement("button")),n.id="log-reopen-button",n.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;margin-right:4px"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>LOG',n.style.cssText="position:fixed; top: 10px; right: 10px;padding:10px 20px;background:#ff3333;color:#fff;border:none;cursor:pointer;font:14px/1.4 monospace;z-index:2147483647;border-radius:8px;display:flex;align-items:center;opacity:1;visibility:visible;box-shadow:0 4px 12px rgba(255,51,51,0.3)",n.onclick=()=>{n.remove(),i()})},i=()=>{let n=document.getElementById("dump-dialog");if(!n){n=document.body.appendChild(document.createElement("div")),n.id="dump-dialog";let u=window.pageYOffset||document.documentElement.scrollTop;n.style.cssText="position:absolute; top:"+(u+20)+"px; left: 20px; right:20px;background:#fff; border:1px solid #333; box-shadow:0 0 10px rgba(0,0,0,0.5);padding:20px; overflow:auto; z-index:2147483646; font:13px/1.4 monospace;white-space:pre; display:block; opacity:1; visibility:visible"}let f=parseInt(localStorage.getItem("_LOG_INDEX"));!isNaN(f)&&f>=0&&f<r.length?t=f:t=r.length-1,s=()=>{let u=r.map((d,g)=>{let v="#f0f0f0";return g!==t&&(e[g]==="object"?v="#d6e3ef":e[g]==="array"&&(v="#d8d5ef")),`<button style="font-size: 14px; font-weight: 400; padding:2px 6px; margin: 0 2px 2px 0;cursor:pointer;background:${g===t?"#333":v};color:${g===t?"#fff":"#000"}" data-index="${g}">${g+1}</button>`}).join("");n.innerHTML='<div style="display:flex;flex-direction:column;height:100%"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px"><div style="display:flex;flex-wrap:wrap;gap:4px;flex:1;margin-right:10px">'+u+'</div><button style="padding:4px 8px;cursor:pointer;flex-shrink:0">&times;</button></div><xmp style="font-family:monospace;flex:1;overflow:auto;margin:0;padding:0;color:#000;background:#fff;font-size:14px;line-height:22px">'+r[t]+"</xmp></div>",n.querySelector('button[style*="flex-shrink:0"]').onclick=()=>{n.remove(),o()},n.querySelectorAll("button[data-index]").forEach(d=>{d.onclick=()=>{t=parseInt(d.dataset.index),localStorage.setItem("_LOG_INDEX",t),s()}})},s()};return n=>{if(!document.body){window.requestAnimationFrame(()=>B(n));return}let f=typeof n;n instanceof Node&&(n.nodeType===Node.TEXT_NODE?n=n.textContent||String(n):n=Be(n.outerHTML)),n===void 0&&(n="undefined"),n===null&&(n="null"),Array.isArray(n)?f="array":typeof n=="object"&&n!==null&&(f="object"),typeof n!="string"&&(n=JSON.stringify(n,(d,g)=>typeof g=="function"?String(g):g,2).replaceAll("<","&lt;")),n=n.trim(),r.push(n+`

type: ${f}`),e.push(f),!!document.getElementById("dump-dialog")?(t=r.length-1,localStorage.setItem("_LOG_INDEX",t),s&&s()):i()}})();typeof window<"u"&&!window.LOG&&(window.LOG=B);var re=B;var se=()=>{let r=parseInt(window.location.port)||80;if(!(Fez.DEV===!0||r>2999&&Fez.DEV!==!1))return;let e=document.querySelectorAll(".fez-highlight-overlay");if(e.length>0){e.forEach(s=>s.remove());return}document.querySelectorAll(".fez, .svelte").forEach(s=>{let o=null,i=null;if(s.classList.contains("fez")&&s.fez&&s.fez.fezName?(o=s.fez.fezName,i="fez"):s.classList.contains("svelte")&&s.svelte&&s.svelte.svelteName&&(o=s.svelte.svelteName,i="svelte"),o){let n=document.createElement("div");n.className="fez-highlight-overlay";let f=s.getBoundingClientRect(),u=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft;n.style.cssText=`
        position: absolute;
        top: ${f.top+u}px;
        left: ${f.left+d}px;
        width: ${f.width}px;
        height: ${f.height}px;
        border: 1px solid ${i==="svelte"?"blue":"red"};
        pointer-events: none;
        z-index: 9999;
      `;let g=document.createElement("div");g.textContent=o,g.style.cssText=`
        position: absolute;
        top: -20px;
        left: 0;
        background: ${i==="svelte"?"blue":"red"};
        color: white;
        padding: 4px 6px 2px 6px;
        font-size: 14px;
        font-family: monospace;
        line-height: 1;
        white-space: nowrap;
        cursor: pointer;
        pointer-events: auto;
        text-transform: uppercase;
      `,g.addEventListener("click",v=>{v.stopPropagation(),Fez.log(s)}),n.appendChild(g),document.body.appendChild(n)}})};document.addEventListener("keydown",r=>{(r.ctrlKey||r.metaKey)&&r.key==="e"&&(r.target.closest("form")||(r.preventDefault(),se()))});var oe=se;var qe=new MutationObserver((r,e)=>{for(let t of r)if(t.type==="attributes"){let s=t.target.fez,o=t.attributeName,i=t.target.getAttribute(o);s&&(s.props[o]=i,s.onPropsChange(o,i))}});function q(r,e){let t=globalThis.window?.Fez||globalThis.Fez;if(r.includes("-")||console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),e.fezHtmlRoot)e.html&&(e.html=ne(e.html));else{let s=new e,o=class extends x{};Object.getOwnPropertyNames(s).concat(Object.getOwnPropertyNames(e.prototype)).filter(n=>!["constructor","prototype"].includes(n)).forEach(n=>o.prototype[n]=s[n]),s.FAST&&(o.FAST=s.FAST),s.GLOBAL&&(o.GLOBAL=s.GLOBAL),s.CSS&&(o.css=s.CSS),s.HTML&&(o.html=ne(s.HTML)),s.NAME&&(o.nodeName=s.NAME),s.GLOBAL&&t.onReady(()=>{document.body.appendChild(document.createElement(r))}),e=o,t.consoleLog(`${r} compiled`)}if(e.html){let s=e.SLOT||"div";e.html=e.html.replace("<slot",`<${s} class="fez-slot" fez-keep="default-slot"`).replace("</slot>",`</${s}>`),e.fezHtmlFunc=_(e.html)}e.css&&(e.css=t.globalCss(e.css,{name:r})),t.classes[r]=e,customElements.get(r)||customElements.define(r,class extends HTMLElement{connectedCallback(){Ge(this,e)?ie(r,this):requestAnimationFrame(()=>{ie(r,this)})}})}function Ge(r,e){let t=r.getAttribute("fez-fast");var s=typeof e.FAST=="function"?e.FAST(r):e.FAST;return t||s||r.childNodes[0]||r.nextSibling?!0:(t=="false",!1)}function ne(r){let e=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return r.replace(/<([a-z-]+)\b([^>]*)\/>/g,(t,s,o)=>e.has(s)?t:`<${s}${o}></${s}>`)}function ie(r,e){let t=Fez.classes[r],s=e.parentNode;if(e.isConnected){let o=typeof t.nodeName=="function"?t.nodeName(e):t.nodeName,i=document.createElement(o||"div");i.classList.add("fez"),i.classList.add(`fez-${r}`),s.replaceChild(i,e);let n=new t;if(n.UID=++Fez.instanceCount,Fez.instances.set(n.UID,n),n.oldRoot=e,n.fezName=r,n.root=i,n.props=t.getProps(e,i),n.class=t,n.slot(e,i),i.fez=n,t.GLOBAL&&t.GLOBAL!=!0&&(window[t.GLOBAL]||=n),window.$&&(n.$root=$(i)),n.props.id&&i.setAttribute("id",n.props.id),n.fezRegister(),(n.onInit||n.init||n.created||n.connect).bind(n)(n.props),n.render(),n.firstRender=!0,n.onMount(n.props),n.onSubmit){let f=n.root.nodeName=="FORM"?n.root:n.find("form");f.onsubmit=u=>{u.preventDefault(),n.onSubmit(n.formData())}}if(n.onPropsChange){qe.observe(i,{attributes:!0});for(let[f,u]of Object.entries(n.props))n.onPropsChange(f,u)}}}var We=r=>{let e={script:"",style:"",html:"",head:""},t=r.split(`
`),s=[],o="";for(var i of t)i=i.trim(),i.startsWith("<script")&&!e.script&&o!="head"?o="script":i.startsWith("<head")&&!e.script?o="head":i.startsWith("<style")?o="style":i.endsWith("<\/script>")&&o==="script"&&!e.script?(e.script=s.join(`
`),s=[],o=null):i.endsWith("</style>")&&o==="style"?(e.style=s.join(`
`),s=[],o=null):(i.endsWith("</head>")||i.endsWith("</header>"))&&o==="head"?(e.head=s.join(`
`),s=[],o=null):o?s.push(i):e.html+=i+`
`;if(e.head){let f=Fez.domRoot(e.head);Array.from(f.children).forEach(u=>{if(u.tagName==="SCRIPT"){let d=document.createElement("script");Array.from(u.attributes).forEach(g=>{d.setAttribute(g.name,g.value)}),d.type||="text/javascript",u.src?document.head.appendChild(d):(d.type.includes("javascript")||d.type=="module")&&(d.textContent=u.textContent,document.head.appendChild(d))}else document.head.appendChild(u.cloneNode(!0))})}let n=e.script;return/class\s+\{/.test(n)||(n=`class {
${n}
}`),String(e.style).includes(":")&&(e.style=Fez.cssMixin(e.style),e.style=e.style.includes(":fez")||/(?:^|\s)body\s*\{/.test(e.style)?e.style:`:fez {
${e.style}
}`,n=n.replace(/\}\s*$/,`
  CSS = \`${e.style}\`
}`)),/\w/.test(String(e.html))&&(e.html=e.html.replaceAll("`","&#x60;"),e.html=e.html.replaceAll("$","\\$"),n=n.replace(/\}\s*$/,`
  HTML = \`${e.html}\`
}`)),n};function G(r){if(r instanceof Node){let e=r;e.remove();let t=e.getAttribute("fez");if(t&&(t.includes(".")||t.includes("/"))){Ve(t);return}else{t&&!t.includes("-")&&console.error(`Fez: Invalid custom element name "${t}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),R(t,e.innerHTML);return}}else{(r?Fez.domRoot(r):document.body).querySelectorAll("template[fez], xmp[fez]").forEach(t=>{G(t)});return}}function Ve(r){Fez.consoleLog(`Loading from ${r}`),Fez.fetch(r).then(e=>{let o=new DOMParser().parseFromString(e,"text/html").querySelectorAll("template[fez], xmp[fez]");if(o.length>0)o.forEach(i=>{let n=i.getAttribute("fez");n&&!n.includes("-")&&!n.includes(".")&&!n.includes("/")&&console.error(`Fez: Invalid custom element name "${n}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let f=i.innerHTML;R(n,f)});else{let i=r.split("/").pop().split(".")[0];R(i,e)}}).catch(e=>{console.error(`FEZ template load error for "${r}": ${e.message}`)})}function R(r,e){if(arguments.length===1)return G(r);if(e&&e.includes("</xmp>"))return G(e);r&&!r.includes("-")&&!r.includes(".")&&!r.includes("/")&&console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let t=We(e),s=t.split(/class\s+\{/,2);if(t=`${s[0]};

window.Fez('${r}', class {
${s[1]})`,r){let o=document.getElementById("fez-hidden-styles");o||(o=document.createElement("style"),o.id="fez-hidden-styles",document.head.appendChild(o));let i=[...Object.keys(Fez.classes),r].sort().join(", ");o.textContent=`${i} { display: none; }
`}if(t.includes("import "))Fez.head({script:t}),setTimeout(()=>{Fez.classes[r]||Fez.consoleError(`Template "${r}" possible compile error. (can be a false positive, it imports are not loaded)`)},2e3);else try{new Function(t)()}catch(o){Fez.consoleError(`Template "${r}" compile error: ${o.message}`),console.log(t)}}var le=R;var Ue={data:{},listeners:new Map,subscribers:new Map,globalSubscribers:new Set,notify(r,e,t){Fez.consoleLog(`Global state change for ${r}: ${e} (from ${t})`);let s=this.listeners.get(r);s&&s.forEach(i=>{i.isConnected?(i.onGlobalStateChange(r,e,t),i.render()):s.delete(i)});let o=this.subscribers.get(r);o&&o.forEach(i=>{try{i(e,t,r)}catch(n){console.error(`Error in subscriber for key ${r}:`,n)}}),this.globalSubscribers.forEach(i=>{try{i(r,e,t)}catch(n){console.error("Error in global subscriber:",n)}})},createProxy(r){return new Proxy({},{get:(e,t)=>(r._globalStateKeys||=new Set,r._globalStateKeys.has(t)||(r._globalStateKeys.add(t),this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(r)),this.data[t]),set:(e,t,s)=>{let o=this.data[t];return o!==s&&(this.data[t]=s,this.notify(t,s,o)),!0}})},set(r,e){let t=this.data[r];t!==e&&(this.data[r]=e,this.notify(r,e,t))},get(r){return this.data[r]},forEach(r,e){let t=this.listeners.get(r);t&&t.forEach(s=>{s.isConnected?e(s):t.delete(s)})},subscribe(r,e){if(typeof r=="function")return this.globalSubscribers.add(r),()=>this.globalSubscribers.delete(r);{let t=r;return this.subscribers.has(t)||this.subscribers.set(t,new Set),this.subscribers.get(t).add(e),()=>{let s=this.subscribers.get(t);s&&(s.delete(e),s.size===0&&this.subscribers.delete(t))}}}},ce=Ue;var ae=r=>{r.head=(e,t)=>{if(e.nodeName){e.nodeName=="SCRIPT"?(r.head({script:e.innerText}),e.remove()):(e.querySelectorAll("script").forEach(u=>r.head(u)),e.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(u=>r.compile(u)));return}if(typeof e!="object"||e===null)throw new Error("head requires an object parameter");let s,o={},i;if(e.script){if(e.script.includes("import ")){t&&r.consoleError("Fez.head callback is not supported when script with import is passed (module context).");let u=document.createElement("script");u.type="module",u.textContent=e.script,document.head.appendChild(u),requestAnimationFrame(()=>u.remove())}else try{new Function(e.script)(),t&&t()}catch(u){r.consoleError("Error executing script:",u),console.log(e.script)}return}else if(e.js){s=e.js,i="script";for(let[u,d]of Object.entries(e))u!=="js"&&u!=="module"&&(o[u]=d);e.module&&(o.type="module")}else if(e.css){s=e.css,i="link",o.rel="stylesheet";for(let[u,d]of Object.entries(e))u!=="css"&&(o[u]=d)}else throw new Error('head requires either "script", "js" or "css" property');let n=document.querySelector(`${i}[src="${s}"], ${i}[href="${s}"]`);if(n)return t&&t(),n;let f=document.createElement(i);i==="link"?f.href=s:f.src=s;for(let[u,d]of Object.entries(o))f.setAttribute(u,d);return(t||e.module)&&(f.onload=()=>{e.module&&i==="script"&&import(s).then(u=>{window[e.module]=u.default||u[e.module]||u}).catch(u=>{console.error(`Error importing module ${e.module}:`,u)}),t&&t()}),document.head.appendChild(f),f},r.fetch=function(...e){r._fetchCache||={};let t="GET",s,o;typeof e[0]=="string"&&/^[A-Z]+$/.test(e[0])&&(t=e.shift()),s=e.shift();let i={},n=null;if(typeof e[0]=="object"&&(n=e.shift()),typeof e[0]=="function"&&(o=e.shift()),n){if(t==="GET"){let d=new URLSearchParams(n);s+=(s.includes("?")?"&":"?")+d.toString()}else if(t==="POST"){let d=new FormData;for(let[g,v]of Object.entries(n))d.append(g,v);i.body=d}}i.method=t;let f=`${t}:${s}:${JSON.stringify(i)}`;if(r._fetchCache[f]){let d=r._fetchCache[f];if(r.consoleLog(`fetch cache hit: ${t} ${s}`),o){o(d);return}return Promise.resolve(d)}r.consoleLog(`fetch live: ${t} ${s}`);let u=d=>d.headers.get("content-type")?.includes("application/json")?d.json():d.text();if(o){fetch(s,i).then(u).then(d=>{r._fetchCache[f]=d,o(d)}).catch(d=>r.onError("fetch",d));return}return fetch(s,i).then(u).then(d=>(r._fetchCache[f]=d,d))},r.darkenColor=(e,t=20)=>{let s=parseInt(e.replace("#",""),16),o=Math.round(2.55*t),i=(s>>16)-o,n=(s>>8&255)-o,f=(s&255)-o;return"#"+(16777216+(i<255?i<1?0:i:255)*65536+(n<255?n<1?0:n:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1)},r.lightenColor=(e,t=20)=>{let s=parseInt(e.replace("#",""),16),o=Math.round(2.55*t),i=(s>>16)+o,n=(s>>8&255)+o,f=(s&255)+o;return"#"+(16777216+(i<255?i<1?0:i:255)*65536+(n<255?n<1?0:n:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1)},r.htmlEscape=e=>typeof e=="string"?(e=e.replace(/font-family\s*:\s*(?:&[^;]+;|[^;])*?;/gi,"").replaceAll("&","&amp;").replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;"),e):e===void 0?"":e,r.domRoot=(e,t="div")=>{if(e instanceof Node)return e;{let s=document.createElement(t);return s.innerHTML=e,s}},r.activateNode=(e,t="active")=>{Array.from(e.parentElement.children).forEach(s=>{s.classList.remove(t)}),e.classList.add(t)},r.isTrue=e=>["1","true","on"].includes(String(e).toLowerCase()),r.UID=111,r.uid=()=>"fez_uid_"+(++r.UID).toString(32),r.POINTER_SEQ=0,r.POINTER={},r.pointer=e=>{if(typeof e=="function"){let t=++r.POINTER_SEQ;return r.POINTER[t]=e,`Fez.POINTER[${t}]`}},r.getFunction=e=>{if(e){if(typeof e=="function")return e;if(typeof e=="string"){let t=/^\s*\(?\s*\w+(\s*,\s*\w+)*\s*\)?\s*=>/,s=/^\s*function\s*\(/;return t.test(e)||s.test(e)?new Function("return "+e)():e.includes(".")&&!e.includes("(")?new Function(`return function() { return ${e}(); }`):new Function(e)}}else return()=>{}},r.onReady=e=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{e()},{once:!0}):e()},r.fnv1=e=>{var t,s,o,i,n,f;for(t=2166136261,s=16777619,o=t,i=n=0,f=e.length-1;0<=f?n<=f:n>=f;i=0<=f?++n:--n)o^=e.charCodeAt(i),o*=s;return o.toString(36).replaceAll("-","")},r.tag=(e,t={},s="")=>{let o=encodeURIComponent(JSON.stringify(t));return`<${e} data-props="${o}">${s}</${e}>`},r.untilTrue=(e,t)=>{t||=200,e()||setTimeout(()=>{r.untilTrue(e,t)},t)},r.throttle=(e,t=200)=>{let s=0,o;return function(...i){let n=Date.now();n-s>=t?(e.apply(this,i),s=n):(clearTimeout(o),o=setTimeout(()=>{e.apply(this,i),s=Date.now()},t-(n-s)))}}};var fe={},ue=r=>{r.cssMixin=(e,t)=>{if(t)fe[e]=t;else return Object.entries(fe).forEach(([s,o])=>{e=e.replaceAll(`:${s} `,`${o} `),e=e.replaceAll(`@include ${s} `,`${o} `)}),e},r.cssMixin("mobile","@media (max-width: 767px)"),r.cssMixin("tablet","@media (min-width: 768px) and (max-width: 1023px)"),r.cssMixin("desktop","@media (min-width:  1200px)")};var b=(r,e)=>{if(typeof r=="number"){let t=b.instances.get(r);if(t)return t;b.consoleError(`Instance with UID "${r}" not found.`)}else if(r)if(e)if(typeof e=="function"&&!/^\s*class/.test(e.toString())&&!/\b(this|new)\b/.test(e.toString())){let s=Array.from(document.querySelectorAll(`.fez.fez-${r}`)).filter(o=>o.fez);return s.forEach(o=>e(o.fez)),s}else return typeof e!="function"?b.find(r,e):q(r,e);else{let t=r.nodeName?r.closest(".fez"):document.querySelector(r.includes("#")?r:`.fez.fez-${r}`);if(t){if(t.fez)return t.fez;b.consoleError(`node "${r}" has no Fez attached.`)}else b.consoleError(`node "${r}" not found.`)}else b.consoleError("Fez() ?")};b.classes={};b.instanceCount=0;b.instances=new Map;b.find=(r,e)=>{let t=r;typeof t=="string"&&(t=document.body.querySelector(t)),typeof t.val=="function"&&(t=t[0]);let s=e?`.fez.fez-${e}`:".fez",o=t.closest(s);if(o&&o.fez)return o.fez;console.error("Fez node connector not found",r,t)};b.cssClass=r=>ee.css(r);b.globalCss=(r,e={})=>{if(typeof r=="function"&&(r=r()),r.includes(":")){let t=r.split(`
`).filter(s=>!/^\s*\/\//.test(s)).join(`
`);e.wrap&&(t=`:fez { ${t} }`),t=t.replace(/\:fez|\:host/,`.fez.fez-${e.name}`),r=b.cssClass(t)}return b.onReady(()=>{document.body.parentElement.classList.add(r)}),r};b.info=()=>{console.log("Fez components:",Object.keys(b.classes||{}))};b.morphdom=(r,e,t={})=>{Array.from(r.attributes).forEach(o=>{e.setAttribute(o.name,o.value)}),te.morph(r,e,{morphStyle:"outerHTML"});let s=r.nextSibling;s?.nodeType===Node.TEXT_NODE&&s.textContent.trim()===""&&s.remove()};b._globalSubs||=new Map;b.publish=(r,...e)=>{b._subs||={},b._subs[r]||=[],b._subs[r].forEach(s=>{s[1].bind(s[0])(...e)});let t=b._globalSubs.get(r);t&&t.forEach(s=>{s.node.isConnected?s.callback.call(s.node,...e):t.delete(s)})};b.subscribe=(r,e,t)=>{typeof e=="function"&&(t=e,e=r,r=document.body),typeof r=="string"&&(r=document.querySelector(r)),b._globalSubs.has(e)||b._globalSubs.set(e,new Set);let s=b._globalSubs.get(e);s.forEach(i=>{i.node===r&&i.callback===t&&s.delete(i)});let o={node:r,callback:t};return s.add(o),()=>{s.delete(o)}};b.consoleError=(r,e)=>{if(r=`Fez: ${r}`,console.error(r),e)return`<span style="border: 1px solid red; font-size: 14px; padding: 3px 7px; background: #fee; border-radius: 4px;">${r}</span>`};b.consoleLog=r=>{b.LOG===!0&&(r=String(r).substring(0,180),console.log(`Fez: ${r}`))};b.onError=(r,e)=>{if(typeof r!="string")throw new Error("Fez.onError: kind must be a string");console.error(`${r}: ${e.toString()}`)};b.store={store:new Map,counter:0,set(r){let e=this.counter++;return this.store.set(e,r),e},get(r){return this.store.get(r)},delete(r){let e=this.store.get(r);return this.store.delete(r),e}};ae(b);ue(b);b.compile=le;b.state=ce;b.log=re;b.highlightAll=oe;b.onReady(()=>{b.consoleLog("Fez.LOG === true, logging enabled.")});var C=b;typeof window<"u"&&(window.FezBase=x);typeof window<"u"&&(window.Fez=C);Promise.resolve().then(()=>he());setInterval(()=>{for(let[r,e]of C.instances)e?.isConnected||(e.fez?.fezOnDestroy(),C.instances.delete(r))},5e3);var Xe=new MutationObserver(r=>{for(let{addedNodes:e,removedNodes:t}of r)e.forEach(s=>{s.nodeType===1&&(s.matches("template[fez], xmp[fez], script[fez]")&&(C.compile(s),s.remove()),s.querySelectorAll&&s.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(i=>{C.compile(i),i.remove()}))}),t.forEach(s=>{s.nodeType===1&&s.querySelectorAll&&s.querySelectorAll(".fez, :scope.fez").forEach(i=>{i.fez&&i.root&&(C.instances.delete(i.fez.UID),i.fez.fezOnDestroy())})})});Xe.observe(document.documentElement,{childList:!0,subtree:!0});var It=C;})();
//# sourceMappingURL=fez.js.map
