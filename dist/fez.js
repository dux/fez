(()=>{var Ne=Object.defineProperty;var ke=(t,n)=>()=>(t&&(n=t(t=0)),n);var De=(t,n)=>{for(var e in n)Ne(t,e,{get:n[e],enumerable:!0})};var xe={};De(xe,{loadDefaults:()=>Me});var Me,Fe=ke(()=>{Me=()=>{Fez("fez-component",class{init(e){let r=document.createElement(e.name);for(r.props=e.props||e["data-props"]||e;this.root.firstChild;)this.root.parentNode.insertBefore(this.root.lastChild,r.nextSibling);this.root.innerHTML="",this.root.appendChild(r)}}),Fez("fez-include",class{init(e){Fez.fetch(e.src,r=>{let s=Fez.domRoot(r);Fez.head(s),this.root.innerHTML=s.innerHTML})}}),Fez("fez-inline",class{init(e){e["wait-for"]||=()=>!0,Fez.untilTrue(()=>{if(e["wait-for"]())return this.mountIt(),!0},100)}mountIt(){let e=this.root.innerHTML;if(e){let s=`inline-${Fez.fnv1(this.root.outerHTML)}`;Fez(s,class{HTML=e;init(){Object.assign(this.state,this.props.state||{})}});let i=document.createElement(s);this.root.after(this.root.lastChild,i),this.root.remove()}}}),Fez("fez-if",class{init(e){new Function(`return (${e.if||e.test})`)()||this.root.remove()}});let t=new Map,n=50;Fez.clearMemoStore=()=>{t.clear(),Fez.consoleLog("Memoize store cleared")},Fez("fez-memoize",class{init(e){if(!e.key){Fez.consoleError("fez-memoize: key prop is required");return}if(t.has(e.key)){let r=t.get(e.key);Fez.consoleLog(`Memoize - key: "${e.key}" - restore`),this.root.innerHTML="",this.root.appendChild(r.cloneNode(!0))}}onMount(e){t.has(e.key)||requestAnimationFrame(()=>{if(t.size>=n){let s=t.keys().next().value;t.delete(s),Fez.consoleLog(`Memoize - evicted oldest key: "${s}"`)}let r=document.createElement("div");r.innerHTML=this.root.innerHTML,Fez.consoleLog(`Memoize - key: "${e.key}" - set`),t.set(e.key,r)})}})};typeof Fez<"u"&&Fez&&Me()});function te(t,n={},e){if(typeof n=="string"&&([n,e]=[e,n],n||={}),n instanceof Node&&(e=n,n={}),Array.isArray(t)&&(e=t,t="div"),(typeof n!="object"||Array.isArray(n))&&(e=n,n={}),t.includes(".")){let s=t.split(".");t=s.shift()||"div";let i=s.join(" ");n.class?n.class+=` ${i}`:n.class=i}let r=document.createElement(t);for(let[s,i]of Object.entries(n))if(typeof i=="function")r[s]=i.bind(this);else{let o=String(i).replaceAll("fez.",this.fezHtmlRoot);r.setAttribute(s,o)}if(e)if(Array.isArray(e))for(let s of e)r.appendChild(s);else e instanceof Node?r.appendChild(e):r.innerHTML=String(e);return r}var Re=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function pe(t,n,e){let r=n+1;for(;r<t.length;){if(t[r]==="\\"){r+=2;continue}if(t[r]===e)return r;if(e==="`"&&t[r]==="$"&&t[r+1]==="{"){r+=2;let s=1;for(;r<t.length&&s>0;)t[r]==="{"?s++:t[r]==="}"?s--:(t[r]==='"'||t[r]==="'"||t[r]==="`")&&(r=pe(t,r,t[r])),r++;continue}r++}return t.length-1}function de(t,n){let e=0,r=n;for(;r<t.length;){let s=t[r];if(s==="{")e++;else if(s==="}"){if(e--,e===0)return{expression:t.slice(n+1,r),endIndex:r}}else(s==='"'||s==="'"||s==="`")&&(r=pe(t,r,s));r++}throw new Error(`Unmatched brace at ${n}`)}function W(t){let n=new Set,e=/\bstate\.(\w+)/g,r;for(;(r=e.exec(t))!==null;)n.add(r[1]);return[...n]}function ne(t){if(t.startsWith("[")){let r=t.match(/^\[([^\]]+)\](?:\s*,\s*(\w+))?$/);if(r)return{params:r[1].split(",").map(s=>s.trim()),indexParam:r[2]||null,isDestructured:!0}}return{params:t.split(",").map(r=>r.trim()),indexParam:null,isDestructured:!1}}function je(t){let n=ne(t),e=[...n.params];return n.indexParam&&e.push(n.indexParam),n.params.length===1&&!e.includes("i")&&e.push("i"),e}function He(t,n){let e=ne(n);return e.isDestructured||e.params.length>=3?`((_c)=>Array.isArray(_c)?_c:(_c&&typeof _c==="object")?Object.entries(_c):[])(${t})`:`(${t}||[])`}function Pe(t){let n=ne(t);if(n.isDestructured)return"["+n.params.join(", ")+"]"+", "+(n.indexParam||"i");if(n.params.length>=3){let e=[...n.params],r=e.pop();return"["+e.join(", ")+"], "+r}return n.params.length===2?n.params.join(", "):n.params[0]+", i"}function k(t,n=[]){let e=t.replace(/\bthis\./g,"_ctx.");return e=e.replace(/(?<![._\w])state\./g,"_ctx.state."),e=e.replace(/(?<![._\w])props\./g,"_ctx.props."),e}function Ve(t){let n=[],e=0;for(;e<t.length;){if(t[e]==="\\"&&t[e+1]==="{"){n.push({type:"text",value:"{"}),e+=2;continue}if(t[e]==="{"){let{expression:s,endIndex:i}=de(t,e);n.push({type:"expr",value:s.trim()}),e=i+1;continue}if(t.slice(e,e+4)==="<!--"){let s=t.indexOf("-->",e+4);if(s===-1)break;e=s+3;continue}if(t[e]==="<"){let s=e+1;for(;s<t.length&&t[s]!==">";){if(t[s]==="{"){let{endIndex:o}=de(t,s);s=o+1;continue}else if(t[s]==='"'||t[s]==="'"){let o=t[s];for(s++;s<t.length&&t[s]!==o;)t[s]==="\\"&&s++,s++;s++;continue}s++}if(s>=t.length){n.push({type:"text",value:t.slice(e)});break}let i=t.slice(e,s+1);n.push({type:"tag",value:i}),e=s+1;continue}let r=e;for(;r<t.length&&t[r]!=="<"&&t[r]!=="{"&&!(t[r]==="\\"&&t[r+1]==="{");)r++;r>e&&n.push({type:"text",value:t.slice(e,r)}),e=r}return n}function Be(t){let n=t.startsWith("</"),e=t.endsWith("/>"),r=t.slice(n?2:1,e?-2:-1).trim(),s=r.indexOf(" "),i,o;s===-1?(i=r,o=""):(i=r.slice(0,s),o=r.slice(s+1).trim());let f=[];if(o){let l=0;for(;l<o.length;){for(;l<o.length&&/\s/.test(o[l]);)l++;if(l>=o.length)break;let d=l;for(;l<o.length&&/[\w-]/.test(o[l]);)l++;let p=o.slice(d,l);if(!p)break;if(o[l]!=="="){f.push({name:p,value:!0,isDynamic:!1});continue}l++;let g,L=!1;if(o[l]==='"'||o[l]==="'"){let T=o[l];l++;let A=l;for(;l<o.length&&o[l]!==T;)l++;g=o.slice(A,l),l++}else if(o[l]==="{"){L=!0,l++;let T=1,A=l;for(;l<o.length&&T>0;){if(o[l]==="{")T++;else if(o[l]==="}")T--;else if(o[l]==='"'||o[l]==="'"||o[l]==="`"){let F=o[l];for(l++;l<o.length&&o[l]!==F;)o[l]==="\\"&&l++,l++}T>0&&l++}g=o.slice(A,l),l++}else{let T=l;for(;l<o.length&&!/[\s>]/.test(o[l]);)l++;g=o.slice(T,l)}f.push({name:p,value:g,isDynamic:L})}}return{name:i,attrs:f,isClose:n,isSelfClose:e}}function re(t,n={}){t=t.replace(/>\s+</g,"><").trim();let e=Ve(t),r="",s=0,i=[],o=[],f=[],l=()=>`_n${s++}`,d=()=>i.length?i[i.length-1]:"_root",p=[];for(let A=0;A<e.length;A++){let F=e[A];if(F.type==="text"){let E=F.value.trim();if(E){let y=l();r+=`const ${y} = document.createTextNode(${JSON.stringify(E)});
`,r+=`${d()}.appendChild(${y});
`}}else if(F.type==="tag"){let E=Be(F.value);if(E.isClose)i.pop();else{let y=l();r+=`const ${y} = document.createElement('${E.name}');
`;for(let w of E.attrs)if(w.name.startsWith("on")){let z=w.name.slice(2),M=o.flat(),O=w.value.replace(/^\(\s*\)\s*=>\s*/,"").replace(/^\(\s*e\s*\)\s*=>\s*/,"(e) => ");O=k(O,M),o.length>0&&o.some(G=>G.some(U=>O.includes(U)))||O.includes("=>")?r+=`${y}.addEventListener('${z}', (e) => { ${O.startsWith("(e)")?O.slice(6):O} });
`:r+=`${y}.addEventListener('${z}', (e) => { ${O} });
`}else if(w.isDynamic){let z=W(w.value),M=o.flat(),O=k(w.value,M);w.name==="class"&&w.value.includes("?")?r+=`${y}.setAttribute('class', ${O});
`:r+=`${y}.setAttribute('${w.name}', ${O});
`,z.length>0&&p.push({deps:z,code:`${y}.setAttribute('${w.name}', ${O});`})}else w.value!==!0?r+=`${y}.setAttribute('${w.name}', ${JSON.stringify(w.value)});
`:r+=`${y}.setAttribute('${w.name}', '');
`;r+=`${d()}.appendChild(${y});
`;let C=Re.has(E.name.toLowerCase());!E.isSelfClose&&!C&&i.push(y)}}else if(F.type==="expr"){let E=F.value;if(E.startsWith("#if ")){let y=o.flat(),C=k(E.slice(4),y),w=W(E),z=l(),M=l();r+=`const ${M} = document.createComment('if');
`,r+=`${d()}.appendChild(${M});
`,r+=`let ${z} = null;
`,r+=`const _render${z} = () => {
`,r+=`  if (${z}) { ${z}.remove(); ${z} = null; }
`,r+=`  if (${C}) {
`,r+=`    ${z} = document.createDocumentFragment();
`,r+=`    const _root = ${z};
`,i.push("_root"),f.push({type:"if",fragVar:z,anchorVar:M,deps:w,hasElse:!1})}else if(E===":else"){let y=f[f.length-1];r+=`  } else {
`,y.hasElse=!0}else if(E.startsWith(":else if ")){let y=o.flat(),C=k(E.slice(9),y);r+=`  } else if (${C}) {
`}else if(E==="/if"||E==="/unless"){i.pop();let y=f.pop();r+=`  }
`,r+=`  if (${y.fragVar}) ${y.anchorVar}.parentNode.insertBefore(${y.fragVar}, ${y.anchorVar});
`,r+=`};
`,r+=`_render${y.fragVar}();
`,y.deps.length>0&&p.push({deps:y.deps,code:`_render${y.fragVar}();`})}else if(E.startsWith("#unless ")){let y=o.flat(),C=k(E.slice(8),y),w=W(E),z=l(),M=l();r+=`const ${M} = document.createComment('unless');
`,r+=`${d()}.appendChild(${M});
`,r+=`let ${z} = null;
`,r+=`const _render${z} = () => {
`,r+=`  if (${z}) { ${z}.remove(); ${z} = null; }
`,r+=`  if (!(${C})) {
`,r+=`    ${z} = document.createDocumentFragment();
`,r+=`    const _root = ${z};
`,i.push("_root"),f.push({type:"unless",fragVar:z,anchorVar:M,deps:w,hasElse:!1})}else if(E.startsWith("#each ")||E.startsWith("#for ")){let y=E.startsWith("#each "),C,w;if(y){let N=E.slice(6),V=N.indexOf(" as ");C=N.slice(0,V).trim(),w=N.slice(V+4).trim()}else{let N=E.slice(5),V=N.indexOf(" in ");w=N.slice(0,V).trim(),C=N.slice(V+4).trim()}let z=W(C),M=je(w);o.push(M);let O=l(),R=l(),G=o.flat(),U=He(k(C,G),w),Z=Pe(w);r+=`const ${O} = document.createComment('each');
`,r+=`${d()}.appendChild(${O});
`,r+=`let ${R} = [];
`,r+=`const _render${R} = () => {
`,r+=`  ${R}.forEach(n => n.remove());
`,r+=`  ${R} = [];
`,r+=`  ${U}.forEach((${Z}) => {
`,r+=`    const _frag = document.createDocumentFragment();
`,r+=`    const _root = _frag;
`,i.push("_root"),f.push({type:"each",anchorVar:O,containerVar:R,deps:z})}else if(E==="/each"||E==="/for"){i.pop(),o.pop();let y=f.pop();r+=`    ${y.containerVar}.push(..._frag.childNodes);
`,r+=`    ${y.anchorVar}.parentNode.insertBefore(_frag, ${y.anchorVar});
`,r+=`  });
`,r+=`};
`,r+=`_render${y.containerVar}();
`,y.deps.length>0&&p.push({deps:y.deps,code:`_render${y.containerVar}();`})}else if(E.startsWith("@html ")){let y=o.flat(),C=k(E.slice(6),y),w=W(E),z=l(),M=l();r+=`const ${M} = document.createElement('span');
`,r+=`${M}.innerHTML = ${C};
`,r+=`${d()}.appendChild(${M});
`,w.length>0&&p.push({deps:w,code:`${M}.innerHTML = ${C};`})}else if(E.startsWith("@json ")){let y=o.flat(),C=k(E.slice(6),y),w=W(E),z=l();r+=`const ${z} = document.createElement('pre');
`,r+=`${z}.className = 'json';
`,r+=`${z}.textContent = JSON.stringify(${C}, null, 2);
`,r+=`${d()}.appendChild(${z});
`,w.length>0&&p.push({deps:w,code:`${z}.textContent = JSON.stringify(${C}, null, 2);`})}else{let y=o.flat(),C=k(E,y),w=W(E),z=l();r+=`const ${z} = document.createTextNode(${C});
`,r+=`${d()}.appendChild(${z});
`,w.length>0&&p.push({deps:w,code:`${z}.textContent = ${C};`})}}}let g={};for(let{deps:A,code:F}of p)for(let E of A)g[E]=g[E]||[],g[E].push(F);let L=Object.keys(g).length>0?`_ctx._fezDeps = ${JSON.stringify(g)};
_ctx._fezUpdate = (prop) => {
  const updates = _ctx._fezDeps[prop];
  if (updates) updates.forEach(code => eval(code));
};
`:"",T=`
    return function(_ctx) {
      const _root = document.createDocumentFragment();
      ${r}
      ${L}
      return _root;
    }
  `;try{let F=new Function(T)();return E=>{try{return F(E)}catch(y){return console.error("FEZ svelte template runtime error:",y.message),console.error("Generated code:",T),document.createDocumentFragment()}}}catch(A){return console.error("FEZ svelte template compile error:",A.message),console.error("Generated code:",T),()=>document.createDocumentFragment()}}var se=new Map;function qe(t){return t.includes("{{")&&t.includes("}}")||t.includes("[[")&&t.includes("]]")}function We(t,n){if(t=t.replace(/^#?raw/,"@html").replace(/^#?html/,"@html"),t.startsWith("#if")||t.startsWith("if"))return n.push(!1),t=t.replace(/^#?if/,""),`\${ ${t} ? \``;if(t.startsWith("#unless")||t.startsWith("unless"))return n.push(!1),t=t.replace(/^#?unless/,""),`\${ !(${t}) ? \``;if(t=="/block")return"`) && ''}";if(t.startsWith("#for")||t.startsWith("for")){t=t.replace(/^#?for/,"");let e=t.split(" in ",2);return"${"+e[1]+".map(("+e[0]+")=>`"}else if(t.startsWith("#each")||t.startsWith("each")){t=t.replace(/^#?each/,"");let e=t.split(" as ",2);return"${"+e[0]+".map(("+e[1]+")=>`"}else{if(t==":else"||t=="else")return n[n.length-1]=!0,"` : `";if(t=="/if"||t=="/unless")return n.pop()?"`}":"` : ``}";if(t=="/for"||t=="/each")return'`).join("")}';{let e="@html ";return t.startsWith("json ")&&(t=t.replace("json ","@html '<pre class=json>'+JSON.stringify("),t+=", null, 2) + '</pre>'"),t.startsWith(e)?t=t.replace(e,""):t=`Fez.htmlEscape(${t})`,"${"+t+"}"}}}function J(t,n={}){let e=t;if(se.has(e))return se.get(e);let r=qe(t)?Ge(t,n):re(t,n);return se.set(e,r),r}function Ge(t,n={}){let e=[];t=t.replaceAll("[[","{{").replaceAll("]]","}}"),t=t.replace(/(\w+)=\{\{\s*(.*?)\s*\}\}([\s>])/g,(i,o,f,l)=>`${o}="{{ ${f} }}"${l}`);let r={};t=t.replace(/\{\{block\s+(\w+)\s*\}\}([^ยง]+)\{\{\/block\}\}/g,(i,o,f)=>(r[o]=f,"")),t=t.replace(/\{\{block:([\w\-]+)\s*\}\}/g,(i,o)=>r[o]||`block:${o}?`),t=t.replace(/:(\w+)="([\w\.\[\]]+)"/,(i,o,f)=>`:${o}=Fez.store.delete({{ Fez.store.set(${f}) }})`);let s=t.replace(/{{(.*?)}}/g,(i,o)=>(o=o.replaceAll("&#x60;","`"),o=o.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),We(o,e)));s=s.replace(/<!\-\-.*?\-\->/g,"").replace(/>\s+</g,"><"),s="`"+s.trim()+"`";try{let i=`const fez = this;
      with (this) {
        return ${s}
      }
    `,o=new Function(i);return f=>{try{return o.bind(f)()}catch(l){l.message=`FEZ template runtime error: ${l.message}

Template source: ${s}`,console.error(l)}}}catch(i){return i.message=`FEZ template compile error: ${i.message}Template source:
${s}`,console.error(i),()=>Fez.consoleError("Template Compile Error",!0)}}var j=class{static getProps(n,e){let r={};if(n.props)return n.props;for(let s of n.attributes)r[s.name]=s.value;for(let[s,i]of Object.entries(r))if([":"].includes(s[0])){delete r[s];try{let o=new Function(`return (${i})`).bind(e)();r[s.replace(/[\:_]/,"")]=o}catch(o){Fez.onError("attr",`Error evaluating ${s}="${i}" for ${n.tagName}: ${o.message}`)}}if(r["data-props"]){let s=r["data-props"];if(typeof s=="object")return s;s[0]!="{"&&(s=decodeURIComponent(s));try{r=JSON.parse(s)}catch(i){Fez.onError("props",`Invalid JSON in data-props for ${n.tagName}: ${i.message}`)}}else if(r["data-json-template"]){let s=e.previousSibling?.textContent;if(s)try{r=JSON.parse(s),e.previousSibling.remove()}catch(i){Fez.onError("props",`Invalid JSON in template for ${n.tagName}: ${i.message}`)}}return r}static formData(n){let e=n.closest("form")||n.querySelector("form");if(!e)return Fez.consoleLog("No form found for formData()"),{};let r=new FormData(e),s={};return r.forEach((i,o)=>{s[o]=i}),s}static nodeName="div";constructor(){}n=te;get fezHtmlRoot(){return`Fez(${this.UID}).`}get isConnected(){return this.root?.isConnected?!0:(this.fezOnDestroy(),!1)}prop(n){let e=this.oldRoot[n]||this.props[n];return typeof e=="function"&&(e=e.bind(this.root)),e}copy(){for(let n of Array.from(arguments)){let e=this.props[n];if(e!==void 0){if(n=="class"){let r=this.root.getAttribute(n,e);r&&(e=[r,e].join(" "))}typeof e=="string"?this.root.setAttribute(n,e):this.root[n]=e}}}fezOnDestroy(){this._onDestroyCallbacks&&(this._onDestroyCallbacks.forEach(n=>{try{n()}catch(e){Fez.onError("destroy","Error in cleanup callback",e)}}),this._onDestroyCallbacks=[]),this.onDestroy(),this.onDestroy=()=>{},this.root&&(this.root.fez=void 0),this.root=void 0}addOnDestroy(n){this._onDestroyCallbacks=this._onDestroyCallbacks||[],this._onDestroyCallbacks.push(n)}on(n,e,r=200){this._eventHandlers=this._eventHandlers||{},this._eventHandlers[n]&&window.removeEventListener(n,this._eventHandlers[n]);let s=Fez.throttle(()=>{this.isConnected&&e.call(this)},r);this._eventHandlers[n]=s,window.addEventListener(n,s),this.addOnDestroy(()=>{window.removeEventListener(n,s),delete this._eventHandlers[n]})}onWindowResize(n,e){this.on("resize",n,e),n()}onWindowScroll(n,e){this.on("scroll",n,e),n()}onElementResize(n,e,r=200){let s=Fez.throttle(()=>{this.isConnected&&e.call(this,n.getBoundingClientRect(),n)},r),i=new ResizeObserver(s);i.observe(n),e.call(this,n.getBoundingClientRect(),n),this.addOnDestroy(()=>{i.disconnect()})}fezSlot(n,e){e||=document.createElement("template");let r=e.nodeName=="SLOT";for(;n.firstChild;)r?e.parentNode.insertBefore(n.lastChild,e.nextSibling):e.appendChild(n.firstChild);return r?e.parentNode.removeChild(e):n.innerHTML="",e}setStyle(n,e){n&&typeof n=="object"?Object.entries(n).forEach(([r,s])=>{this.root.style.setProperty(r,s)}):this.root.style.setProperty(n,e)}connect(){}onMount(){}beforeRender(){}afterRender(){}onDestroy(){}onStateChange(){}onGlobalStateChange(){}publish(n,...e){let r=i=>{if(Fez._subs&&Fez._subs[n]){let o=Fez._subs[n].find(([f])=>f===i);if(o)return o[1].bind(i)(...e),!0}return!1};if(r(this))return!0;let s=this.root.parentElement;for(;s;){if(s.fez&&r(s.fez))return!0;s=s.parentElement}return!1}fezBlocks={};fezParseHtml(n){let e=this.fezHtmlRoot.replaceAll('"',"&quot;");return n=n.replace(/([!'"\s;])fez\.(\w)/g,`$1${e}$2`).replace(/>\s+</g,"><"),n.trim()}fezNextTick(n,e){e?(this._nextTicks||={},this._nextTicks[e]||=window.requestAnimationFrame(()=>{n.bind(this)(),this._nextTicks[e]=null},e)):window.requestAnimationFrame(n.bind(this))}fezRender(n){if(n||=this?.class?.fezHtmlFunc,!n||!this.root)return;this.beforeRender();let e=typeof this.class.nodeName=="function"?this.class.nodeName(this.root):this.class.nodeName,r=document.createElement(e||"div"),s;Array.isArray(n)?n[0]instanceof Node?n.forEach(i=>r.appendChild(i)):s=n.join(""):typeof n=="string"?s=J(n)(this):typeof n=="function"&&(s=n(this)),s&&(s instanceof DocumentFragment||s instanceof Node?r.appendChild(s):(s=s.replace(/\s\w+="undefined"/g,""),r.innerHTML=this.fezParseHtml(s))),this.fezKeepNode(r),this.fezMemoization(r),Fez.morphdom(this.root,r),this.fezRenderPostProcess(),this.afterRender()}fezRenderPostProcess(){let n=(e,r)=>{this.root.querySelectorAll(`*[${e}]`).forEach(s=>{let i=s.getAttribute(e);s.removeAttribute(e),i&&r.bind(this)(i,s)})};n("fez-this",(e,r)=>{new Function("n",`this.${e} = n`).bind(this)(r)}),n("fez-use",(e,r)=>{if(e.includes("=>"))Fez.getFunction(e)(r);else if(e.includes("."))Fez.getFunction(e).bind(r)();else{let s=this[e];typeof s=="function"?s(r):Fez.onError("fez-use",`"${e}" is not a function in ${this.fezName}`)}}),n("fez-class",(e,r)=>{let s=e.split(/\s+/),i=s.pop();s.forEach(o=>r.classList.add(o)),i&&setTimeout(()=>{r.classList.add(i)},1)}),n("fez-bind",(e,r)=>{if(["INPUT","SELECT","TEXTAREA"].includes(r.nodeName)){let s=new Function(`return this.${e}`).bind(this)(),i=r.type.toLowerCase()=="checkbox",o=["SELECT"].includes(r.nodeName)||i?"onchange":"onkeyup";r.setAttribute(o,`${this.fezHtmlRoot}${e} = this.${i?"checked":"value"}`),this.val(r,s)}else Fez.onError("fez-bind",`Can't bind "${e}" to ${r.nodeName} (needs INPUT, SELECT or TEXTAREA)`)}),this.root.querySelectorAll("*[disabled]").forEach(e=>{let r=e.getAttribute("disabled");["false"].includes(r)?e.removeAttribute("disabled"):e.setAttribute("disabled","true")})}fezKeepNode(n){n.querySelectorAll("[fez-keep]").forEach(e=>{let r=e.getAttribute("fez-keep"),s=this.root.querySelector(`[fez-keep="${r}"]`);if(s)e.parentNode.replaceChild(s,e);else if(r==="default-slot")if(e.getAttribute("hide")){this.state=null;let i=e.parentNode;Array.from(this.root.childNodes).forEach(o=>{i.insertBefore(o,e)}),e.remove()}else Array.from(this.root.childNodes).forEach(i=>{e.appendChild(i)})})}fezMemoization(n){let e=n.querySelector("[fez-memoize]:not(.fez)");if(!e)return;this.fezMemoStore||=new Map;let r=e.getAttribute("fez-memoize"),s=this.fezMemoStore.get(r);if(s)Fez.consoleLog(`Memoize restore ${this.fezName}: ${r}`),e.parentNode.replaceChild(s.cloneNode(!0),e);else{let i=this.root.querySelector("[fez-memoize]:not(.fez)");if(i){let o=i.getAttribute("fez-memoize");this.fezMemoStore.set(o,i.cloneNode(!0))}}}setInterval(n,e,r){typeof n=="number"&&([e,n]=[n,e]),r||=Fez.fnv1(String(n)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[r]);let s=setInterval(()=>{this.isConnected&&n()},e);return this._setIntervalCache[r]=s,this.addOnDestroy(()=>{clearInterval(s),delete this._setIntervalCache[r]}),s}find(n){return typeof n=="string"?this.root.querySelector(n):n}val(n,e){let r=this.find(n);if(r)if(["INPUT","TEXTAREA","SELECT"].includes(r.nodeName))if(typeof e<"u")r.type=="checkbox"?r.checked=!!e:r.value=e;else return r.value;else if(typeof e<"u")r.innerHTML=e;else return r.innerHTML}formData(n){return this.class.formData(n||this.root)}attr(n,e){return typeof e>"u"?this.root.getAttribute(n):(this.root.setAttribute(n,e),e)}childNodes(n){let e=Array.from(this.root.children);if(n){let r=document.createElement("div");r.style.display="none",document.body.appendChild(r),e.forEach(s=>r.appendChild(s)),e=Array.from(r.children).map(n),document.body.removeChild(r)}return e}subscribe(n,e){Fez._subs||={},Fez._subs[n]||=[],Fez._subs[n]=Fez._subs[n].filter(r=>r[0].isConnected),Fez._subs[n].push([this,e])}rootId(){return this.root.id||=`fez_${this.UID}`,this.root.id}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.fezReactiveStore(),this.globalState=Fez.state.createProxy(this),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(e=>e!=="constructor"&&typeof this[e]=="function").forEach(e=>this[e]=this[e].bind(this))}dissolve(n){n&&(n.classList.add("fez"),n.classList.add(`fez-${this.fezName}`),n.fez=this,this.attr("id")&&n.setAttribute("id",this.attr("id")),this.root.innerHTML="",this.root.appendChild(n));let e=this.root,r=this.childNodes(),s=this.root.parentNode;return r.reverse().forEach(i=>s.insertBefore(i,e.nextSibling)),this.root.remove(),this.root=void 0,n&&(this.root=n),r}fezReactiveStore(n,e){n||={},e||=(s,i,o,f)=>{o!=f&&(this.onStateChange(i,o,f),this.fezNextTick(this.fezRender,"fezRender"))},e.bind(this);function r(s,i){return typeof s!="object"||s===null?s:new Proxy(s,{set(o,f,l,d){let p=Reflect.get(o,f,d);if(p!==l){typeof l=="object"&&l!==null&&(l=r(l,i));let g=Reflect.set(o,f,l,d);return i(o,f,l,p),g}return!0},get(o,f,l){let d=Reflect.get(o,f,l);return typeof d=="object"&&d!==null?r(d,i):d}})}return r(n,e)}};var Ue={data:""},me=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ue,Xe=t=>{let n=me(t),e=n.data;return n.data="",e},Ke=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Je=/\/\*[^]*?\*\/|  +/g,he=/\n+/g,H=(t,n)=>{let e="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?e=i+" "+o+";":r+=i[1]=="f"?H(o,i):i+"{"+H(o,i[1]=="k"?"":n)+"}":typeof o=="object"?r+=H(o,n?n.replace(/([^,])+/g,f=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,f):f?f+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=H.p?H.p(i,o):i+":"+o+";")}return e+(n&&s?n+"{"+s+"}":s)+r},D={},ge=t=>{if(typeof t=="object"){let n="";for(let e in t)n+=e+ge(t[e]);return n}return t},Ze=(t,n,e,r,s)=>{let i=ge(t),o=D[i]||(D[i]=(l=>{let d=0,p=11;for(;d<l.length;)p=101*p+l.charCodeAt(d++)>>>0;return"go"+p})(i));if(!D[o]){let l=i!==t?t:(d=>{let p,g,L=[{}];for(;p=Ke.exec(d.replace(Je,""));)p[4]?L.shift():p[3]?(g=p[3].replace(he," ").trim(),L.unshift(L[0][g]=L[0][g]||{})):L[0][p[1]]=p[2].replace(he," ").trim();return L[0]})(t);D[o]=H(s?{["@keyframes "+o]:l}:l,e?"":"."+o)}let f=e&&D.g?D.g:null;return e&&(D.g=D[o]),((l,d,p,g)=>{g?d.data=d.data.replace(g,l):d.data.indexOf(l)===-1&&(d.data=p?l+d.data:d.data+l)})(D[o],n,r,f),o},Ye=(t,n,e)=>t.reduce((r,s,i)=>{let o=n[i];if(o&&o.call){let f=o(e),l=f&&f.props&&f.props.className||/^go/.test(f)&&f;o=l?"."+l:f&&typeof f=="object"?f.props?"":H(f,""):f===!1?"":f}return r+s+(o??"")},"");function Y(t){let n=this||{},e=t.call?t(n.p):t;return Ze(e.unshift?e.raw?Ye(e,[].slice.call(arguments,1),n.p):e.reduce((r,s)=>Object.assign(r,s&&s.call?s(n.p):s),{}):e,me(n.target),n.g,n.o,n.k)}var be,oe,ie,Qe=Y.bind({g:1}),et=Y.bind({k:1});function tt(t,n,e,r){H.p=n,be=t,oe=e,ie=r}function nt(t,n){let e=this||{};return function(){let r=arguments;function s(i,o){let f=Object.assign({},i),l=f.className||s.className;e.p=Object.assign({theme:oe&&oe()},f),e.o=/ *go\d+/.test(l),f.className=Y.apply(e,r)+(l?" "+l:""),n&&(f.ref=o);let d=t;return t[0]&&(d=f.as||t,delete f.as),ie&&d[0]&&ie(f),be(d,f)}return n?n(s):s}}var ye={css:Y,extractCss:Xe,glob:Qe,keyframes:et,setup:tt,styled:nt};var $e=function(){"use strict";let t=new Set,n={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:T,afterNodeAdded:T,beforeNodeMorphed:T,afterNodeMorphed:T,beforeNodeRemoved:T,afterNodeRemoved:T,beforeAttributeUpdated:T},head:{style:"merge",shouldPreserve:function(c){return c.getAttribute("im-preserve")==="true"},shouldReAppend:function(c){return c.getAttribute("im-re-append")==="true"},shouldRemove:T,afterHeadMorphed:T}};function e(c,a,u={}){c instanceof Document&&(c=c.documentElement),typeof a=="string"&&(a=M(a));let h=O(a),m=F(c,h,u);return r(c,h,m)}function r(c,a,u){if(u.head.block){let h=c.querySelector("head"),m=a.querySelector("head");if(h&&m){let b=g(m,h,u);Promise.all(b).then(function(){r(c,a,Object.assign(u,{head:{block:!1,ignore:!0}}))});return}}if(u.morphStyle==="innerHTML")return o(a,c,u),c.children;if(u.morphStyle==="outerHTML"||u.morphStyle==null){let h=G(a,c,u),m=h?.previousSibling,b=h?.nextSibling,S=i(c,h,u);return h?R(m,S,b):[]}else throw"Do not understand how to morph style "+u.morphStyle}function s(c,a){return a.ignoreActiveValue&&c===document.activeElement&&c!==document.body}function i(c,a,u){if(!(u.ignoreActive&&c===document.activeElement))return a==null?u.callbacks.beforeNodeRemoved(c)===!1?c:(c.remove(),u.callbacks.afterNodeRemoved(c),null):y(c,a)?(u.callbacks.beforeNodeMorphed(c,a)===!1||(c instanceof HTMLHeadElement&&u.head.ignore||(c instanceof HTMLHeadElement&&u.head.style!=="morph"?g(a,c,u):(l(a,c,u),s(c,u)||o(a,c,u))),u.callbacks.afterNodeMorphed(c,a)),c):u.callbacks.beforeNodeRemoved(c)===!1||u.callbacks.beforeNodeAdded(a)===!1?c:(c.parentElement.replaceChild(a,c),u.callbacks.afterNodeAdded(a),u.callbacks.afterNodeRemoved(c),a)}function o(c,a,u){let h=c.firstChild,m=a.firstChild,b;for(;h;){if(b=h,h=b.nextSibling,m==null){if(u.callbacks.beforeNodeAdded(b)===!1)return;a.appendChild(b),u.callbacks.afterNodeAdded(b),B(u,b);continue}if(E(b,m,u)){i(m,b,u),m=m.nextSibling,B(u,b);continue}let S=w(c,a,b,m,u);if(S){m=C(m,S,u),i(S,b,u),B(u,b);continue}let _=z(c,a,b,m,u);if(_){m=C(m,_,u),i(_,b,u),B(u,b);continue}if(u.callbacks.beforeNodeAdded(b)===!1)return;a.insertBefore(b,m),u.callbacks.afterNodeAdded(b),B(u,b)}for(;m!==null;){let S=m;m=m.nextSibling,Z(S,u)}}function f(c,a,u,h){return c==="value"&&h.ignoreActiveValue&&a===document.activeElement?!0:h.callbacks.beforeAttributeUpdated(c,a,u)===!1}function l(c,a,u){let h=c.nodeType;if(h===1){let m=c.attributes,b=a.attributes;for(let S of m)if(!f(S.name,a,"update",u))try{a.getAttribute(S.name)!==S.value&&a.setAttribute(S.name,S.value)}catch(_){console.error("Error setting attribute:",{badNode:a,badAttribute:S,error:_.message})}for(let S=b.length-1;0<=S;S--){let _=b[S];f(_.name,a,"remove",u)||c.hasAttribute(_.name)||a.removeAttribute(_.name)}}(h===8||h===3)&&a.nodeValue!==c.nodeValue&&(a.nodeValue=c.nodeValue),s(a,u)||p(c,a,u)}function d(c,a,u,h){if(c[u]!==a[u]){let m=f(u,a,"update",h);m||(a[u]=c[u]),c[u]?m||a.setAttribute(u,c[u]):f(u,a,"remove",h)||a.removeAttribute(u)}}function p(c,a,u){if(c instanceof HTMLInputElement&&a instanceof HTMLInputElement&&c.type!=="file"){let h=c.value,m=a.value;d(c,a,"checked",u),d(c,a,"disabled",u),c.hasAttribute("value")?h!==m&&(f("value",a,"update",u)||(a.setAttribute("value",h),a.value=h)):f("value",a,"remove",u)||(a.value="",a.removeAttribute("value"))}else if(c instanceof HTMLOptionElement)d(c,a,"selected",u);else if(c instanceof HTMLTextAreaElement&&a instanceof HTMLTextAreaElement){let h=c.value,m=a.value;if(f("value",a,"update",u))return;h!==m&&(a.value=h),a.firstChild&&a.firstChild.nodeValue!==h&&(a.firstChild.nodeValue=h)}}function g(c,a,u){let h=[],m=[],b=[],S=[],_=u.head.style,q=new Map;for(let x of c.children)q.set(x.outerHTML,x);for(let x of a.children){let I=q.has(x.outerHTML),K=u.head.shouldReAppend(x),ee=u.head.shouldPreserve(x);I||ee?K?m.push(x):(q.delete(x.outerHTML),b.push(x)):_==="append"?K&&(m.push(x),S.push(x)):u.head.shouldRemove(x)!==!1&&m.push(x)}S.push(...q.values());let ue=[];for(let x of S){let I=document.createRange().createContextualFragment(x.outerHTML).firstChild;if(u.callbacks.beforeNodeAdded(I)!==!1){if(I.href||I.src){let K=null,ee=new Promise(function(Ie){K=Ie});I.addEventListener("load",function(){K()}),ue.push(ee)}a.appendChild(I),u.callbacks.afterNodeAdded(I),h.push(I)}}for(let x of m)u.callbacks.beforeNodeRemoved(x)!==!1&&(a.removeChild(x),u.callbacks.afterNodeRemoved(x));return u.head.afterHeadMorphed(a,{added:h,kept:b,removed:m}),ue}function L(){}function T(){}function A(c){let a={};return Object.assign(a,n),Object.assign(a,c),a.callbacks={},Object.assign(a.callbacks,n.callbacks),Object.assign(a.callbacks,c.callbacks),a.head={},Object.assign(a.head,n.head),Object.assign(a.head,c.head),a}function F(c,a,u){return u=A(u),{target:c,newContent:a,config:u,morphStyle:u.morphStyle,ignoreActive:u.ignoreActive,ignoreActiveValue:u.ignoreActiveValue,idMap:Oe(c,a),deadIds:new Set,callbacks:u.callbacks,head:u.head}}function E(c,a,u){return c==null||a==null?!1:c.nodeType===a.nodeType&&c.tagName===a.tagName?c.id!==""&&c.id===a.id?!0:X(u,c,a)>0:!1}function y(c,a){return c==null||a==null?!1:c.nodeType===a.nodeType&&c.tagName===a.tagName}function C(c,a,u){for(;c!==a;){let h=c;c=c.nextSibling,Z(h,u)}return B(u,a),a.nextSibling}function w(c,a,u,h,m){let b=X(m,u,a),S=null;if(b>0){let _=h,q=0;for(;_!=null;){if(E(u,_,m))return _;if(q+=X(m,_,c),q>b)return null;_=_.nextSibling}}return S}function z(c,a,u,h,m){let b=h,S=u.nextSibling,_=0;for(;b!=null;){if(X(m,b,c)>0)return null;if(y(u,b))return b;if(y(S,b)&&(_++,S=S.nextSibling,_>=2))return null;b=b.nextSibling}return b}function M(c){let a=new DOMParser,u=c.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(u.match(/<\/html>/)||u.match(/<\/head>/)||u.match(/<\/body>/)){let h=a.parseFromString(c,"text/html");if(u.match(/<\/html>/))return h.generatedByIdiomorph=!0,h;{let m=h.firstChild;return m?(m.generatedByIdiomorph=!0,m):null}}else{let m=a.parseFromString("<body><template>"+c+"</template></body>","text/html").body.querySelector("template").content;return m.generatedByIdiomorph=!0,m}}function O(c){if(c==null)return document.createElement("div");if(c.generatedByIdiomorph)return c;if(c instanceof Node){let a=document.createElement("div");return a.append(c),a}else{let a=document.createElement("div");for(let u of[...c])a.append(u);return a}}function R(c,a,u){let h=[],m=[];for(;c!=null;)h.push(c),c=c.previousSibling;for(;h.length>0;){let b=h.pop();m.push(b),a.parentElement.insertBefore(b,a)}for(m.push(a);u!=null;)h.push(u),m.push(u),u=u.nextSibling;for(;h.length>0;)a.parentElement.insertBefore(h.pop(),a.nextSibling);return m}function G(c,a,u){let h;h=c.firstChild;let m=h,b=0;for(;h;){let S=U(h,a,u);S>b&&(m=h,b=S),h=h.nextSibling}return m}function U(c,a,u){return y(c,a)?.5+X(u,c,a):0}function Z(c,a){B(a,c),a.callbacks.beforeNodeRemoved(c)!==!1&&(c.remove(),a.callbacks.afterNodeRemoved(c))}function N(c,a){return!c.deadIds.has(a)}function V(c,a,u){return(c.idMap.get(u)||t).has(a)}function B(c,a){let u=c.idMap.get(a)||t;for(let h of u)c.deadIds.add(h)}function X(c,a,u){let h=c.idMap.get(a)||t,m=0;for(let b of h)N(c,b)&&V(c,b,u)&&++m;return m}function fe(c,a){let u=c.parentElement,h=c.querySelectorAll("[id]");for(let m of h){let b=m;for(;b!==u&&b!=null;){let S=a.get(b);S==null&&(S=new Set,a.set(b,S)),S.add(m.id),b=b.parentElement}}}function Oe(c,a){let u=new Map;return fe(c,u),fe(a,u),u}return{morph:e,defaults:n}}();var rt=t=>{let n=t.split(/(<\/?[^>]+>)/g).map(s=>s.trim()).filter(s=>s),e=0,r=[];for(let s=0;s<n.length;s++){let i=n[s],o=n[s+1],f=n[s+2];if(i.startsWith("<"))if(!i.startsWith("</")&&!i.endsWith("/>")&&o&&!o.startsWith("<")&&f&&f.startsWith("</")){let l=Math.max(0,e);r.push("  ".repeat(l)+i+o+f),s+=2}else if(i.startsWith("</")){e--;let l=Math.max(0,e);r.push("  ".repeat(l)+i)}else if(i.endsWith("/>")||i.includes(" />")){let l=Math.max(0,e);r.push("  ".repeat(l)+i)}else{let l=Math.max(0,e);r.push("  ".repeat(l)+i),e++}else if(i){let l=Math.max(0,e);r.push("  ".repeat(l)+i)}}return r.join(`
`)},le=(()=>{let t=[],n=[],e=0,r=null;document.addEventListener("keydown",o=>{if(o.key==="Escape"){o.preventDefault();let f=document.getElementById("dump-dialog"),l=document.getElementById("log-reopen-button");f?(f.remove(),s()):l&&(l.remove(),i())}else(o.key==="ArrowLeft"||o.key==="ArrowRight"||o.key==="ArrowUp"||o.key==="ArrowDown")&&document.getElementById("dump-dialog")&&t.length>0&&(o.preventDefault(),o.key==="ArrowLeft"&&e>0?(e--,localStorage.setItem("_LOG_INDEX",e),r()):o.key==="ArrowRight"&&e<t.length-1?(e++,localStorage.setItem("_LOG_INDEX",e),r()):o.key==="ArrowUp"&&e>0?(e=Math.max(0,e-5),localStorage.setItem("_LOG_INDEX",e),r()):o.key==="ArrowDown"&&e<t.length-1&&(e=Math.min(t.length-1,e+5),localStorage.setItem("_LOG_INDEX",e),r()))});let s=()=>{let o=document.getElementById("log-reopen-button");o||(o=document.body.appendChild(document.createElement("button")),o.id="log-reopen-button",o.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;margin-right:4px"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>LOG',o.style.cssText="position:fixed; top: 10px; right: 10px;padding:10px 20px;background:#ff3333;color:#fff;border:none;cursor:pointer;font:14px/1.4 monospace;z-index:2147483647;border-radius:8px;display:flex;align-items:center;opacity:1;visibility:visible;box-shadow:0 4px 12px rgba(255,51,51,0.3)",o.onclick=()=>{o.remove(),i()})},i=()=>{let o=document.getElementById("dump-dialog");if(!o){o=document.body.appendChild(document.createElement("div")),o.id="dump-dialog";let l=window.pageYOffset||document.documentElement.scrollTop;o.style.cssText="position:absolute; top:"+(l+20)+"px; left: 20px; right:20px;background:#fff; border:1px solid #333; box-shadow:0 0 10px rgba(0,0,0,0.5);padding:20px; overflow:auto; z-index:2147483646; font:13px/1.4 monospace;white-space:pre; display:block; opacity:1; visibility:visible"}let f=parseInt(localStorage.getItem("_LOG_INDEX"));!isNaN(f)&&f>=0&&f<t.length?e=f:e=t.length-1,r=()=>{let l=t.map((d,p)=>{let g="#f0f0f0";return p!==e&&(n[p]==="object"?g="#d6e3ef":n[p]==="array"&&(g="#d8d5ef")),`<button style="font-size: 14px; font-weight: 400; padding:2px 6px; margin: 0 2px 2px 0;cursor:pointer;background:${p===e?"#333":g};color:${p===e?"#fff":"#000"}" data-index="${p}">${p+1}</button>`}).join("");o.innerHTML='<div style="display:flex;flex-direction:column;height:100%"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px"><div style="display:flex;flex-wrap:wrap;gap:4px;flex:1;margin-right:10px">'+l+'</div><button style="padding:4px 8px;cursor:pointer;flex-shrink:0">&times;</button></div><xmp style="font-family:monospace;flex:1;overflow:auto;margin:0;padding:0;color:#000;background:#fff;font-size:14px;line-height:22px">'+t[e]+"</xmp></div>",o.querySelector('button[style*="flex-shrink:0"]').onclick=()=>{o.remove(),s()},o.querySelectorAll("button[data-index]").forEach(d=>{d.onclick=()=>{e=parseInt(d.dataset.index),localStorage.setItem("_LOG_INDEX",e),r()}})},r()};return o=>{if(!document.body){window.requestAnimationFrame(()=>le(o));return}let f=typeof o;o instanceof Node&&(o.nodeType===Node.TEXT_NODE?o=o.textContent||String(o):o=rt(o.outerHTML)),o===void 0&&(o="undefined"),o===null&&(o="null"),Array.isArray(o)?f="array":typeof o=="object"&&o!==null&&(f="object"),typeof o!="string"&&(o=JSON.stringify(o,(d,p)=>typeof p=="function"?String(p):p,2).replaceAll("<","&lt;")),o=o.trim(),t.push(o+`

type: ${f}`),n.push(f),!!document.getElementById("dump-dialog")?(e=t.length-1,localStorage.setItem("_LOG_INDEX",e),r&&r()):i()}})();typeof window<"u"&&!window.LOG&&(window.LOG=le);var Ee=le;var ve=()=>{let t=parseInt(window.location.port)||80;if(!(Fez.DEV===!0||t>2999&&Fez.DEV!==!1))return;let n=document.querySelectorAll(".fez-highlight-overlay");if(n.length>0){n.forEach(r=>r.remove());return}document.querySelectorAll(".fez, .svelte").forEach(r=>{let s=null,i=null;if(r.classList.contains("fez")&&r.fez&&r.fez.fezName?(s=r.fez.fezName,i="fez"):r.classList.contains("svelte")&&r.svelte&&r.svelte.svelteName&&(s=r.svelte.svelteName,i="svelte"),s){let o=document.createElement("div");o.className="fez-highlight-overlay";let f=r.getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft;o.style.cssText=`
        position: absolute;
        top: ${f.top+l}px;
        left: ${f.left+d}px;
        width: ${f.width}px;
        height: ${f.height}px;
        border: 1px solid ${i==="svelte"?"blue":"red"};
        pointer-events: none;
        z-index: 9999;
      `;let p=document.createElement("div");p.textContent=s,p.style.cssText=`
        position: absolute;
        top: -20px;
        left: 0;
        background: ${i==="svelte"?"blue":"red"};
        color: white;
        padding: 4px 6px 2px 6px;
        font-size: 14px;
        font-family: monospace;
        line-height: 1;
        white-space: nowrap;
        cursor: pointer;
        pointer-events: auto;
        text-transform: uppercase;
      `,p.addEventListener("click",g=>{g.stopPropagation(),Fez.log(r)}),o.appendChild(p),document.body.appendChild(o)}})};document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="e"&&(t.target.closest("form")||(t.preventDefault(),ve()))});var ze=ve;var st=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]),ot=new MutationObserver((t,n)=>{for(let e of t)if(e.type==="attributes"){let r=e.target.fez,s=e.attributeName,i=e.target.getAttribute(s);r&&(r.props[s]=i,r.onPropsChange(s,i))}});function ce(t,n){let e=globalThis.window?.Fez||globalThis.Fez;if(!t.includes("-")){console.error(`Fez: Invalid custom element name "${t}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);return}if(n=it(e,t,n),n.html){let r=n.SLOT||"div";n.html=n.html.replace("<slot",`<${r} class="fez-slot" fez-keep="default-slot"`).replace("</slot>",`</${r}>`),n.fezHtmlFunc=J(n.html)}n.css&&(n.css=e.globalCss(n.css,{name:t})),e.classes[t]=n,customElements.get(t)||customElements.define(t,class extends HTMLElement{connectedCallback(){lt(this,n)?we(t,this):requestAnimationFrame(()=>{we(t,this)})}})}function it(t,n,e){if(e.prototype instanceof j)return e.html&&(e.html=Se(e.html)),e;let r=new e,s=class extends j{},i=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertyNames(e.prototype)].filter(f=>f!=="constructor"&&f!=="prototype");for(let f of i)s.prototype[f]=r[f];let o={FAST:"FAST",GLOBAL:"GLOBAL",CSS:"css",NAME:"nodeName"};for(let[f,l]of Object.entries(o))r[f]&&(s[l]=r[f]);return r.HTML&&(s.html=Se(r.HTML)),r.GLOBAL&&t.onReady(()=>document.body.appendChild(document.createElement(n))),t.consoleLog(`${n} compiled`),s}function lt(t,n){let e=t.getAttribute("fez-fast");if(e==="false")return!1;let r=typeof n.FAST=="function"?n.FAST(t):n.FAST;return!!(e||r||t.childNodes[0]||t.nextSibling)}function Se(t){return t.replace(/<([a-z-]+)\b([^>]*)\/>/g,(n,e,r)=>st.has(e)?n:`<${e}${r}></${e}>`)}function we(t,n){if(!n.isConnected)return;let e=Fez.classes[t],r=typeof e.nodeName=="function"?e.nodeName(n):e.nodeName,s=document.createElement(r||"div");s.classList.add("fez"),s.classList.add(`fez-${t}`),n.parentNode.replaceChild(s,n);let i=new e;if(i.UID=++Fez.instanceCount,Fez.instances.set(i.UID,i),i.oldRoot=n,i.fezName=t,i.root=s,i.props=e.getProps(n,s),i.class=e,i.fezSlot(n,s),s.fez=i,e.GLOBAL&&e.GLOBAL!=!0&&(window[e.GLOBAL]||=i),window.$&&(i.$root=$(s)),i.props.id&&s.setAttribute("id",i.props.id),i.fezRegister(),(i.onInit||i.init||i.created||i.connect)(i.props),i.fezRender(),i.onMount(i.props),i.onSubmit){let f=i.root.nodeName=="FORM"?i.root:i.find("form");f&&(f.onsubmit=l=>{l.preventDefault(),i.onSubmit(i.formData())})}if(i.onPropsChange){ot.observe(s,{attributes:!0});for(let[f,l]of Object.entries(i.props))i.onPropsChange(f,l)}}var ct=t=>{let n={script:"",style:"",html:"",head:""},e=t.split(`
`),r=[],s="";for(var i of e)i=i.trim(),i.startsWith("<script")&&!n.script&&s!="head"?s="script":i.startsWith("<head")&&!n.script?s="head":i.startsWith("<style")?s="style":i.endsWith("<\/script>")&&s==="script"&&!n.script?(n.script=r.join(`
`),r=[],s=null):i.endsWith("</style>")&&s==="style"?(n.style=r.join(`
`),r=[],s=null):(i.endsWith("</head>")||i.endsWith("</header>"))&&s==="head"?(n.head=r.join(`
`),r=[],s=null):s?r.push(i):n.html+=i+`
`;if(n.head){let f=Fez.domRoot(n.head);Array.from(f.children).forEach(l=>{if(l.tagName==="SCRIPT"){let d=document.createElement("script");Array.from(l.attributes).forEach(p=>{d.setAttribute(p.name,p.value)}),d.type||="text/javascript",l.src?document.head.appendChild(d):(d.type.includes("javascript")||d.type=="module")&&(d.textContent=l.textContent,document.head.appendChild(d))}else document.head.appendChild(l.cloneNode(!0))})}let o=n.script;return/class\s+\{/.test(o)||(o=`class {
${o}
}`),String(n.style).includes(":")&&(n.style=Fez.cssMixin(n.style),n.style=n.style.includes(":fez")||/(?:^|\s)body\s*\{/.test(n.style)?n.style:`:fez {
${n.style}
}`,o=o.replace(/\}\s*$/,`
  CSS = \`${n.style}\`
}`)),/\w/.test(String(n.html))&&(n.html=n.html.replaceAll("`","&#x60;"),n.html=n.html.replaceAll("$","\\$"),o=o.replace(/\}\s*$/,`
  HTML = \`${n.html}\`
}`)),o};function ae(t){if(t instanceof Node){let n=t;n.remove();let e=n.getAttribute("fez");if(e&&(e.includes(".")||e.includes("/"))){at(e);return}else{e&&!e.includes("-")&&console.error(`Fez: Invalid custom element name "${e}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),Q(e,n.innerHTML);return}}else{(t?Fez.domRoot(t):document.body).querySelectorAll("template[fez], xmp[fez]").forEach(e=>{ae(e)});return}}function at(t){Fez.consoleLog(`Loading from ${t}`),Fez.fetch(t).then(n=>{let s=new DOMParser().parseFromString(n,"text/html").querySelectorAll("template[fez], xmp[fez]");if(s.length>0)s.forEach(i=>{let o=i.getAttribute("fez");o&&!o.includes("-")&&!o.includes(".")&&!o.includes("/")&&console.error(`Fez: Invalid custom element name "${o}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let f=i.innerHTML;Q(o,f)});else{let i=t.split("/").pop().split(".")[0];Q(i,n)}}).catch(n=>{Fez.onError("compile",`Template load error for "${t}": ${n.message}`)})}function Q(t,n){if(arguments.length===1)return ae(t);if(n&&n.includes("</xmp>"))return ae(n);t&&!t.includes("-")&&!t.includes(".")&&!t.includes("/")&&console.error(`Fez: Invalid custom element name "${t}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let e=ct(n),r=e.split(/class\s+\{/,2);if(e=`${r[0]};

window.Fez('${t}', class {
${r[1]})`,t){let s=document.getElementById("fez-hidden-styles");s||(s=document.createElement("style"),s.id="fez-hidden-styles",document.head.appendChild(s));let i=[...Object.keys(Fez.classes),t].sort().join(", ");s.textContent=`${i} { display: none; }
`}if(e.includes("import "))Fez.head({script:e}),setTimeout(()=>{Fez.classes[t]||Fez.consoleError(`Template "${t}" possible compile error. (can be a false positive, it imports are not loaded)`)},2e3);else try{new Function(e)()}catch(s){Fez.consoleError(`Template "${t}" compile error: ${s.message}`),console.log(e)}}var Ae=Q;var ft={data:{},listeners:new Map,subscribers:new Map,globalSubscribers:new Set,notify(t,n,e){Fez.consoleLog(`Global state change for ${t}: ${n} (from ${e})`);let r=this.listeners.get(t);r&&r.forEach(i=>{i.isConnected?(i.onGlobalStateChange(t,n,e),i.fezRender()):r.delete(i)});let s=this.subscribers.get(t);s&&s.forEach(i=>{try{i(n,e,t)}catch(o){console.error(`Error in subscriber for key ${t}:`,o)}}),this.globalSubscribers.forEach(i=>{try{i(t,n,e)}catch(o){console.error("Error in global subscriber:",o)}})},createProxy(t){return new Proxy({},{get:(n,e)=>(t._globalStateKeys||=new Set,t._globalStateKeys.has(e)||(t._globalStateKeys.add(e),this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)),this.data[e]),set:(n,e,r)=>{let s=this.data[e];return s!==r&&(this.data[e]=r,this.notify(e,r,s)),!0}})},set(t,n){let e=this.data[t];e!==n&&(this.data[t]=n,this.notify(t,n,e))},get(t){return this.data[t]},forEach(t,n){let e=this.listeners.get(t);e&&e.forEach(r=>{r.isConnected?n(r):e.delete(r)})},subscribe(t,n){if(typeof t=="function")return this.globalSubscribers.add(t),()=>this.globalSubscribers.delete(t);{let e=t;return this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e).add(n),()=>{let r=this.subscribers.get(e);r&&(r.delete(n),r.size===0&&this.subscribers.delete(e))}}}},Te=ft;var Ce=t=>{t.head=(s,i)=>{if(s.nodeName){s.nodeName=="SCRIPT"?(t.head({script:s.innerText}),s.remove()):(s.querySelectorAll("script").forEach(g=>t.head(g)),s.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(g=>t.compile(g)));return}if(typeof s!="object"||s===null)throw new Error("head requires an object parameter");let o,f={},l;if(s.script){if(s.script.includes("import ")){i&&t.consoleError("Fez.head callback is not supported when script with import is passed (module context).");let g=document.createElement("script");g.type="module",g.textContent=s.script,document.head.appendChild(g),requestAnimationFrame(()=>g.remove())}else try{new Function(s.script)(),i&&i()}catch(g){t.consoleError("Error executing script:",g),console.log(s.script)}return}else if(s.js){o=s.js,l="script";for(let[g,L]of Object.entries(s))g!=="js"&&g!=="module"&&(f[g]=L);s.module&&(f.type="module")}else if(s.css){o=s.css,l="link",f.rel="stylesheet";for(let[g,L]of Object.entries(s))g!=="css"&&(f[g]=L)}else throw new Error('head requires either "script", "js" or "css" property');let d=document.querySelector(`${l}[src="${o}"], ${l}[href="${o}"]`);if(d)return i&&i(),d;let p=document.createElement(l);l==="link"?p.href=o:p.src=o;for(let[g,L]of Object.entries(f))p.setAttribute(g,L);return(i||s.module)&&(p.onload=()=>{s.module&&l==="script"&&import(o).then(g=>{window[s.module]=g.default||g[s.module]||g}).catch(g=>{console.error(`Error importing module ${s.module}:`,g)}),i&&i()}),document.head.appendChild(p),p};let n=5*60*1e3,e=100;t.fetch=function(...s){t._fetchCache||=new Map;let i="GET",o,f;typeof s[0]=="string"&&/^[A-Z]+$/.test(s[0])&&(i=s.shift()),o=s.shift();let l={},d=null;if(typeof s[0]=="object"&&(d=s.shift()),typeof s[0]=="function"&&(f=s.shift()),d){if(i==="GET"){let A=new URLSearchParams(d);o+=(o.includes("?")?"&":"?")+A.toString()}else if(i==="POST"){let A=new FormData;for(let[F,E]of Object.entries(d))A.append(F,E);l.body=A}}l.method=i;let p=`${i}:${o}:${JSON.stringify(l)}`,g=t._fetchCache.get(p);if(g&&Date.now()-g.timestamp<n){if(t.consoleLog(`fetch cache hit: ${i} ${o}`),f){f(g.data);return}return Promise.resolve(g.data)}t.consoleLog(`fetch live: ${i} ${o}`);let L=A=>A.headers.get("content-type")?.includes("application/json")?A.json():A.text(),T=(A,F)=>{if(t._fetchCache.size>=e){let E=t._fetchCache.keys().next().value;t._fetchCache.delete(E)}t._fetchCache.set(A,{data:F,timestamp:Date.now()})};if(f){fetch(o,l).then(L).then(A=>{T(p,A),f(A)}).catch(A=>t.onError("fetch",A));return}return fetch(o,l).then(L).then(A=>(T(p,A),A))},t.clearFetchCache=()=>{t._fetchCache?.clear()},t.darkenColor=(s,i=20)=>{let o=parseInt(s.replace("#",""),16),f=Math.round(2.55*i),l=(o>>16)-f,d=(o>>8&255)-f,p=(o&255)-f;return"#"+(16777216+(l<255?l<1?0:l:255)*65536+(d<255?d<1?0:d:255)*256+(p<255?p<1?0:p:255)).toString(16).slice(1)},t.lightenColor=(s,i=20)=>{let o=parseInt(s.replace("#",""),16),f=Math.round(2.55*i),l=(o>>16)+f,d=(o>>8&255)+f,p=(o&255)+f;return"#"+(16777216+(l<255?l<1?0:l:255)*65536+(d<255?d<1?0:d:255)*256+(p<255?p<1?0:p:255)).toString(16).slice(1)},t.htmlEscape=s=>typeof s=="string"?s.replace(/font-family\s*:\s*(?:&[^;]+;|[^;])*?;/gi,"").replaceAll("&","&amp;").replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;"):s===void 0?"":s,t.domRoot=(s,i="div")=>{if(s instanceof Node)return s;{let o=document.createElement(i);return o.innerHTML=s,o}},t.activateNode=(s,i="active")=>{Array.from(s.parentElement.children).forEach(o=>{o.classList.remove(i)}),s.classList.add(i)},t.isTrue=s=>["1","true","on"].includes(String(s).toLowerCase()),t.UID=111,t.uid=()=>"fez_uid_"+(++t.UID).toString(32),t.POINTER_SEQ=0,t.POINTER={},t.pointer=(s,i={})=>{if(typeof s=="function"){let o=++t.POINTER_SEQ;return i.persist?t.POINTER[o]=s:t.POINTER[o]=(...f)=>{let l=s(...f);return delete t.POINTER[o],l},`Fez.POINTER[${o}]`}},t.clearPointers=()=>{t.POINTER={}},t.getFunction=s=>{if(s){if(typeof s=="function")return s;if(typeof s=="string"){let i=/^\s*\(?\s*\w+(\s*,\s*\w+)*\s*\)?\s*=>/,o=/^\s*function\s*\(/;return i.test(s)||o.test(s)?new Function("return "+s)():s.includes(".")&&!s.includes("(")?new Function(`return function() { return ${s}(); }`):new Function(s)}}else return()=>{}},t.onReady=s=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{s()},{once:!0}):s()},t.fnv1=s=>{var i,o,f,l,d,p;for(i=2166136261,o=16777619,f=i,l=d=0,p=s.length-1;0<=p?d<=p:d>=p;l=0<=p?++d:--d)f^=s.charCodeAt(l),f*=o;return f.toString(36).replaceAll("-","")},t.tag=(s,i={},o="")=>{let f=encodeURIComponent(JSON.stringify(i));return`<${s} data-props="${f}">${o}</${s}>`},t.untilTrue=(s,i)=>{i||=200,s()||setTimeout(()=>{t.untilTrue(s,i)},i)};let r=200;t.throttle=(s,i=r)=>{let o=0,f;return function(...l){let d=Date.now();d-o>=i?(s.apply(this,l),o=d):(clearTimeout(f),f=setTimeout(()=>{s.apply(this,l),o=Date.now()},i-(d-o)))}}};var Le={},_e=t=>{t.cssMixin=(n,e)=>{if(e)Le[n]=e;else return Object.entries(Le).forEach(([r,s])=>{n=n.replaceAll(`:${r} `,`${s} `),n=n.replaceAll(`@include ${r} `,`${s} `)}),n},t.cssMixin("mobile","@media (max-width: 767px)"),t.cssMixin("tablet","@media (min-width: 768px) and (max-width: 1023px)"),t.cssMixin("desktop","@media (min-width:  1200px)")};var v=(t,n)=>{if(typeof t=="number"){let e=v.instances.get(t);if(e)return e;v.consoleError(`Instance with UID "${t}" not found.`)}else if(t)if(n)if(typeof n=="function"&&!/^\s*class/.test(n.toString())&&!/\b(this|new)\b/.test(n.toString())){let r=Array.from(document.querySelectorAll(`.fez.fez-${t}`)).filter(s=>s.fez);return r.forEach(s=>n(s.fez)),r}else return typeof n!="function"?v.find(t,n):ce(t,n);else{let e=t.nodeName?t.closest(".fez"):document.querySelector(t.includes("#")?t:`.fez.fez-${t}`);if(e){if(e.fez)return e.fez;v.consoleError(`node "${t}" has no Fez attached.`)}else v.consoleError(`node "${t}" not found.`)}else v.consoleError("Fez() ?")};v.classes={};v.instanceCount=0;v.instances=new Map;v.find=(t,n)=>{let e=t;typeof e=="string"&&(e=document.body.querySelector(e)),typeof e.val=="function"&&(e=e[0]);let r=n?`.fez.fez-${n}`:".fez",s=e.closest(r);if(s&&s.fez)return s.fez;v.onError("find","Node connector not found",{original:t,resolved:e})};v.cssClass=t=>ye.css(t);v.globalCss=(t,n={})=>{if(typeof t=="function"&&(t=t()),t.includes(":")){let e=t.split(`
`).filter(r=>!/^\s*\/\//.test(r)).join(`
`);n.wrap&&(e=`:fez { ${e} }`),e=e.replace(/\:fez|\:host/,`.fez.fez-${n.name}`),t=v.cssClass(e)}return v.onReady(()=>{document.body.parentElement.classList.add(t)}),t};v.info=()=>{console.log("Fez components:",Object.keys(v.classes||{}))};v.morphdom=(t,n,e={})=>{Array.from(t.attributes).forEach(s=>{n.setAttribute(s.name,s.value)}),$e.morph(t,n,{morphStyle:"outerHTML"});let r=t.nextSibling;r?.nodeType===Node.TEXT_NODE&&r.textContent.trim()===""&&r.remove()};v._globalSubs||=new Map;v.publish=(t,...n)=>{v._subs||={},v._subs[t]||=[],v._subs[t].forEach(r=>{r[1].bind(r[0])(...n)});let e=v._globalSubs.get(t);e&&e.forEach(r=>{r.node&&r.node.isConnected?r.callback.call(r.node,...n):e.delete(r)})};v.subscribe=(t,n,e)=>{typeof n=="function"&&(e=n,n=t,t=document.body),typeof t=="string"&&(t=document.querySelector(t)),v._globalSubs.has(n)||v._globalSubs.set(n,new Set);let r=v._globalSubs.get(n);r.forEach(i=>{i.node===t&&i.callback===e&&r.delete(i)});let s={node:t,callback:e};return r.add(s),()=>{r.delete(s)}};v.consoleError=(t,n)=>{if(t=`Fez: ${t}`,console.error(t),n)return`<span style="border: 1px solid red; font-size: 14px; padding: 3px 7px; background: #fee; border-radius: 4px;">${t}</span>`};v.consoleLog=t=>{v.LOG===!0&&(t=String(t).substring(0,180),console.log(`Fez: ${t}`))};v.onError=(t,n,e)=>{let r=`Fez ${t}: ${n?.toString?.()||n}`;return console.error(r,e||""),r};v.store={store:new Map,counter:0,set(t){let n=this.counter++;return this.store.set(n,t),n},get(t){return this.store.get(t)},delete(t){let n=this.store.get(t);return this.store.delete(t),n}};Ce(v);_e(v);v.compile=Ae;v.state=Te;v.log=Ee;v.highlightAll=ze;v.onReady(()=>{v.consoleLog("Fez.LOG === true, logging enabled.")});var P=v;typeof window<"u"&&(window.FezBase=j);typeof window<"u"&&(window.Fez=P);Promise.resolve().then(()=>Fe());var ut=5e3;setInterval(()=>{for(let[t,n]of P.instances)n?.isConnected||(n.fez?.fezOnDestroy(),P.instances.delete(t))},ut);var dt=new MutationObserver(t=>{for(let{addedNodes:n,removedNodes:e}of t)n.forEach(r=>{r.nodeType===1&&(r.matches("template[fez], xmp[fez], script[fez]")&&(P.compile(r),r.remove()),r.querySelectorAll&&r.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(i=>{P.compile(i),i.remove()}))}),e.forEach(r=>{r.nodeType===1&&r.querySelectorAll&&r.querySelectorAll(".fez, :scope.fez").forEach(i=>{i.fez&&i.root&&(P.instances.delete(i.fez.UID),i.fez.fezOnDestroy())})})});dt.observe(document.documentElement,{childList:!0,subtree:!0});var Yt=P;})();
//# sourceMappingURL=fez.js.map
