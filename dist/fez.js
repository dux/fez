(()=>{function te(n,t){let e=/(\r\n|\r|\n)/g,r=/{{\s*(.+?)\s*}}/g,s=/^each\s+(.*)\s+as\s+(.*)$/,i=/^if\s+(.*)$/,o=/^else if\s+(.*)$/;function l(v){let b=S=>S.replaceAll("@","this."),N=`
      let _strings = [], _sequence = [], _values = [];

      function htmlEscape(text) {
        if (typeof text === 'string') {
          return text
            .replaceAll("'", '&apos;')
            .replaceAll('"', '&quot;')
            .replaceAll('<', '&lt;')
            .replaceAll('>', '&gt;')
        } else {
          return text
        }
      }

      _sequence.push('${v.trim().replace(e,"\\n").replace(r,(S,f)=>{if(f=f.replace(/^[#:]/,""),f.startsWith("each")||f.startsWith("for")){let h=f.split(/\s+/);if(h.shift()==="for"){let F=h.pop();h.pop(),f=`each ${F} as ${h.join(" ")}`}let _=s.exec(f);if(_)return _[1]=b(_[1]),`');
 (!Array.isArray(${_[1]}) ? Array.from(Object.entries(${_[1]} || []), ([key, value]) => [key, value]) : ${_[1]}).forEach((${_[2]}) => { _sequence.push('`}else if(f.startsWith("if")){let h=i.exec(f);if(h)return h[1]=b(h[1]),`');
 if (${h[1]}) { _sequence.push('`}else if(f.startsWith("else if")){let h=o.exec(f);if(h)return h[1]=b(h[1]),`');
 } else if (${h[1]}) { _sequence.push('`}else{if(f==="else")return`');
 } else { _sequence.push('`;if(f==="/each"||f==="/for")return`');
 }); _sequence.push('`;if(f==="/if")return`');
 } _sequence.push('`}let O=f.split(/^\@html\s+/);return O[1]?f=b(O[1]):f=`htmlEscape(${b(f)})`,`');
 _strings.push(_sequence.join(''));
 _sequence = [];
 _values.push(${f});
 _sequence.push('`})}');
      _strings.push(_sequence.join(''));
      return [_strings, _values];
    `;return new Function("_data",N)}function c(v){let b=l(v);return()=>{let[N,S]=b.bind(t)();return N.reduce((f,O,h)=>f+S[h-1]+O)}}function p(v){let b=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return v.replace(/<([a-z-]+)\b([^>]*)\/>/g,(N,S,f)=>b.has(S)?N:`<${S}${f}></${S}>`)}return n=p(n),c(n)().replace(/\n\s*\n/g,`
`)}var ne,Ee="http://www.w3.org/1999/xhtml",E=typeof document>"u"?void 0:document,Ce=!!E&&"content"in E.createElement("template"),_e=!!E&&E.createRange&&"createContextualFragment"in E.createRange();function Te(n){return n=n.trim(),Ce?function(t){var e=E.createElement("template");return e.innerHTML=t,e.content.childNodes[0]}(n):_e?function(t){return ne||(ne=E.createRange()).selectNode(E.body),ne.createContextualFragment(t).childNodes[0]}(n):function(t){var e=E.createElement("body");return e.innerHTML=t,e.childNodes[0]}(n)}function W(n,t){var e,r,s=n.nodeName,i=t.nodeName;return s===i||(e=s.charCodeAt(0),r=i.charCodeAt(0),e<=90&&r>=97?s===i.toUpperCase():r<=90&&e>=97&&i===s.toUpperCase())}function re(n,t,e){n[e]!==t[e]&&(n[e]=t[e],n[e]?n.setAttribute(e,""):n.removeAttribute(e))}var de={OPTION:function(n,t){var e=n.parentNode;if(e){var r=e.nodeName.toUpperCase();r==="OPTGROUP"&&(r=(e=e.parentNode)&&e.nodeName.toUpperCase()),r!=="SELECT"||e.hasAttribute("multiple")||(n.hasAttribute("selected")&&!t.selected&&(n.setAttribute("selected","selected"),n.removeAttribute("selected")),e.selectedIndex=-1)}re(n,t,"selected")},INPUT:function(n,t){re(n,t,"checked"),re(n,t,"disabled"),n.value!==t.value&&(n.value=t.value),t.hasAttribute("value")||n.removeAttribute("value")},TEXTAREA:function(n,t){var e=t.value;n.value!==e&&(n.value=e);var r=n.firstChild;if(r){var s=r.nodeValue;if(s==e||!e&&s==n.placeholder)return;r.nodeValue=e}},SELECT:function(n,t){if(!t.hasAttribute("multiple")){for(var e,r,s=-1,i=0,o=n.firstChild;o;)if((r=o.nodeName&&o.nodeName.toUpperCase())==="OPTGROUP")o=(e=o).firstChild;else{if(r==="OPTION"){if(o.hasAttribute("selected")){s=i;break}i++}!(o=o.nextSibling)&&e&&(o=e.nextSibling,e=null)}n.selectedIndex=s}}};function L(){}function Se(n){if(n)return n.getAttribute&&n.getAttribute("id")||n.id}var pe=function(n){return function(t,e,r){if(r||(r={}),typeof e=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var s=e;(e=E.createElement("html")).innerHTML=s}else e=Te(e);else e.nodeType===11&&(e=e.firstElementChild);var i=r.getNodeKey||Se,o=r.onBeforeNodeAdded||L,l=r.onNodeAdded||L,c=r.onBeforeElUpdated||L,p=r.onElUpdated||L,v=r.onBeforeNodeDiscarded||L,b=r.onNodeDiscarded||L,N=r.onBeforeElChildrenUpdated||L,S=r.skipFromChildren||L,f=r.addChild||function(u,a){return u.appendChild(a)},O=r.childrenOnly===!0,h=Object.create(null),_=[];function F(u){_.push(u)}function le(u,a){if(u.nodeType===1)for(var d=u.firstChild;d;){var C=void 0;a&&(C=i(d))?F(C):(b(d),d.firstChild&&le(d,a)),d=d.nextSibling}}function H(u,a,d){v(u)!==!1&&(a&&a.removeChild(u),b(u),le(u,d))}function X(u){l(u);for(var a=u.firstChild;a;){var d=a.nextSibling,C=i(a);if(C){var j=h[C];j&&W(a,j)?(a.parentNode.replaceChild(j,a),B(j,a)):X(a)}else X(a);a=d}}function B(u,a,d){var C=i(a);if(C&&delete h[C],!d){var j=c(u,a);if(j===!1||(j instanceof HTMLElement&&(u=j),n(u,a),p(u),N(u,a)===!1))return}u.nodeName!=="TEXTAREA"?function(T,Q){var I,w,M,V,R,ce=S(T,Q),m=Q.firstChild,g=T.firstChild;e:for(;m;){for(V=m.nextSibling,I=i(m);!ce&&g;){if(M=g.nextSibling,m.isSameNode&&m.isSameNode(g)){m=V,g=M;continue e}w=i(g);var k=g.nodeType,q=void 0;if(k===m.nodeType&&(k===1?(I?I!==w&&((R=h[I])?M===R?q=!1:(T.insertBefore(R,g),w?F(w):H(g,T,!0),w=i(g=R)):q=!1):w&&(q=!1),(q=q!==!1&&W(g,m))&&B(g,m)):k!==3&&k!=8||(q=!0,g.nodeValue!==m.nodeValue&&(g.nodeValue=m.nodeValue))),q){m=V,g=M;continue e}w?F(w):H(g,T,!0),g=M}if(I&&(R=h[I])&&W(R,m))ce||f(T,R),B(R,m);else{var ee=o(m);ee!==!1&&(ee&&(m=ee),m.actualize&&(m=m.actualize(T.ownerDocument||E)),f(T,m),X(m))}m=V,g=M}(function(ye,U,ue){for(;U;){var Ne=U.nextSibling;(ue=i(U))?F(ue):H(U,ye,!0),U=Ne}})(T,g,w);var fe=de[T.nodeName];fe&&fe(T,Q)}(u,a):de.TEXTAREA(u,a)}(function u(a){if(a.nodeType===1||a.nodeType===11)for(var d=a.firstChild;d;){var C=i(d);C&&(h[C]=d),u(d),d=d.nextSibling}})(t);var K,Y,A=t,D=A.nodeType,ae=e.nodeType;if(!O){if(D===1)ae===1?W(t,e)||(b(t),A=function(u,a){for(var d=u.firstChild;d;){var C=d.nextSibling;a.appendChild(d),d=C}return a}(t,(K=e.nodeName,(Y=e.namespaceURI)&&Y!==Ee?E.createElementNS(Y,K):E.createElement(K)))):A=e;else if(D===3||D===8){if(ae===D)return A.nodeValue!==e.nodeValue&&(A.nodeValue=e.nodeValue),A;A=e}}if(A===e)b(t);else{if(e.isSameNode&&e.isSameNode(A))return;if(B(A,e,O),_)for(var Z=0,Ae=_.length;Z<Ae;Z++){var J=h[_[Z]];J&&H(J,J.parentNode,!1)}}return!O&&A!==t&&t.parentNode&&(A.actualize&&(A=A.actualize(t.ownerDocument||E)),t.parentNode.replaceChild(A,t)),A}}(function(n,t){var e,r,s,i,o=t.attributes;if(t.nodeType!==11&&n.nodeType!==11){for(var l=o.length-1;l>=0;l--)r=(e=o[l]).name,s=e.namespaceURI,i=e.value,s?(r=e.localName||r,n.getAttributeNS(s,r)!==i&&(e.prefix==="xmlns"&&(r=e.name),n.setAttributeNS(s,r,i))):n.getAttribute(r)!==i&&n.setAttribute(r,i);for(var c=n.attributes,p=c.length-1;p>=0;p--)r=(e=c[p]).name,(s=e.namespaceURI)?(r=e.localName||r,t.hasAttributeNS(s,r)||n.removeAttributeNS(s,r)):t.hasAttribute(r)||n.removeAttribute(r)}});var we={data:""},me=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||we,ze=n=>{let t=me(n),e=t.data;return t.data="",e},$e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Oe=/\/\*[^]*?\*\/|  +/g,he=/\n+/g,x=(n,t)=>{let e="",r="",s="";for(let i in n){let o=n[i];i[0]=="@"?i[1]=="i"?e=i+" "+o+";":r+=i[1]=="f"?x(o,i):i+"{"+x(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=x(o,t?t.replace(/([^,])+/g,l=>i.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=x.p?x.p(i,o):i+":"+o+";")}return e+(t&&s?t+"{"+s+"}":s)+r},z={},be=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+be(n[e]);return t}return n},je=(n,t,e,r,s)=>{let i=be(n),o=z[i]||(z[i]=(c=>{let p=0,v=11;for(;p<c.length;)v=101*v+c.charCodeAt(p++)>>>0;return"go"+v})(i));if(!z[o]){let c=i!==n?n:(p=>{let v,b,N=[{}];for(;v=$e.exec(p.replace(Oe,""));)v[4]?N.shift():v[3]?(b=v[3].replace(he," ").trim(),N.unshift(N[0][b]=N[0][b]||{})):N[0][v[1]]=v[2].replace(he," ").trim();return N[0]})(n);z[o]=x(s?{["@keyframes "+o]:c}:c,e?"":"."+o)}let l=e&&z.g?z.g:null;return e&&(z.g=z[o]),((c,p,v,b)=>{b?p.data=p.data.replace(b,c):p.data.indexOf(c)===-1&&(p.data=v?c+p.data:p.data+c)})(z[o],t,r,l),o},Re=(n,t,e)=>n.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let l=o(e),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":x(l,""):l===!1?"":l}return r+s+(o??"")},"");function G(n){let t=this||{},e=n.call?n(t.p):n;return je(e.unshift?e.raw?Re(e,[].slice.call(arguments,1),t.p):e.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):e,me(t.target),t.g,t.o,t.k)}var ve,ie,se,Le=G.bind({g:1}),xe=G.bind({k:1});function qe(n,t,e,r){x.p=t,ve=n,ie=e,se=r}function Fe(n,t){let e=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;e.p=Object.assign({theme:ie&&ie()},l),e.o=/ *go\d+/.test(c),l.className=G.apply(e,r)+(c?" "+c:""),t&&(l.ref=o);let p=n;return n[0]&&(p=l.as||n,delete l.as),se&&p[0]&&se(l),ve(p,l)}return t?t(s):s}}var ge={css:G,extractCss:ze,glob:Le,keyframes:xe,setup:qe,styled:Fe};function oe(n,t={},e){if(typeof t=="string"&&([t,e]=[e,t],t||={}),t instanceof Node&&(e=t,t={}),Array.isArray(n)&&(e=n,n="div"),(typeof t!="object"||Array.isArray(t))&&(e=t,t={}),n.includes(".")){let s=n.split(".");n=s.shift()||"div";let i=s.join(" ");t.class?t.class+=` ${i}`:t.class=i}let r=document.createElement(n);for(let[s,i]of Object.entries(t))if(typeof i=="function")r[s]=i.bind(this);else{let o=String(i).replaceAll("$$.",this.fezHtmlRoot);r.setAttribute(s,o)}if(e)if(Array.isArray(e))for(let s of e)r.appendChild(s);else e instanceof Node?r.appendChild(e):r.innerHTML=String(e);return r}var P=class{static __objects=[];static find(t,e){return y.find(t,e)}static fnv1(t){var e,r,s,i,o,l;for(e=2166136261,r=16777619,s=e,i=o=0,l=t.length-1;0<=l?o<=l:o>=l;i=0<=l?++o:--o)s^=t.charCodeAt(i),s*=r;return s.toString(36).replaceAll("-","")}static getProps(t){let e={};for(let r of t.attributes)e[r.name]=r.value;return e}static formData(t){let e=new FormData(t.closest("form")),r={};return e.forEach((s,i)=>{r[i]=s}),r}static fastBind(){return!1}constructor(){this.__int={}}n=oe;get fezHtmlRoot(){return`Fez.find(this, "${this.fezName}").`}get isAttached(){return this.root.parentNode?!0:(Object.keys(this.__int).forEach(t=>{clearInterval(this.__int[t])}),this.root.fez=null,this.root=null,!1)}prop(t){let e=this.oldRoot[t]||this.props[t];return typeof e=="function"&&(e=e.bind(this.root)),e}copy(){for(let t of Array.from(arguments)){let e=this.props[t];if(e!==void 0){if(t=="class"){let r=this.root.getAttribute(t,e);r&&(e=[r,e].join(" "))}typeof e=="string"?this.root.setAttribute(t,e):this.root[t]=e}}}slot(t,e){e||=document.createElement("template");let r=e.nodeName=="SLOT";for(;t.firstChild;)r?e.parentNode.insertBefore(t.lastChild,e.nextSibling):e.appendChild(t.firstChild);return r?e.parentNode.removeChild(e):t.innerHTML="",e}style(){console.error("call Fez static style")}connect(){console.error('Fez is missing "connect" method.',this.root)}parseHtml(t,e){if(typeof t=="object"&&(t=t[0]),t=t.replaceAll("$$.",this.fezHtmlRoot.replaceAll('"',"&quot;")),t.includes("{{"))try{t=te(t,this)}catch(r){console.error(`Fez stache template error in "${this.fezName}"`,r)}return t=t.replaceAll(">,<","><").replace(/\s*undefined\s*/g,""),t}html(t,e){typeof e>"u"&&(e=t,t=this.root),typeof t=="string"&&(t=this.find(t));let r=document.createElement("div");Array.isArray(e)?e[0]instanceof Node?e.forEach(i=>{r.appendChild(i)}):e=e.join(""):typeof e=="string"?r.innerHTML=this.parseHtml(e):r.appendChild(e);let s=r.querySelector("slot");s&&this.slot(t,s),y.morphdom(t,r),t.querySelectorAll("*[fez-this]").forEach(i=>{let o=i.getAttribute("fez-this").replace(/[^\w\.\[\]]/,"");this[o]=i}),t.querySelectorAll("*[fez-use]").forEach(i=>{let o=i.getAttribute("fez-use");this[o](i)})}setInterval(t,e,r){return typeof t=="number"&&([e,t]=[t,e]),r||=this.class.fnv1(String(t)),clearInterval(this.__int[r]),this.__int[r]=setInterval(()=>{this.isAttached&&t()},e),this.__int[r]}css(t,e){let r=y.css(t);return e&&this.root.classList.add(r),r}find(t){return this.root.querySelector(t)}val(t,e){let r=this.find(".time");["INPUT","TEXTAREA","SELECT"].includes(r.nodeName)?r.value=e:r.innerHTML=new Date}formData(t){return this.class.formData(t||this.root)}attr(t,e){return typeof e>"u"?this.root.getAttribute(t):(this.root.setAttribute(t,e),e)}childNodes(t){let e=Array.from(this.root.querySelectorAll(":scope > *"));if(t)e.forEach(t);else return e}fezRegister(){this.class.css&&(this.class.css.includes(":")&&(this.class.css=y.css(this.class.css)),this.root.classList.add(this.class.css)),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(e=>e!=="constructor"&&typeof this[e]=="function").forEach(e=>this[e]=this[e].bind(this))}};setInterval(()=>{P.__objects=P.__objects.filter(n=>n.isAttached)},1e4);var Ie=new MutationObserver((n,t)=>{for(let e of n)if(e.type==="attributes"){let r=e.target.fez,s=e.attributeName,i=e.target.getAttribute(s);r.props[s]=i,r.onPropsChange(s,i)}}),y=(n,t)=>{function e(){let s=this.parentNode;if(s){let i=typeof t.nodeName=="function"?t.nodeName(this):t.nodeName,o=document.createElement(i||"div");o.classList.add("fez"),o.classList.add(`fez-${n}`),s.replaceChild(o,this);let l=new t;l.oldRoot=this,l.fezName=n,l.root=o,l.props=t.getProps(this),l.class=t,l.slot(this,o),o.fez=l,window.$&&(l.$root=$(o)),l.props.id&&o.setAttribute("id",l.props.id),l.fezRegister(),l.connect(l.props),t.__objects.push(l),l.onPropsChange&&Ie.observe(o,{attributes:!0})}}function r(s){return typeof t.fastBind=="function"?t.fastBind(s):t.fastBind}if(!n)return P;if(typeof t!="function")return y.find(n,t);customElements.define(n,class extends HTMLElement{connectedCallback(){this.firstChild||r(this)?(y.info(`fast bind: ${n}`),e.bind(this)()):(y.info(`slow bind: ${n}`),window.requestAnimationFrame(()=>{e.bind(this)()}))}})};y.find=(n,t)=>{typeof n=="string"&&(n=document.body.querySelector(n)),typeof n.val=="function"&&(n=n[0]);let e=t?`.fez-${t}`:".fez";return n.closest(e).fez};y.globalCss=n=>{let t=y.css(n);return document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add(t)}),t};y.css=n=>ge.css(n);y.info=n=>{window.DEBUG&&console.log(`Fez: ${n}`)};y.morphdom=(n,t,e={})=>{e.childrenOnly===void 0&&(e.childrenOnly=!0),pe(n,t,e)};y.htmlEscape=n=>n.replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;");window.Fez=y;window.FezBase=P;})();
