(()=>{var Le=Object.defineProperty;var Fe=(r,t)=>()=>(r&&(t=r(r=0)),t);var xe=(r,t)=>{for(var e in t)Le(r,e,{get:t[e],enumerable:!0})};var be={};xe(be,{loadDefaults:()=>me});var me,ye=Fe(()=>{me=()=>{Fez("fez-component",class{init(e){let o=document.createElement(e.name);for(o.props=e.props||e["data-props"]||e;this.root.firstChild;)this.root.parentNode.insertBefore(this.root.lastChild,o.nextSibling);this.root.innerHTML="",this.root.appendChild(o)}}),Fez("fez-include",class{init(e){Fez.fetch(e.src,o=>{let s=Fez.domRoot(o);Fez.head(s),this.root.innerHTML=s.innerHTML})}}),Fez("fez-inline",class{init(e){e["wait-for"]||=()=>!0,Fez.untilTrue(()=>{if(e["wait-for"]())return this.mountIt(),!0},100)}mountIt(){let e=this.root.innerHTML;if(e){let s=`inline-${Fez.fnv1(this.root.outerHTML)}`;Fez(s,class{HTML=e;init(){Object.assign(this.state,this.props.state||{})}});let i=document.createElement(s);this.root.after(this.root.lastChild,i),this.root.remove()}}}),Fez("fez-if",class{init(e){new Function(`return (${e.if||e.test})`)()||this.root.remove()}});let r=new Map,t=50;Fez.clearMemoStore=()=>{r.clear(),Fez.consoleLog("Memoize store cleared")},Fez("fez-memoize",class{init(e){if(!e.key){Fez.consoleError("fez-memoize: key prop is required");return}if(r.has(e.key)){let o=r.get(e.key);Fez.consoleLog(`Memoize - key: "${e.key}" - restore`),this.root.innerHTML="",this.root.appendChild(o.cloneNode(!0))}}onMount(e){r.has(e.key)||requestAnimationFrame(()=>{if(r.size>=t){let s=r.keys().next().value;r.delete(s),Fez.consoleLog(`Memoize - evicted oldest key: "${s}"`)}let o=document.createElement("div");o.innerHTML=this.root.innerHTML,Fez.consoleLog(`Memoize - key: "${e.key}" - set`),r.set(e.key,o)})}})};typeof Fez<"u"&&Fez&&me()});function q(r,t={},e){if(typeof t=="string"&&([t,e]=[e,t],t||={}),t instanceof Node&&(e=t,t={}),Array.isArray(r)&&(e=r,r="div"),(typeof t!="object"||Array.isArray(t))&&(e=t,t={}),r.includes(".")){let s=r.split(".");r=s.shift()||"div";let i=s.join(" ");t.class?t.class+=` ${i}`:t.class=i}let o=document.createElement(r);for(let[s,i]of Object.entries(t))if(typeof i=="function")o[s]=i.bind(this);else{let n=String(i).replaceAll("fez.",this.fezHtmlRoot);o.setAttribute(s,n)}if(e)if(Array.isArray(e))for(let s of e)o.appendChild(s);else e instanceof Node?o.appendChild(e):o.innerHTML=String(e);return o}var O=new Map,Ie=200;function _e(r,t){if(r=r.replace(/^#?raw/,"@html").replace(/^#?html/,"@html"),r.startsWith("#if")||r.startsWith("if"))return t.push(!1),r=r.replace(/^#?if/,""),`\${ ${r} ? \``;if(r.startsWith("#unless")||r.startsWith("unless"))return t.push(!1),r=r.replace(/^#?unless/,""),`\${ !(${r}) ? \``;if(r=="/block")return"`) && ''}";if(r.startsWith("#for")||r.startsWith("for")){r=r.replace(/^#?for/,"");let e=r.split(" in ",2);return"${"+e[1]+".map(("+e[0]+")=>`"}else if(r.startsWith("#each")||r.startsWith("each")){r=r.replace(/^#?each/,"");let e=r.split(" as ",2);return"${"+e[0]+".map(("+e[1]+")=>`"}else{if(r==":else"||r=="else")return t[t.length-1]=!0,"` : `";if(r=="/if"||r=="/unless")return t.pop()?"`}":"` : ``}";if(r=="/for"||r=="/each")return'`).join("")}';{let e="@html ";return r.startsWith("json ")&&(r=r.replace("json ","@html '<pre class=json>'+JSON.stringify("),r+=", null, 2) + '</pre>'"),r.startsWith(e)?r=r.replace(e,""):r=`Fez.htmlEscape(${r})`,"${"+r+"}"}}}function D(r,t={}){let e=r;if(O.has(e))return O.get(e);let o=[];r=r.replaceAll("[[","{{").replaceAll("]]","}}"),r=r.replace(/(\w+)=\{\{\s*(.*?)\s*\}\}([\s>])/g,(n,f,u,d)=>`${f}="{{ ${u} }}"${d}`);let s={};r=r.replace(/\{\{block\s+(\w+)\s*\}\}([^ยง]+)\{\{\/block\}\}/g,(n,f,u)=>(s[f]=u,"")),r=r.replace(/\{\{block:([\w\-]+)\s*\}\}/g,(n,f)=>s[f]||`block:${f}?`),r=r.replace(/:(\w+)="([\w\.\[\]]+)"/,(n,f,u)=>`:${f}=Fez.store.delete({{ Fez.store.set(${u}) }})`);let i=r.replace(/{{(.*?)}}/g,(n,f)=>(f=f.replaceAll("&#x60;","`"),f=f.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),_e(f,o)));i=i.replace(/<!\-\-.*?\-\->/g,"").replace(/>\s+</g,"><"),i="`"+i.trim()+"`";try{let n=`const fez = this;
      with (this) {
        return ${i}
      }
    `,f=new Function(n),u=d=>{try{return f.bind(d)()}catch(h){h.message=`FEZ template runtime error: ${h.message}

Template source: ${i}`,console.error(h)}};if(O.size>=Ie){let d=O.keys().next().value;O.delete(d)}return O.set(e,u),u}catch(n){return n.message=`FEZ template compile error: ${n.message}Template source:
${i}`,console.error(n),()=>Fez.consoleError("Template Compile Error",!0)}}var I=class{static getProps(t,e){let o={};if(t.props)return t.props;for(let s of t.attributes)o[s.name]=s.value;for(let[s,i]of Object.entries(o))if([":"].includes(s[0])){delete o[s];try{let n=new Function(`return (${i})`).bind(e)();o[s.replace(/[\:_]/,"")]=n}catch(n){Fez.onError("attr",`Error evaluating ${s}="${i}" for ${t.tagName}: ${n.message}`)}}if(o["data-props"]){let s=o["data-props"];if(typeof s=="object")return s;s[0]!="{"&&(s=decodeURIComponent(s));try{o=JSON.parse(s)}catch(i){Fez.onError("props",`Invalid JSON in data-props for ${t.tagName}: ${i.message}`)}}else if(o["data-json-template"]){let s=e.previousSibling?.textContent;if(s)try{o=JSON.parse(s),e.previousSibling.remove()}catch(i){Fez.onError("props",`Invalid JSON in template for ${t.tagName}: ${i.message}`)}}return o}static formData(t){let e=t.closest("form")||t.querySelector("form");if(!e)return Fez.consoleLog("No form found for formData()"),{};let o=new FormData(e),s={};return o.forEach((i,n)=>{s[n]=i}),s}static nodeName="div";constructor(){}n=q;get fezHtmlRoot(){return`Fez(${this.UID}).`}get isConnected(){return this.root?.isConnected?!0:(this.fezOnDestroy(),!1)}prop(t){let e=this.oldRoot[t]||this.props[t];return typeof e=="function"&&(e=e.bind(this.root)),e}copy(){for(let t of Array.from(arguments)){let e=this.props[t];if(e!==void 0){if(t=="class"){let o=this.root.getAttribute(t,e);o&&(e=[o,e].join(" "))}typeof e=="string"?this.root.setAttribute(t,e):this.root[t]=e}}}fezOnDestroy(){this._onDestroyCallbacks&&(this._onDestroyCallbacks.forEach(t=>{try{t()}catch(e){Fez.onError("destroy","Error in cleanup callback",e)}}),this._onDestroyCallbacks=[]),this.onDestroy(),this.onDestroy=()=>{},this.root&&(this.root.fez=void 0),this.root=void 0}addOnDestroy(t){this._onDestroyCallbacks=this._onDestroyCallbacks||[],this._onDestroyCallbacks.push(t)}on(t,e,o=200){this._eventHandlers=this._eventHandlers||{},this._eventHandlers[t]&&window.removeEventListener(t,this._eventHandlers[t]);let s=Fez.throttle(()=>{this.isConnected&&e.call(this)},o);this._eventHandlers[t]=s,window.addEventListener(t,s),this.addOnDestroy(()=>{window.removeEventListener(t,s),delete this._eventHandlers[t]})}onWindowResize(t,e){this.on("resize",t,e),t()}onWindowScroll(t,e){this.on("scroll",t,e),t()}onElementResize(t,e,o=200){let s=Fez.throttle(()=>{this.isConnected&&e.call(this,t.getBoundingClientRect(),t)},o),i=new ResizeObserver(s);i.observe(t),e.call(this,t.getBoundingClientRect(),t),this.addOnDestroy(()=>{i.disconnect()})}slot(t,e){e||=document.createElement("template");let o=e.nodeName=="SLOT";for(;t.firstChild;)o?e.parentNode.insertBefore(t.lastChild,e.nextSibling):e.appendChild(t.firstChild);return o?e.parentNode.removeChild(e):t.innerHTML="",e}setStyle(t,e){t&&typeof t=="object"?Object.entries(t).forEach(([o,s])=>{this.root.style.setProperty(o,s)}):this.root.style.setProperty(t,e)}connect(){}onMount(){}beforeRender(){}afterRender(){}onDestroy(){}onStateChange(){}onGlobalStateChange(){}publish(t,...e){let o=i=>{if(Fez._subs&&Fez._subs[t]){let n=Fez._subs[t].find(([f])=>f===i);if(n)return n[1].bind(i)(...e),!0}return!1};if(o(this))return!0;let s=this.root.parentElement;for(;s;){if(s.fez&&o(s.fez))return!0;s=s.parentElement}return!1}fezBlocks={};parseHtml(t){let e=this.fezHtmlRoot.replaceAll('"',"&quot;");return t=t.replace(/([!'"\s;])fez\.(\w)/g,`$1${e}$2`).replace(/>\s+</g,"><"),t.trim()}nextTick(t,e){e?(this._nextTicks||={},this._nextTicks[e]||=window.requestAnimationFrame(()=>{t.bind(this)(),this._nextTicks[e]=null},e)):window.requestAnimationFrame(t.bind(this))}render(t){if(t||=this?.class?.fezHtmlFunc,!t||!this.root)return;this.beforeRender();let e=typeof this.class.nodeName=="function"?this.class.nodeName(this.root):this.class.nodeName,o=document.createElement(e||"div"),s;Array.isArray(t)?t[0]instanceof Node?t.forEach(i=>o.appendChild(i)):s=t.join(""):typeof t=="string"?s=D(t)(this):typeof t=="function"&&(s=t(this)),s&&(s=s.replace(/\s\w+="undefined"/g,""),o.innerHTML=this.parseHtml(s)),this.fezKeepNode(o),this.fezMemoization(o),Fez.morphdom(this.root,o),this.fezRenderPostProcess(),this.afterRender()}fezRenderPostProcess(){let t=(e,o)=>{this.root.querySelectorAll(`*[${e}]`).forEach(s=>{let i=s.getAttribute(e);s.removeAttribute(e),i&&o.bind(this)(i,s)})};t("fez-this",(e,o)=>{new Function("n",`this.${e} = n`).bind(this)(o)}),t("fez-use",(e,o)=>{if(e.includes("=>"))Fez.getFunction(e)(o);else if(e.includes("."))Fez.getFunction(e).bind(o)();else{let s=this[e];typeof s=="function"?s(o):Fez.onError("fez-use",`"${e}" is not a function in ${this.fezName}`)}}),t("fez-class",(e,o)=>{let s=e.split(/\s+/),i=s.pop();s.forEach(n=>o.classList.add(n)),i&&setTimeout(()=>{o.classList.add(i)},1)}),t("fez-bind",(e,o)=>{if(["INPUT","SELECT","TEXTAREA"].includes(o.nodeName)){let s=new Function(`return this.${e}`).bind(this)(),i=o.type.toLowerCase()=="checkbox",n=["SELECT"].includes(o.nodeName)||i?"onchange":"onkeyup";o.setAttribute(n,`${this.fezHtmlRoot}${e} = this.${i?"checked":"value"}`),this.val(o,s)}else Fez.onError("fez-bind",`Can't bind "${e}" to ${o.nodeName} (needs INPUT, SELECT or TEXTAREA)`)}),this.root.querySelectorAll("*[disabled]").forEach(e=>{let o=e.getAttribute("disabled");["false"].includes(o)?e.removeAttribute("disabled"):e.setAttribute("disabled","true")})}fezKeepNode(t){t.querySelectorAll("[fez-keep]").forEach(e=>{let o=e.getAttribute("fez-keep"),s=this.root.querySelector(`[fez-keep="${o}"]`);if(s)e.parentNode.replaceChild(s,e);else if(o==="default-slot")if(e.getAttribute("hide")){this.state=null;let i=e.parentNode;Array.from(this.root.childNodes).forEach(n=>{i.insertBefore(n,e)}),e.remove()}else Array.from(this.root.childNodes).forEach(i=>{e.appendChild(i)})})}fezMemoization(t){let e=t.querySelector("[fez-memoize]:not(.fez)");if(!e)return;this.fezMemoStore||=new Map;let o=e.getAttribute("fez-memoize"),s=this.fezMemoStore.get(o);if(s)Fez.consoleLog(`Memoize restore ${this.fezName}: ${o}`),e.parentNode.replaceChild(s.cloneNode(!0),e);else{let i=this.root.querySelector("[fez-memoize]:not(.fez)");if(i){let n=i.getAttribute("fez-memoize");this.fezMemoStore.set(n,i.cloneNode(!0))}}}setInterval(t,e,o){typeof t=="number"&&([e,t]=[t,e]),o||=Fez.fnv1(String(t)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[o]);let s=setInterval(()=>{this.isConnected&&t()},e);return this._setIntervalCache[o]=s,this.addOnDestroy(()=>{clearInterval(s),delete this._setIntervalCache[o]}),s}find(t){return typeof t=="string"?this.root.querySelector(t):t}val(t,e){let o=this.find(t);if(o)if(["INPUT","TEXTAREA","SELECT"].includes(o.nodeName))if(typeof e<"u")o.type=="checkbox"?o.checked=!!e:o.value=e;else return o.value;else if(typeof e<"u")o.innerHTML=e;else return o.innerHTML}formData(t){return this.class.formData(t||this.root)}attr(t,e){return typeof e>"u"?this.root.getAttribute(t):(this.root.setAttribute(t,e),e)}childNodes(t){let e=Array.from(this.root.children);if(t){let o=document.createElement("div");o.style.display="none",document.body.appendChild(o),e.forEach(s=>o.appendChild(s)),e=Array.from(o.children).map(t),document.body.removeChild(o)}return e}subscribe(t,e){Fez._subs||={},Fez._subs[t]||=[],Fez._subs[t]=Fez._subs[t].filter(o=>o[0].isConnected),Fez._subs[t].push([this,e])}rootId(){return this.root.id||=`fez_${this.UID}`,this.root.id}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.reactiveStore(),this.globalState=Fez.state.createProxy(this),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(e=>e!=="constructor"&&typeof this[e]=="function").forEach(e=>this[e]=this[e].bind(this))}dissolve(t){t&&(t.classList.add("fez"),t.classList.add(`fez-${this.fezName}`),t.fez=this,this.attr("id")&&t.setAttribute("id",this.attr("id")),this.root.innerHTML="",this.root.appendChild(t));let e=this.root,o=this.childNodes(),s=this.root.parentNode;return o.reverse().forEach(i=>s.insertBefore(i,e.nextSibling)),this.root.remove(),this.root=void 0,t&&(this.root=t),o}reactiveStore(t,e){t||={},e||=(s,i,n,f)=>{n!=f&&(this.onStateChange(i,n,f),this.nextTick(this.render,"render"))},e.bind(this);function o(s,i){return typeof s!="object"||s===null?s:new Proxy(s,{set(n,f,u,d){let h=Reflect.get(n,f,d);if(h!==u){typeof u=="object"&&u!==null&&(u=o(u,i));let y=Reflect.set(n,f,u,d);return i(n,f,u,h),y}return!0},get(n,f,u){let d=Reflect.get(n,f,u);return typeof d=="object"&&d!==null?o(d,i):d}})}return o(t,e)}};var Oe={data:""},ee=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Oe,Ne=r=>{let t=ee(r),e=t.data;return t.data="",e},ke=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Re=/\/\*[^]*?\*\/|  +/g,Q=/\n+/g,M=(r,t)=>{let e="",o="",s="";for(let i in r){let n=r[i];i[0]=="@"?i[1]=="i"?e=i+" "+n+";":o+=i[1]=="f"?M(n,i):i+"{"+M(n,i[1]=="k"?"":t)+"}":typeof n=="object"?o+=M(n,t?t.replace(/([^,])+/g,f=>i.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,f):f?f+" "+u:u)):i):n!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=M.p?M.p(i,n):i+":"+n+";")}return e+(t&&s?t+"{"+s+"}":s)+o},C={},te=r=>{if(typeof r=="object"){let t="";for(let e in r)t+=e+te(r[e]);return t}return r},De=(r,t,e,o,s)=>{let i=te(r),n=C[i]||(C[i]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(i));if(!C[n]){let u=i!==r?r:(d=>{let h,y,A=[{}];for(;h=ke.exec(d.replace(Re,""));)h[4]?A.shift():h[3]?(y=h[3].replace(Q," ").trim(),A.unshift(A[0][y]=A[0][y]||{})):A[0][h[1]]=h[2].replace(Q," ").trim();return A[0]})(r);C[n]=M(s?{["@keyframes "+n]:u}:u,e?"":"."+n)}let f=e&&C.g?C.g:null;return e&&(C.g=C[n]),((u,d,h,y)=>{y?d.data=d.data.replace(y,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(C[n],t,o,f),n},He=(r,t,e)=>r.reduce((o,s,i)=>{let n=t[i];if(n&&n.call){let f=n(e),u=f&&f.props&&f.props.className||/^go/.test(f)&&f;n=u?"."+u:f&&typeof f=="object"?f.props?"":M(f,""):f===!1?"":f}return o+s+(n??"")},"");function j(r){let t=this||{},e=r.call?r(t.p):r;return De(e.unshift?e.raw?He(e,[].slice.call(arguments,1),t.p):e.reduce((o,s)=>Object.assign(o,s&&s.call?s(t.p):s),{}):e,ee(t.target),t.g,t.o,t.k)}var re,G,W,je=j.bind({g:1}),Pe=j.bind({k:1});function Be(r,t,e,o){M.p=t,re=r,G=e,W=o}function qe(r,t){let e=this||{};return function(){let o=arguments;function s(i,n){let f=Object.assign({},i),u=f.className||s.className;e.p=Object.assign({theme:G&&G()},f),e.o=/ *go\d+/.test(u),f.className=j.apply(e,o)+(u?" "+u:""),t&&(f.ref=n);let d=r;return r[0]&&(d=f.as||r,delete f.as),W&&d[0]&&W(f),re(d,f)}return t?t(s):s}}var se={css:j,extractCss:Ne,glob:je,keyframes:Pe,setup:Be,styled:qe};var oe=function(){"use strict";let r=new Set,t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:w,afterNodeAdded:w,beforeNodeMorphed:w,afterNodeMorphed:w,beforeNodeRemoved:w,afterNodeRemoved:w,beforeAttributeUpdated:w},head:{style:"merge",shouldPreserve:function(l){return l.getAttribute("im-preserve")==="true"},shouldReAppend:function(l){return l.getAttribute("im-re-append")==="true"},shouldRemove:w,afterHeadMorphed:w}};function e(l,c,a={}){l instanceof Document&&(l=l.documentElement),typeof c=="string"&&(c=ze(c));let p=ve(c),m=N(l,p,a);return o(l,p,m)}function o(l,c,a){if(a.head.block){let p=l.querySelector("head"),m=c.querySelector("head");if(p&&m){let b=y(m,p,a);Promise.all(b).then(function(){o(l,c,Object.assign(a,{head:{block:!1,ignore:!0}}))});return}}if(a.morphStyle==="innerHTML")return n(c,l,a),l.children;if(a.morphStyle==="outerHTML"||a.morphStyle==null){let p=Ae(c,l,a),m=p?.previousSibling,b=p?.nextSibling,E=i(l,p,a);return p?Se(m,E,b):[]}else throw"Do not understand how to morph style "+a.morphStyle}function s(l,c){return c.ignoreActiveValue&&l===document.activeElement&&l!==document.body}function i(l,c,a){if(!(a.ignoreActive&&l===document.activeElement))return c==null?a.callbacks.beforeNodeRemoved(l)===!1?l:(l.remove(),a.callbacks.afterNodeRemoved(l),null):H(l,c)?(a.callbacks.beforeNodeMorphed(l,c)===!1||(l instanceof HTMLHeadElement&&a.head.ignore||(l instanceof HTMLHeadElement&&a.head.style!=="morph"?y(c,l,a):(u(c,l,a),s(l,a)||n(c,l,a))),a.callbacks.afterNodeMorphed(l,c)),l):a.callbacks.beforeNodeRemoved(l)===!1||a.callbacks.beforeNodeAdded(c)===!1?l:(l.parentElement.replaceChild(c,l),a.callbacks.afterNodeAdded(c),a.callbacks.afterNodeRemoved(l),c)}function n(l,c,a){let p=l.firstChild,m=c.firstChild,b;for(;p;){if(b=p,p=b.nextSibling,m==null){if(a.callbacks.beforeNodeAdded(b)===!1)return;c.appendChild(b),a.callbacks.afterNodeAdded(b),F(a,b);continue}if(_(b,m,a)){i(m,b,a),m=m.nextSibling,F(a,b);continue}let E=ge(l,c,b,m,a);if(E){m=K(m,E,a),i(E,b,a),F(a,b);continue}let z=Ee(l,c,b,m,a);if(z){m=K(m,z,a),i(z,b,a),F(a,b);continue}if(a.callbacks.beforeNodeAdded(b)===!1)return;c.insertBefore(b,m),a.callbacks.afterNodeAdded(b),F(a,b)}for(;m!==null;){let E=m;m=m.nextSibling,J(E,a)}}function f(l,c,a,p){return l==="value"&&p.ignoreActiveValue&&c===document.activeElement?!0:p.callbacks.beforeAttributeUpdated(l,c,a)===!1}function u(l,c,a){let p=l.nodeType;if(p===1){let m=l.attributes,b=c.attributes;for(let E of m)if(!f(E.name,c,"update",a))try{c.getAttribute(E.name)!==E.value&&c.setAttribute(E.name,E.value)}catch(z){console.error("Error setting attribute:",{badNode:c,badAttribute:E,error:z.message})}for(let E=b.length-1;0<=E;E--){let z=b[E];f(z.name,c,"remove",a)||l.hasAttribute(z.name)||c.removeAttribute(z.name)}}(p===8||p===3)&&c.nodeValue!==l.nodeValue&&(c.nodeValue=l.nodeValue),s(c,a)||h(l,c,a)}function d(l,c,a,p){if(l[a]!==c[a]){let m=f(a,c,"update",p);m||(c[a]=l[a]),l[a]?m||c.setAttribute(a,l[a]):f(a,c,"remove",p)||c.removeAttribute(a)}}function h(l,c,a){if(l instanceof HTMLInputElement&&c instanceof HTMLInputElement&&l.type!=="file"){let p=l.value,m=c.value;d(l,c,"checked",a),d(l,c,"disabled",a),l.hasAttribute("value")?p!==m&&(f("value",c,"update",a)||(c.setAttribute("value",p),c.value=p)):f("value",c,"remove",a)||(c.value="",c.removeAttribute("value"))}else if(l instanceof HTMLOptionElement)d(l,c,"selected",a);else if(l instanceof HTMLTextAreaElement&&c instanceof HTMLTextAreaElement){let p=l.value,m=c.value;if(f("value",c,"update",a))return;p!==m&&(c.value=p),c.firstChild&&c.firstChild.nodeValue!==p&&(c.firstChild.nodeValue=p)}}function y(l,c,a){let p=[],m=[],b=[],E=[],z=a.head.style,x=new Map;for(let S of l.children)x.set(S.outerHTML,S);for(let S of c.children){let T=x.has(S.outerHTML),R=a.head.shouldReAppend(S),B=a.head.shouldPreserve(S);T||B?R?m.push(S):(x.delete(S.outerHTML),b.push(S)):z==="append"?R&&(m.push(S),E.push(S)):a.head.shouldRemove(S)!==!1&&m.push(S)}E.push(...x.values());let Y=[];for(let S of E){let T=document.createRange().createContextualFragment(S.outerHTML).firstChild;if(a.callbacks.beforeNodeAdded(T)!==!1){if(T.href||T.src){let R=null,B=new Promise(function(Me){R=Me});T.addEventListener("load",function(){R()}),Y.push(B)}c.appendChild(T),a.callbacks.afterNodeAdded(T),p.push(T)}}for(let S of m)a.callbacks.beforeNodeRemoved(S)!==!1&&(c.removeChild(S),a.callbacks.afterNodeRemoved(S));return a.head.afterHeadMorphed(c,{added:p,kept:b,removed:m}),Y}function A(){}function w(){}function v(l){let c={};return Object.assign(c,t),Object.assign(c,l),c.callbacks={},Object.assign(c.callbacks,t.callbacks),Object.assign(c.callbacks,l.callbacks),c.head={},Object.assign(c.head,t.head),Object.assign(c.head,l.head),c}function N(l,c,a){return a=v(a),{target:l,newContent:c,config:a,morphStyle:a.morphStyle,ignoreActive:a.ignoreActive,ignoreActiveValue:a.ignoreActiveValue,idMap:$e(l,c),deadIds:new Set,callbacks:a.callbacks,head:a.head}}function _(l,c,a){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName?l.id!==""&&l.id===c.id?!0:k(a,l,c)>0:!1}function H(l,c){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName}function K(l,c,a){for(;l!==c;){let p=l;l=l.nextSibling,J(p,a)}return F(a,c),c.nextSibling}function ge(l,c,a,p,m){let b=k(m,a,c),E=null;if(b>0){let z=p,x=0;for(;z!=null;){if(_(a,z,m))return z;if(x+=k(m,z,l),x>b)return null;z=z.nextSibling}}return E}function Ee(l,c,a,p,m){let b=p,E=a.nextSibling,z=0;for(;b!=null;){if(k(m,b,l)>0)return null;if(H(a,b))return b;if(H(E,b)&&(z++,E=E.nextSibling,z>=2))return null;b=b.nextSibling}return b}function ze(l){let c=new DOMParser,a=l.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(a.match(/<\/html>/)||a.match(/<\/head>/)||a.match(/<\/body>/)){let p=c.parseFromString(l,"text/html");if(a.match(/<\/html>/))return p.generatedByIdiomorph=!0,p;{let m=p.firstChild;return m?(m.generatedByIdiomorph=!0,m):null}}else{let m=c.parseFromString("<body><template>"+l+"</template></body>","text/html").body.querySelector("template").content;return m.generatedByIdiomorph=!0,m}}function ve(l){if(l==null)return document.createElement("div");if(l.generatedByIdiomorph)return l;if(l instanceof Node){let c=document.createElement("div");return c.append(l),c}else{let c=document.createElement("div");for(let a of[...l])c.append(a);return c}}function Se(l,c,a){let p=[],m=[];for(;l!=null;)p.push(l),l=l.previousSibling;for(;p.length>0;){let b=p.pop();m.push(b),c.parentElement.insertBefore(b,c)}for(m.push(c);a!=null;)p.push(a),m.push(a),a=a.nextSibling;for(;p.length>0;)c.parentElement.insertBefore(p.pop(),c.nextSibling);return m}function Ae(l,c,a){let p;p=l.firstChild;let m=p,b=0;for(;p;){let E=we(p,c,a);E>b&&(m=p,b=E),p=p.nextSibling}return m}function we(l,c,a){return H(l,c)?.5+k(a,l,c):0}function J(l,c){F(c,l),c.callbacks.beforeNodeRemoved(l)!==!1&&(l.remove(),c.callbacks.afterNodeRemoved(l))}function Te(l,c){return!l.deadIds.has(c)}function Ce(l,c,a){return(l.idMap.get(a)||r).has(c)}function F(l,c){let a=l.idMap.get(c)||r;for(let p of a)l.deadIds.add(p)}function k(l,c,a){let p=l.idMap.get(c)||r,m=0;for(let b of p)Te(l,b)&&Ce(l,b,a)&&++m;return m}function Z(l,c){let a=l.parentElement,p=l.querySelectorAll("[id]");for(let m of p){let b=m;for(;b!==a&&b!=null;){let E=c.get(b);E==null&&(E=new Set,c.set(b,E)),E.add(m.id),b=b.parentElement}}}function $e(l,c){let a=new Map;return Z(l,a),Z(c,a),a}return{morph:e,defaults:t}}();var Ge=r=>{let t=r.split(/(<\/?[^>]+>)/g).map(s=>s.trim()).filter(s=>s),e=0,o=[];for(let s=0;s<t.length;s++){let i=t[s],n=t[s+1],f=t[s+2];if(i.startsWith("<"))if(!i.startsWith("</")&&!i.endsWith("/>")&&n&&!n.startsWith("<")&&f&&f.startsWith("</")){let u=Math.max(0,e);o.push("  ".repeat(u)+i+n+f),s+=2}else if(i.startsWith("</")){e--;let u=Math.max(0,e);o.push("  ".repeat(u)+i)}else if(i.endsWith("/>")||i.includes(" />")){let u=Math.max(0,e);o.push("  ".repeat(u)+i)}else{let u=Math.max(0,e);o.push("  ".repeat(u)+i),e++}else if(i){let u=Math.max(0,e);o.push("  ".repeat(u)+i)}}return o.join(`
`)},V=(()=>{let r=[],t=[],e=0,o=null;document.addEventListener("keydown",n=>{if(n.key==="Escape"){n.preventDefault();let f=document.getElementById("dump-dialog"),u=document.getElementById("log-reopen-button");f?(f.remove(),s()):u&&(u.remove(),i())}else(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown")&&document.getElementById("dump-dialog")&&r.length>0&&(n.preventDefault(),n.key==="ArrowLeft"&&e>0?(e--,localStorage.setItem("_LOG_INDEX",e),o()):n.key==="ArrowRight"&&e<r.length-1?(e++,localStorage.setItem("_LOG_INDEX",e),o()):n.key==="ArrowUp"&&e>0?(e=Math.max(0,e-5),localStorage.setItem("_LOG_INDEX",e),o()):n.key==="ArrowDown"&&e<r.length-1&&(e=Math.min(r.length-1,e+5),localStorage.setItem("_LOG_INDEX",e),o()))});let s=()=>{let n=document.getElementById("log-reopen-button");n||(n=document.body.appendChild(document.createElement("button")),n.id="log-reopen-button",n.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;margin-right:4px"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>LOG',n.style.cssText="position:fixed; top: 10px; right: 10px;padding:10px 20px;background:#ff3333;color:#fff;border:none;cursor:pointer;font:14px/1.4 monospace;z-index:2147483647;border-radius:8px;display:flex;align-items:center;opacity:1;visibility:visible;box-shadow:0 4px 12px rgba(255,51,51,0.3)",n.onclick=()=>{n.remove(),i()})},i=()=>{let n=document.getElementById("dump-dialog");if(!n){n=document.body.appendChild(document.createElement("div")),n.id="dump-dialog";let u=window.pageYOffset||document.documentElement.scrollTop;n.style.cssText="position:absolute; top:"+(u+20)+"px; left: 20px; right:20px;background:#fff; border:1px solid #333; box-shadow:0 0 10px rgba(0,0,0,0.5);padding:20px; overflow:auto; z-index:2147483646; font:13px/1.4 monospace;white-space:pre; display:block; opacity:1; visibility:visible"}let f=parseInt(localStorage.getItem("_LOG_INDEX"));!isNaN(f)&&f>=0&&f<r.length?e=f:e=r.length-1,o=()=>{let u=r.map((d,h)=>{let y="#f0f0f0";return h!==e&&(t[h]==="object"?y="#d6e3ef":t[h]==="array"&&(y="#d8d5ef")),`<button style="font-size: 14px; font-weight: 400; padding:2px 6px; margin: 0 2px 2px 0;cursor:pointer;background:${h===e?"#333":y};color:${h===e?"#fff":"#000"}" data-index="${h}">${h+1}</button>`}).join("");n.innerHTML='<div style="display:flex;flex-direction:column;height:100%"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px"><div style="display:flex;flex-wrap:wrap;gap:4px;flex:1;margin-right:10px">'+u+'</div><button style="padding:4px 8px;cursor:pointer;flex-shrink:0">&times;</button></div><xmp style="font-family:monospace;flex:1;overflow:auto;margin:0;padding:0;color:#000;background:#fff;font-size:14px;line-height:22px">'+r[e]+"</xmp></div>",n.querySelector('button[style*="flex-shrink:0"]').onclick=()=>{n.remove(),s()},n.querySelectorAll("button[data-index]").forEach(d=>{d.onclick=()=>{e=parseInt(d.dataset.index),localStorage.setItem("_LOG_INDEX",e),o()}})},o()};return n=>{if(!document.body){window.requestAnimationFrame(()=>V(n));return}let f=typeof n;n instanceof Node&&(n.nodeType===Node.TEXT_NODE?n=n.textContent||String(n):n=Ge(n.outerHTML)),n===void 0&&(n="undefined"),n===null&&(n="null"),Array.isArray(n)?f="array":typeof n=="object"&&n!==null&&(f="object"),typeof n!="string"&&(n=JSON.stringify(n,(d,h)=>typeof h=="function"?String(h):h,2).replaceAll("<","&lt;")),n=n.trim(),r.push(n+`

type: ${f}`),t.push(f),!!document.getElementById("dump-dialog")?(e=r.length-1,localStorage.setItem("_LOG_INDEX",e),o&&o()):i()}})();typeof window<"u"&&!window.LOG&&(window.LOG=V);var ne=V;var ie=()=>{let r=parseInt(window.location.port)||80;if(!(Fez.DEV===!0||r>2999&&Fez.DEV!==!1))return;let t=document.querySelectorAll(".fez-highlight-overlay");if(t.length>0){t.forEach(o=>o.remove());return}document.querySelectorAll(".fez, .svelte").forEach(o=>{let s=null,i=null;if(o.classList.contains("fez")&&o.fez&&o.fez.fezName?(s=o.fez.fezName,i="fez"):o.classList.contains("svelte")&&o.svelte&&o.svelte.svelteName&&(s=o.svelte.svelteName,i="svelte"),s){let n=document.createElement("div");n.className="fez-highlight-overlay";let f=o.getBoundingClientRect(),u=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft;n.style.cssText=`
        position: absolute;
        top: ${f.top+u}px;
        left: ${f.left+d}px;
        width: ${f.width}px;
        height: ${f.height}px;
        border: 1px solid ${i==="svelte"?"blue":"red"};
        pointer-events: none;
        z-index: 9999;
      `;let h=document.createElement("div");h.textContent=s,h.style.cssText=`
        position: absolute;
        top: -20px;
        left: 0;
        background: ${i==="svelte"?"blue":"red"};
        color: white;
        padding: 4px 6px 2px 6px;
        font-size: 14px;
        font-family: monospace;
        line-height: 1;
        white-space: nowrap;
        cursor: pointer;
        pointer-events: auto;
        text-transform: uppercase;
      `,h.addEventListener("click",y=>{y.stopPropagation(),Fez.log(o)}),n.appendChild(h),document.body.appendChild(n)}})};document.addEventListener("keydown",r=>{(r.ctrlKey||r.metaKey)&&r.key==="e"&&(r.target.closest("form")||(r.preventDefault(),ie()))});var le=ie;var We=new MutationObserver((r,t)=>{for(let e of r)if(e.type==="attributes"){let o=e.target.fez,s=e.attributeName,i=e.target.getAttribute(s);o&&(o.props[s]=i,o.onPropsChange(s,i))}});function U(r,t){let e=globalThis.window?.Fez||globalThis.Fez;if(r.includes("-")||console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),t.fezHtmlRoot)t.html&&(t.html=ce(t.html));else{let o=new t,s=class extends I{};Object.getOwnPropertyNames(o).concat(Object.getOwnPropertyNames(t.prototype)).filter(n=>!["constructor","prototype"].includes(n)).forEach(n=>s.prototype[n]=o[n]),o.FAST&&(s.FAST=o.FAST),o.GLOBAL&&(s.GLOBAL=o.GLOBAL),o.CSS&&(s.css=o.CSS),o.HTML&&(s.html=ce(o.HTML)),o.NAME&&(s.nodeName=o.NAME),o.GLOBAL&&e.onReady(()=>{document.body.appendChild(document.createElement(r))}),t=s,e.consoleLog(`${r} compiled`)}if(t.html){let o=t.SLOT||"div";t.html=t.html.replace("<slot",`<${o} class="fez-slot" fez-keep="default-slot"`).replace("</slot>",`</${o}>`),t.fezHtmlFunc=D(t.html)}t.css&&(t.css=e.globalCss(t.css,{name:r})),e.classes[r]=t,customElements.get(r)||customElements.define(r,class extends HTMLElement{connectedCallback(){Ve(this,t)?ae(r,this):requestAnimationFrame(()=>{ae(r,this)})}})}function Ve(r,t){let e=r.getAttribute("fez-fast");if(e==="false")return!1;let o=typeof t.FAST=="function"?t.FAST(r):t.FAST;return!!(e||o||r.childNodes[0]||r.nextSibling)}function ce(r){let t=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return r.replace(/<([a-z-]+)\b([^>]*)\/>/g,(e,o,s)=>t.has(o)?e:`<${o}${s}></${o}>`)}function ae(r,t){let e=Fez.classes[r],o=t.parentNode;if(t.isConnected){let s=typeof e.nodeName=="function"?e.nodeName(t):e.nodeName,i=document.createElement(s||"div");i.classList.add("fez"),i.classList.add(`fez-${r}`),o.replaceChild(i,t);let n=new e;if(n.UID=++Fez.instanceCount,Fez.instances.set(n.UID,n),n.oldRoot=t,n.fezName=r,n.root=i,n.props=e.getProps(t,i),n.class=e,n.slot(t,i),i.fez=n,e.GLOBAL&&e.GLOBAL!=!0&&(window[e.GLOBAL]||=n),window.$&&(n.$root=$(i)),n.props.id&&i.setAttribute("id",n.props.id),n.fezRegister(),(n.onInit||n.init||n.created||n.connect).bind(n)(n.props),n.render(),n.firstRender=!0,n.onMount(n.props),n.onSubmit){let f=n.root.nodeName=="FORM"?n.root:n.find("form");f.onsubmit=u=>{u.preventDefault(),n.onSubmit(n.formData())}}if(n.onPropsChange){We.observe(i,{attributes:!0});for(let[f,u]of Object.entries(n.props))n.onPropsChange(f,u)}}}var Ue=r=>{let t={script:"",style:"",html:"",head:""},e=r.split(`
`),o=[],s="";for(var i of e)i=i.trim(),i.startsWith("<script")&&!t.script&&s!="head"?s="script":i.startsWith("<head")&&!t.script?s="head":i.startsWith("<style")?s="style":i.endsWith("<\/script>")&&s==="script"&&!t.script?(t.script=o.join(`
`),o=[],s=null):i.endsWith("</style>")&&s==="style"?(t.style=o.join(`
`),o=[],s=null):(i.endsWith("</head>")||i.endsWith("</header>"))&&s==="head"?(t.head=o.join(`
`),o=[],s=null):s?o.push(i):t.html+=i+`
`;if(t.head){let f=Fez.domRoot(t.head);Array.from(f.children).forEach(u=>{if(u.tagName==="SCRIPT"){let d=document.createElement("script");Array.from(u.attributes).forEach(h=>{d.setAttribute(h.name,h.value)}),d.type||="text/javascript",u.src?document.head.appendChild(d):(d.type.includes("javascript")||d.type=="module")&&(d.textContent=u.textContent,document.head.appendChild(d))}else document.head.appendChild(u.cloneNode(!0))})}let n=t.script;return/class\s+\{/.test(n)||(n=`class {
${n}
}`),String(t.style).includes(":")&&(t.style=Fez.cssMixin(t.style),t.style=t.style.includes(":fez")||/(?:^|\s)body\s*\{/.test(t.style)?t.style:`:fez {
${t.style}
}`,n=n.replace(/\}\s*$/,`
  CSS = \`${t.style}\`
}`)),/\w/.test(String(t.html))&&(t.html=t.html.replaceAll("`","&#x60;"),t.html=t.html.replaceAll("$","\\$"),n=n.replace(/\}\s*$/,`
  HTML = \`${t.html}\`
}`)),n};function X(r){if(r instanceof Node){let t=r;t.remove();let e=t.getAttribute("fez");if(e&&(e.includes(".")||e.includes("/"))){Xe(e);return}else{e&&!e.includes("-")&&console.error(`Fez: Invalid custom element name "${e}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),P(e,t.innerHTML);return}}else{(r?Fez.domRoot(r):document.body).querySelectorAll("template[fez], xmp[fez]").forEach(e=>{X(e)});return}}function Xe(r){Fez.consoleLog(`Loading from ${r}`),Fez.fetch(r).then(t=>{let s=new DOMParser().parseFromString(t,"text/html").querySelectorAll("template[fez], xmp[fez]");if(s.length>0)s.forEach(i=>{let n=i.getAttribute("fez");n&&!n.includes("-")&&!n.includes(".")&&!n.includes("/")&&console.error(`Fez: Invalid custom element name "${n}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let f=i.innerHTML;P(n,f)});else{let i=r.split("/").pop().split(".")[0];P(i,t)}}).catch(t=>{Fez.onError("compile",`Template load error for "${r}": ${t.message}`)})}function P(r,t){if(arguments.length===1)return X(r);if(t&&t.includes("</xmp>"))return X(t);r&&!r.includes("-")&&!r.includes(".")&&!r.includes("/")&&console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let e=Ue(t),o=e.split(/class\s+\{/,2);if(e=`${o[0]};

window.Fez('${r}', class {
${o[1]})`,r){let s=document.getElementById("fez-hidden-styles");s||(s=document.createElement("style"),s.id="fez-hidden-styles",document.head.appendChild(s));let i=[...Object.keys(Fez.classes),r].sort().join(", ");s.textContent=`${i} { display: none; }
`}if(e.includes("import "))Fez.head({script:e}),setTimeout(()=>{Fez.classes[r]||Fez.consoleError(`Template "${r}" possible compile error. (can be a false positive, it imports are not loaded)`)},2e3);else try{new Function(e)()}catch(s){Fez.consoleError(`Template "${r}" compile error: ${s.message}`),console.log(e)}}var fe=P;var Ke={data:{},listeners:new Map,subscribers:new Map,globalSubscribers:new Set,notify(r,t,e){Fez.consoleLog(`Global state change for ${r}: ${t} (from ${e})`);let o=this.listeners.get(r);o&&o.forEach(i=>{i.isConnected?(i.onGlobalStateChange(r,t,e),i.render()):o.delete(i)});let s=this.subscribers.get(r);s&&s.forEach(i=>{try{i(t,e,r)}catch(n){console.error(`Error in subscriber for key ${r}:`,n)}}),this.globalSubscribers.forEach(i=>{try{i(r,t,e)}catch(n){console.error("Error in global subscriber:",n)}})},createProxy(r){return new Proxy({},{get:(t,e)=>(r._globalStateKeys||=new Set,r._globalStateKeys.has(e)||(r._globalStateKeys.add(e),this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(r)),this.data[e]),set:(t,e,o)=>{let s=this.data[e];return s!==o&&(this.data[e]=o,this.notify(e,o,s)),!0}})},set(r,t){let e=this.data[r];e!==t&&(this.data[r]=t,this.notify(r,t,e))},get(r){return this.data[r]},forEach(r,t){let e=this.listeners.get(r);e&&e.forEach(o=>{o.isConnected?t(o):e.delete(o)})},subscribe(r,t){if(typeof r=="function")return this.globalSubscribers.add(r),()=>this.globalSubscribers.delete(r);{let e=r;return this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e).add(t),()=>{let o=this.subscribers.get(e);o&&(o.delete(t),o.size===0&&this.subscribers.delete(e))}}}},ue=Ke;var de=r=>{r.head=(s,i)=>{if(s.nodeName){s.nodeName=="SCRIPT"?(r.head({script:s.innerText}),s.remove()):(s.querySelectorAll("script").forEach(y=>r.head(y)),s.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(y=>r.compile(y)));return}if(typeof s!="object"||s===null)throw new Error("head requires an object parameter");let n,f={},u;if(s.script){if(s.script.includes("import ")){i&&r.consoleError("Fez.head callback is not supported when script with import is passed (module context).");let y=document.createElement("script");y.type="module",y.textContent=s.script,document.head.appendChild(y),requestAnimationFrame(()=>y.remove())}else try{new Function(s.script)(),i&&i()}catch(y){r.consoleError("Error executing script:",y),console.log(s.script)}return}else if(s.js){n=s.js,u="script";for(let[y,A]of Object.entries(s))y!=="js"&&y!=="module"&&(f[y]=A);s.module&&(f.type="module")}else if(s.css){n=s.css,u="link",f.rel="stylesheet";for(let[y,A]of Object.entries(s))y!=="css"&&(f[y]=A)}else throw new Error('head requires either "script", "js" or "css" property');let d=document.querySelector(`${u}[src="${n}"], ${u}[href="${n}"]`);if(d)return i&&i(),d;let h=document.createElement(u);u==="link"?h.href=n:h.src=n;for(let[y,A]of Object.entries(f))h.setAttribute(y,A);return(i||s.module)&&(h.onload=()=>{s.module&&u==="script"&&import(n).then(y=>{window[s.module]=y.default||y[s.module]||y}).catch(y=>{console.error(`Error importing module ${s.module}:`,y)}),i&&i()}),document.head.appendChild(h),h};let t=5*60*1e3,e=100;r.fetch=function(...s){r._fetchCache||=new Map;let i="GET",n,f;typeof s[0]=="string"&&/^[A-Z]+$/.test(s[0])&&(i=s.shift()),n=s.shift();let u={},d=null;if(typeof s[0]=="object"&&(d=s.shift()),typeof s[0]=="function"&&(f=s.shift()),d){if(i==="GET"){let v=new URLSearchParams(d);n+=(n.includes("?")?"&":"?")+v.toString()}else if(i==="POST"){let v=new FormData;for(let[N,_]of Object.entries(d))v.append(N,_);u.body=v}}u.method=i;let h=`${i}:${n}:${JSON.stringify(u)}`,y=r._fetchCache.get(h);if(y&&Date.now()-y.timestamp<t){if(r.consoleLog(`fetch cache hit: ${i} ${n}`),f){f(y.data);return}return Promise.resolve(y.data)}r.consoleLog(`fetch live: ${i} ${n}`);let A=v=>v.headers.get("content-type")?.includes("application/json")?v.json():v.text(),w=(v,N)=>{if(r._fetchCache.size>=e){let _=r._fetchCache.keys().next().value;r._fetchCache.delete(_)}r._fetchCache.set(v,{data:N,timestamp:Date.now()})};if(f){fetch(n,u).then(A).then(v=>{w(h,v),f(v)}).catch(v=>r.onError("fetch",v));return}return fetch(n,u).then(A).then(v=>(w(h,v),v))},r.clearFetchCache=()=>{r._fetchCache?.clear()},r.darkenColor=(s,i=20)=>{let n=parseInt(s.replace("#",""),16),f=Math.round(2.55*i),u=(n>>16)-f,d=(n>>8&255)-f,h=(n&255)-f;return"#"+(16777216+(u<255?u<1?0:u:255)*65536+(d<255?d<1?0:d:255)*256+(h<255?h<1?0:h:255)).toString(16).slice(1)},r.lightenColor=(s,i=20)=>{let n=parseInt(s.replace("#",""),16),f=Math.round(2.55*i),u=(n>>16)+f,d=(n>>8&255)+f,h=(n&255)+f;return"#"+(16777216+(u<255?u<1?0:u:255)*65536+(d<255?d<1?0:d:255)*256+(h<255?h<1?0:h:255)).toString(16).slice(1)},r.htmlEscape=s=>typeof s=="string"?s.replace(/font-family\s*:\s*(?:&[^;]+;|[^;])*?;/gi,"").replaceAll("&","&amp;").replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;"):s===void 0?"":s,r.domRoot=(s,i="div")=>{if(s instanceof Node)return s;{let n=document.createElement(i);return n.innerHTML=s,n}},r.activateNode=(s,i="active")=>{Array.from(s.parentElement.children).forEach(n=>{n.classList.remove(i)}),s.classList.add(i)},r.isTrue=s=>["1","true","on"].includes(String(s).toLowerCase()),r.UID=111,r.uid=()=>"fez_uid_"+(++r.UID).toString(32),r.POINTER_SEQ=0,r.POINTER={},r.pointer=(s,i={})=>{if(typeof s=="function"){let n=++r.POINTER_SEQ;return i.persist?r.POINTER[n]=s:r.POINTER[n]=(...f)=>{let u=s(...f);return delete r.POINTER[n],u},`Fez.POINTER[${n}]`}},r.clearPointers=()=>{r.POINTER={}},r.getFunction=s=>{if(s){if(typeof s=="function")return s;if(typeof s=="string"){let i=/^\s*\(?\s*\w+(\s*,\s*\w+)*\s*\)?\s*=>/,n=/^\s*function\s*\(/;return i.test(s)||n.test(s)?new Function("return "+s)():s.includes(".")&&!s.includes("(")?new Function(`return function() { return ${s}(); }`):new Function(s)}}else return()=>{}},r.onReady=s=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{s()},{once:!0}):s()},r.fnv1=s=>{var i,n,f,u,d,h;for(i=2166136261,n=16777619,f=i,u=d=0,h=s.length-1;0<=h?d<=h:d>=h;u=0<=h?++d:--d)f^=s.charCodeAt(u),f*=n;return f.toString(36).replaceAll("-","")},r.tag=(s,i={},n="")=>{let f=encodeURIComponent(JSON.stringify(i));return`<${s} data-props="${f}">${n}</${s}>`},r.untilTrue=(s,i)=>{i||=200,s()||setTimeout(()=>{r.untilTrue(s,i)},i)};let o=200;r.throttle=(s,i=o)=>{let n=0,f;return function(...u){let d=Date.now();d-n>=i?(s.apply(this,u),n=d):(clearTimeout(f),f=setTimeout(()=>{s.apply(this,u),n=Date.now()},i-(d-n)))}}};var pe={},he=r=>{r.cssMixin=(t,e)=>{if(e)pe[t]=e;else return Object.entries(pe).forEach(([o,s])=>{t=t.replaceAll(`:${o} `,`${s} `),t=t.replaceAll(`@include ${o} `,`${s} `)}),t},r.cssMixin("mobile","@media (max-width: 767px)"),r.cssMixin("tablet","@media (min-width: 768px) and (max-width: 1023px)"),r.cssMixin("desktop","@media (min-width:  1200px)")};var g=(r,t)=>{if(typeof r=="number"){let e=g.instances.get(r);if(e)return e;g.consoleError(`Instance with UID "${r}" not found.`)}else if(r)if(t)if(typeof t=="function"&&!/^\s*class/.test(t.toString())&&!/\b(this|new)\b/.test(t.toString())){let o=Array.from(document.querySelectorAll(`.fez.fez-${r}`)).filter(s=>s.fez);return o.forEach(s=>t(s.fez)),o}else return typeof t!="function"?g.find(r,t):U(r,t);else{let e=r.nodeName?r.closest(".fez"):document.querySelector(r.includes("#")?r:`.fez.fez-${r}`);if(e){if(e.fez)return e.fez;g.consoleError(`node "${r}" has no Fez attached.`)}else g.consoleError(`node "${r}" not found.`)}else g.consoleError("Fez() ?")};g.classes={};g.instanceCount=0;g.instances=new Map;g.find=(r,t)=>{let e=r;typeof e=="string"&&(e=document.body.querySelector(e)),typeof e.val=="function"&&(e=e[0]);let o=t?`.fez.fez-${t}`:".fez",s=e.closest(o);if(s&&s.fez)return s.fez;g.onError("find","Node connector not found",{original:r,resolved:e})};g.cssClass=r=>se.css(r);g.globalCss=(r,t={})=>{if(typeof r=="function"&&(r=r()),r.includes(":")){let e=r.split(`
`).filter(o=>!/^\s*\/\//.test(o)).join(`
`);t.wrap&&(e=`:fez { ${e} }`),e=e.replace(/\:fez|\:host/,`.fez.fez-${t.name}`),r=g.cssClass(e)}return g.onReady(()=>{document.body.parentElement.classList.add(r)}),r};g.info=()=>{console.log("Fez components:",Object.keys(g.classes||{}))};g.morphdom=(r,t,e={})=>{Array.from(r.attributes).forEach(s=>{t.setAttribute(s.name,s.value)}),oe.morph(r,t,{morphStyle:"outerHTML"});let o=r.nextSibling;o?.nodeType===Node.TEXT_NODE&&o.textContent.trim()===""&&o.remove()};g._globalSubs||=new Map;g.publish=(r,...t)=>{g._subs||={},g._subs[r]||=[],g._subs[r].forEach(o=>{o[1].bind(o[0])(...t)});let e=g._globalSubs.get(r);e&&e.forEach(o=>{o.node.isConnected?o.callback.call(o.node,...t):e.delete(o)})};g.subscribe=(r,t,e)=>{typeof t=="function"&&(e=t,t=r,r=document.body),typeof r=="string"&&(r=document.querySelector(r)),g._globalSubs.has(t)||g._globalSubs.set(t,new Set);let o=g._globalSubs.get(t);o.forEach(i=>{i.node===r&&i.callback===e&&o.delete(i)});let s={node:r,callback:e};return o.add(s),()=>{o.delete(s)}};g.consoleError=(r,t)=>{if(r=`Fez: ${r}`,console.error(r),t)return`<span style="border: 1px solid red; font-size: 14px; padding: 3px 7px; background: #fee; border-radius: 4px;">${r}</span>`};g.consoleLog=r=>{g.LOG===!0&&(r=String(r).substring(0,180),console.log(`Fez: ${r}`))};g.onError=(r,t,e)=>{let o=`Fez ${r}: ${t?.toString?.()||t}`;return console.error(o,e||""),o};g.store={store:new Map,counter:0,set(r){let t=this.counter++;return this.store.set(t,r),t},get(r){return this.store.get(r)},delete(r){let t=this.store.get(r);return this.store.delete(r),t}};de(g);he(g);g.compile=fe;g.state=ue;g.log=ne;g.highlightAll=le;g.onReady(()=>{g.consoleLog("Fez.LOG === true, logging enabled.")});var L=g;typeof window<"u"&&(window.FezBase=I);typeof window<"u"&&(window.Fez=L);Promise.resolve().then(()=>ye());var Je=5e3;setInterval(()=>{for(let[r,t]of L.instances)t?.isConnected||(t.fez?.fezOnDestroy(),L.instances.delete(r))},Je);var Ze=new MutationObserver(r=>{for(let{addedNodes:t,removedNodes:e}of r)t.forEach(o=>{o.nodeType===1&&(o.matches("template[fez], xmp[fez], script[fez]")&&(L.compile(o),o.remove()),o.querySelectorAll&&o.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(i=>{L.compile(i),i.remove()}))}),e.forEach(o=>{o.nodeType===1&&o.querySelectorAll&&o.querySelectorAll(".fez, :scope.fez").forEach(i=>{i.fez&&i.root&&(L.instances.delete(i.fez.UID),i.fez.fezOnDestroy())})})});Ze.observe(document.documentElement,{childList:!0,subtree:!0});var Nt=L;})();
//# sourceMappingURL=fez.js.map
