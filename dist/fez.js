(()=>{function k(s,t={},e){if(typeof t=="string"&&([t,e]=[e,t],t||={}),t instanceof Node&&(e=t,t={}),Array.isArray(s)&&(e=s,s="div"),(typeof t!="object"||Array.isArray(t))&&(e=t,t={}),s.includes(".")){let a=s.split(".");s=a.shift()||"div";let f=a.join(" ");t.class?t.class+=` ${f}`:t.class=f}let o=document.createElement(s);for(let[a,f]of Object.entries(t))if(typeof f=="function")o[a]=f.bind(this);else{let c=String(f).replaceAll("$$.",this.fezHtmlRoot);o.setAttribute(a,c)}if(e)if(Array.isArray(e))for(let a of e)o.appendChild(a);else e instanceof Node?o.appendChild(e):o.innerHTML=String(e);return o}function pe(s,t){if(s=s.replaceAll("@","this."),s.startsWith("#if")||s.startsWith("#if"))return t.push(!1),s=s.replace(/^#?if/,""),`\${ ${s} ? \``;if(s.startsWith("#for")||s.startsWith("for")){s=s.replace(/^#?for/,"");let e=s.split(" in ",2);return"${"+e[1]+".map(("+e[0]+")=>`"}else if(s.startsWith("#each")||s.startsWith("each")){s=s.replace(/^#?each/,"");let e=s.split(" as ",2);return"${"+e[0]+".map(("+e[1]+")=>`"}else return s==":else"||s=="else"?(t[t.length-1]=!0,"` : `"):s=="/if"?t.pop()?"`}":"` : ``}":s=="/for"||s=="/each"?'`).join("")}':"${"+s+"}"}function H(s){let t=[],e=s.replace(/{{(.*?)}}/g,(o,a)=>pe(a,t));e="`"+e+"`";try{let o=new Function(`return ${e}`);return f=>{try{return o.bind(f)()}catch(c){let p=`FEZ template runtime error: ${c.message}`;return console.error(p),console.log(s),`${p} (check console for template info)`}}}catch(o){console.error(`FEZ template compile error: ${o.message}`),console.log(s)}}var N=class{static __objects=[];static getProps(t,e){let o={};for(let a of t.attributes)o[a.name]=a.value;if(o["data-props"]){let a=o["data-props"];a[0]!="{"&&(a=decodeURIComponent(a)),o=JSON.parse(a)}if(o["data-json-template"]){let a=e.previousSibling?.textContent;a&&(o=JSON.parse(a))}return o}static formData(t){let e=t.closest("form")||t.querySelector("form"),o=new FormData(e),a={};return o.forEach((f,c)=>{a[c]=f}),a}static fastBind(){return!1}static nodeName="div";constructor(){}n=k;get fezHtmlRoot(){return`Fez.find(this, "${this.fezName}").`}get isAttached(){return this.root?.parentNode?!0:(this._setIntervalCache||={},Object.keys(this._setIntervalCache).forEach(t=>{clearInterval(this._setIntervalCache[t])}),this.root.fez=null,this.root=null,!1)}prop(t){let e=this.oldRoot[t]||this.props[t];return typeof e=="function"&&(e=e.bind(this.root)),e}copy(){for(let t of Array.from(arguments)){let e=this.props[t];if(e!==void 0){if(t=="class"){let o=this.root.getAttribute(t,e);o&&(e=[o,e].join(" "))}typeof e=="string"?this.root.setAttribute(t,e):this.root[t]=e}}}slot(t,e){e||=document.createElement("template");let o=e.nodeName=="SLOT";for(;t.firstChild;)o?e.parentNode.insertBefore(t.lastChild,e.nextSibling):e.appendChild(t.firstChild);return o?e.parentNode.removeChild(e):t.innerHTML="",e}style(){console.error("call Fez static style")}connect(){this.class.html||console.error('Fez is missing "connect" method.',this.root)}afterConnect(){}beforeRender(){}afterRender(){}parseHtml(t){let e=this.fezHtmlRoot.replaceAll('"',"&quot;");return t=t.replaceAll("$$.",e).replace(/([^\w\.])fez\./g,`$1${e}`),t}nextTick(t,e){e?(this._nextTicks||={},this._nextTicks[e]||=window.requestAnimationFrame(()=>{t.bind(this)(),this._nextTicks[e]=null},e)):window.requestAnimationFrame(t.bind(this))}render(t){if(t||=this?._fez_html_func,!t)return;this.beforeRender();let e=document.createElement(this.class.nodeName||"div"),o;switch(typeof t){case"object":Array.isArray(t)&&(t[0]instanceof Node?t.forEach(c=>{e.appendChild(c)}):o=t.join(""));break;case"string":o=H(t)(this);break;default:o=t(this)}o&&(e.innerHTML=this.parseHtml(o));let a=e.querySelector("slot");a&&(this.slot(this.root,a.parentNode),a.parentNode.removeChild(a));let f=this.find(".fez-slot");if(f){let c=e.querySelector(".fez-slot");c&&c.parentNode.replaceChild(f,c)}Fez.morphdom(this.root,e),this.renderFezPostProcess(),this.afterRender()}renderFezPostProcess(){let t=(e,o)=>{this.root.querySelectorAll(`*[${e}]`).forEach(a=>{let f=a.getAttribute(e);a.removeAttribute(e),f&&o.bind(this)(f,a)})};t("fez-this",(e,o)=>{new Function("n",`this.${e} = n`).bind(this)(o)}),t("fez-use",(e,o)=>{let a=this[e];typeof a=="function"?a(o):console.error(`Fez error: "${e}" is not a function in ${this.fezName}`)}),t("fez-class",e=>{let o=e.split(/\s+/),a=o.pop();o.forEach(f=>n.classList.add(f)),a&&setTimeout(()=>{n.classList.add(a)},300)}),t("fez-bind",(e,o)=>{let a=new Function(`return this.${e}`).bind(this)(),f=o.type.toLowerCase()=="checkbox",c=["SELECT"].includes(o.nodeName)||f?"onchange":"onkeyup";o.setAttribute(c,`${this.fezHtmlRoot}${e} = this.${f?"checked":"value"}`),this.val(o,a)})}refresh(t){if(alert("NEEDS FIX and remove htmlTemplate"),t){let e=document.createElement("div");e.innerHTML=this.class.htmlTemplate;let o=e.querySelector(t).innerHTML;this.render(t,o)}else this.render()}setInterval(t,e,o){return typeof t=="number"&&([e,t]=[t,e]),o||=Fez.fnv1(String(t)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[o]),this._setIntervalCache[o]=setInterval(()=>{this.isAttached&&t()},e),this._setIntervalCache[o]}find(t){return typeof t=="string"?this.root.querySelector(t):t}val(t,e){let o=this.find(t);if(o)if(["INPUT","TEXTAREA","SELECT"].includes(o.nodeName))if(typeof e<"u")o.type=="checkbox"?o.checked=!!e:o.value=e;else return o.value;else if(typeof e<"u")o.innerHTML=e;else return o.innerHTML}formData(t){return this.class.formData(t||this.root)}attr(t,e){return typeof e>"u"?this.root.getAttribute(t):(this.root.setAttribute(t,e),e)}childNodes(t){let e=Array.from(this.root.querySelectorAll(":scope > *"));return t&&(e=e.map(t)),e}subscribe(t,e){Fez._subs||={},Fez._subs[t]||=[],Fez._subs[t]=Fez._subs[t].filter(o=>o[0].isAttached),Fez._subs[t].push([this,e])}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.reactiveStore(),this.data||={},this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(e=>e!=="constructor"&&typeof this[e]=="function").forEach(e=>this[e]=this[e].bind(this))}reactiveStore(t,e){t||={},e||=(a,f,c)=>{this.nextTick(this.render,"render")},e.bind(this);function o(a,f){return typeof a!="object"||a===null?a:new Proxy(a,{set(c,p,m,g){typeof m=="object"&&m!==null&&(m=o(m,f));let A=Reflect.set(c,p,m,g);return f(c,p,m),A},get(c,p,m){let g=Reflect.get(c,p,m);return typeof g=="object"&&g!==null?o(g,f):g}})}return o(t,e)}};var me={data:""},Z=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||me,be=s=>{let t=Z(s),e=t.data;return t.data="",e},ge=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ye=/\/\*[^]*?\*\/|  +/g,J=/\n+/g,F=(s,t)=>{let e="",o="",a="";for(let f in s){let c=s[f];f[0]=="@"?f[1]=="i"?e=f+" "+c+";":o+=f[1]=="f"?F(c,f):f+"{"+F(c,f[1]=="k"?"":t)+"}":typeof c=="object"?o+=F(c,t?t.replace(/([^,])+/g,p=>f.replace(/(^:.*)|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,p):p?p+" "+m:m)):f):c!=null&&(f=/^--/.test(f)?f:f.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=F.p?F.p(f,c):f+":"+c+";")}return e+(t&&a?t+"{"+a+"}":a)+o},E={},G=s=>{if(typeof s=="object"){let t="";for(let e in s)t+=e+G(s[e]);return t}return s},ve=(s,t,e,o,a)=>{let f=G(s),c=E[f]||(E[f]=(m=>{let g=0,A=11;for(;g<m.length;)A=101*A+m.charCodeAt(g++)>>>0;return"go"+A})(f));if(!E[c]){let m=f!==s?s:(g=>{let A,M,w=[{}];for(;A=ge.exec(g.replace(ye,""));)A[4]?w.shift():A[3]?(M=A[3].replace(J," ").trim(),w.unshift(w[0][M]=w[0][M]||{})):w[0][A[1]]=A[2].replace(J," ").trim();return w[0]})(s);E[c]=F(a?{["@keyframes "+c]:m}:m,e?"":"."+c)}let p=e&&E.g?E.g:null;return e&&(E.g=E[c]),((m,g,A,M)=>{M?g.data=g.data.replace(M,m):g.data.indexOf(m)===-1&&(g.data=A?m+g.data:g.data+m)})(E[c],t,o,p),c},Ae=(s,t,e)=>s.reduce((o,a,f)=>{let c=t[f];if(c&&c.call){let p=c(e),m=p&&p.props&&p.props.className||/^go/.test(p)&&p;c=m?"."+m:p&&typeof p=="object"?p.props?"":F(p,""):p===!1?"":p}return o+a+(c??"")},"");function O(s){let t=this||{},e=s.call?s(t.p):s;return ve(e.unshift?e.raw?Ae(e,[].slice.call(arguments,1),t.p):e.reduce((o,a)=>Object.assign(o,a&&a.call?a(t.p):a),{}):e,Z(t.target),t.g,t.o,t.k)}var X,B,P,Se=O.bind({g:1}),ze=O.bind({k:1});function Me(s,t,e,o){F.p=t,X=s,B=e,P=o}function Te(s,t){let e=this||{};return function(){let o=arguments;function a(f,c){let p=Object.assign({},f),m=p.className||a.className;e.p=Object.assign({theme:B&&B()},p),e.o=/ *go\d+/.test(m),p.className=O.apply(e,o)+(m?" "+m:""),t&&(p.ref=c);let g=s;return s[0]&&(g=p.as||s,delete p.as),P&&g[0]&&P(p),X(g,p)}return t?t(a):a}}var K={css:O,extractCss:be,glob:Se,keyframes:ze,setup:Me,styled:Te};var Y=function(){"use strict";let s=new Set,t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:T,afterNodeAdded:T,beforeNodeMorphed:T,afterNodeMorphed:T,beforeNodeRemoved:T,afterNodeRemoved:T,beforeAttributeUpdated:T},head:{style:"merge",shouldPreserve:function(r){return r.getAttribute("im-preserve")==="true"},shouldReAppend:function(r){return r.getAttribute("im-re-append")==="true"},shouldRemove:T,afterHeadMorphed:T}};function e(r,i,l={}){r instanceof Document&&(r=r.documentElement),typeof i=="string"&&(i=se(i));let u=le(i),d=re(r,u,l);return o(r,u,d)}function o(r,i,l){if(l.head.block){let u=r.querySelector("head"),d=i.querySelector("head");if(u&&d){let h=M(d,u,l);Promise.all(h).then(function(){o(r,i,Object.assign(l,{head:{block:!1,ignore:!0}}))});return}}if(l.morphStyle==="innerHTML")return c(i,r,l),r.children;if(l.morphStyle==="outerHTML"||l.morphStyle==null){let u=fe(i,r,l),d=u?.previousSibling,h=u?.nextSibling,b=f(r,u,l);return u?oe(d,b,h):[]}else throw"Do not understand how to morph style "+l.morphStyle}function a(r,i){return i.ignoreActiveValue&&r===document.activeElement&&r!==document.body}function f(r,i,l){if(!(l.ignoreActive&&r===document.activeElement))return i==null?l.callbacks.beforeNodeRemoved(r)===!1?r:(r.remove(),l.callbacks.afterNodeRemoved(r),null):R(r,i)?(l.callbacks.beforeNodeMorphed(r,i)===!1||(r instanceof HTMLHeadElement&&l.head.ignore||(r instanceof HTMLHeadElement&&l.head.style!=="morph"?M(i,r,l):(m(i,r,l),a(r,l)||c(i,r,l))),l.callbacks.afterNodeMorphed(r,i)),r):l.callbacks.beforeNodeRemoved(r)===!1||l.callbacks.beforeNodeAdded(i)===!1?r:(r.parentElement.replaceChild(i,r),l.callbacks.afterNodeAdded(i),l.callbacks.afterNodeRemoved(r),i)}function c(r,i,l){let u=r.firstChild,d=i.firstChild,h;for(;u;){if(h=u,u=h.nextSibling,d==null){if(l.callbacks.beforeNodeAdded(h)===!1)return;i.appendChild(h),l.callbacks.afterNodeAdded(h),C(l,h);continue}if(q(h,d,l)){f(d,h,l),d=d.nextSibling,C(l,h);continue}let b=ne(r,i,h,d,l);if(b){d=V(d,b,l),f(b,h,l),C(l,h);continue}let v=ie(r,i,h,d,l);if(v){d=V(d,v,l),f(v,h,l),C(l,h);continue}if(l.callbacks.beforeNodeAdded(h)===!1)return;i.insertBefore(h,d),l.callbacks.afterNodeAdded(h),C(l,h)}for(;d!==null;){let b=d;d=d.nextSibling,D(b,l)}}function p(r,i,l,u){return r==="value"&&u.ignoreActiveValue&&i===document.activeElement?!0:u.callbacks.beforeAttributeUpdated(r,i,l)===!1}function m(r,i,l){let u=r.nodeType;if(u===1){let d=r.attributes,h=i.attributes;for(let b of d)p(b.name,i,"update",l)||i.getAttribute(b.name)!==b.value&&i.setAttribute(b.name,b.value);for(let b=h.length-1;0<=b;b--){let v=h[b];p(v.name,i,"remove",l)||r.hasAttribute(v.name)||i.removeAttribute(v.name)}}(u===8||u===3)&&i.nodeValue!==r.nodeValue&&(i.nodeValue=r.nodeValue),a(i,l)||A(r,i,l)}function g(r,i,l,u){if(r[l]!==i[l]){let d=p(l,i,"update",u);d||(i[l]=r[l]),r[l]?d||i.setAttribute(l,r[l]):p(l,i,"remove",u)||i.removeAttribute(l)}}function A(r,i,l){if(r instanceof HTMLInputElement&&i instanceof HTMLInputElement&&r.type!=="file"){let u=r.value,d=i.value;g(r,i,"checked",l),g(r,i,"disabled",l),r.hasAttribute("value")?u!==d&&(p("value",i,"update",l)||(i.setAttribute("value",u),i.value=u)):p("value",i,"remove",l)||(i.value="",i.removeAttribute("value"))}else if(r instanceof HTMLOptionElement)g(r,i,"selected",l);else if(r instanceof HTMLTextAreaElement&&i instanceof HTMLTextAreaElement){let u=r.value,d=i.value;if(p("value",i,"update",l))return;u!==d&&(i.value=u),i.firstChild&&i.firstChild.nodeValue!==u&&(i.firstChild.nodeValue=u)}}function M(r,i,l){let u=[],d=[],h=[],b=[],v=l.head.style,_=new Map;for(let y of r.children)_.set(y.outerHTML,y);for(let y of i.children){let z=_.has(y.outerHTML),j=l.head.shouldReAppend(y),I=l.head.shouldPreserve(y);z||I?j?d.push(y):(_.delete(y.outerHTML),h.push(y)):v==="append"?j&&(d.push(y),b.push(y)):l.head.shouldRemove(y)!==!1&&d.push(y)}b.push(..._.values());let U=[];for(let y of b){let z=document.createRange().createContextualFragment(y.outerHTML).firstChild;if(l.callbacks.beforeNodeAdded(z)!==!1){if(z.href||z.src){let j=null,I=new Promise(function(he){j=he});z.addEventListener("load",function(){j()}),U.push(I)}i.appendChild(z),l.callbacks.afterNodeAdded(z),u.push(z)}}for(let y of d)l.callbacks.beforeNodeRemoved(y)!==!1&&(i.removeChild(y),l.callbacks.afterNodeRemoved(y));return l.head.afterHeadMorphed(i,{added:u,kept:h,removed:d}),U}function w(){}function T(){}function te(r){let i={};return Object.assign(i,t),Object.assign(i,r),i.callbacks={},Object.assign(i.callbacks,t.callbacks),Object.assign(i.callbacks,r.callbacks),i.head={},Object.assign(i.head,t.head),Object.assign(i.head,r.head),i}function re(r,i,l){return l=te(l),{target:r,newContent:i,config:l,morphStyle:l.morphStyle,ignoreActive:l.ignoreActive,ignoreActiveValue:l.ignoreActiveValue,idMap:de(r,i),deadIds:new Set,callbacks:l.callbacks,head:l.head}}function q(r,i,l){return r==null||i==null?!1:r.nodeType===i.nodeType&&r.tagName===i.tagName?r.id!==""&&r.id===i.id?!0:L(l,r,i)>0:!1}function R(r,i){return r==null||i==null?!1:r.nodeType===i.nodeType&&r.tagName===i.tagName}function V(r,i,l){for(;r!==i;){let u=r;r=r.nextSibling,D(u,l)}return C(l,i),i.nextSibling}function ne(r,i,l,u,d){let h=L(d,l,i),b=null;if(h>0){let v=u,_=0;for(;v!=null;){if(q(l,v,d))return v;if(_+=L(d,v,r),_>h)return null;v=v.nextSibling}}return b}function ie(r,i,l,u,d){let h=u,b=l.nextSibling,v=0;for(;h!=null;){if(L(d,h,r)>0)return null;if(R(l,h))return h;if(R(b,h)&&(v++,b=b.nextSibling,v>=2))return null;h=h.nextSibling}return h}function se(r){let i=new DOMParser,l=r.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(l.match(/<\/html>/)||l.match(/<\/head>/)||l.match(/<\/body>/)){let u=i.parseFromString(r,"text/html");if(l.match(/<\/html>/))return u.generatedByIdiomorph=!0,u;{let d=u.firstChild;return d?(d.generatedByIdiomorph=!0,d):null}}else{let d=i.parseFromString("<body><template>"+r+"</template></body>","text/html").body.querySelector("template").content;return d.generatedByIdiomorph=!0,d}}function le(r){if(r==null)return document.createElement("div");if(r.generatedByIdiomorph)return r;if(r instanceof Node){let i=document.createElement("div");return i.append(r),i}else{let i=document.createElement("div");for(let l of[...r])i.append(l);return i}}function oe(r,i,l){let u=[],d=[];for(;r!=null;)u.push(r),r=r.previousSibling;for(;u.length>0;){let h=u.pop();d.push(h),i.parentElement.insertBefore(h,i)}for(d.push(i);l!=null;)u.push(l),d.push(l),l=l.nextSibling;for(;u.length>0;)i.parentElement.insertBefore(u.pop(),i.nextSibling);return d}function fe(r,i,l){let u;u=r.firstChild;let d=u,h=0;for(;u;){let b=ae(u,i,l);b>h&&(d=u,h=b),u=u.nextSibling}return d}function ae(r,i,l){return R(r,i)?.5+L(l,r,i):0}function D(r,i){C(i,r),i.callbacks.beforeNodeRemoved(r)!==!1&&(r.remove(),i.callbacks.afterNodeRemoved(r))}function ce(r,i){return!r.deadIds.has(i)}function ue(r,i,l){return(r.idMap.get(l)||s).has(i)}function C(r,i){let l=r.idMap.get(i)||s;for(let u of l)r.deadIds.add(u)}function L(r,i,l){let u=r.idMap.get(i)||s,d=0;for(let h of u)ce(r,h)&&ue(r,h,l)&&++d;return d}function W(r,i){let l=r.parentElement,u=r.querySelectorAll("[id]");for(let d of u){let h=d;for(;h!==l&&h!=null;){let b=i.get(h);b==null&&(b=new Set,i.set(h,b)),b.add(d.id),h=h.parentElement}}}function de(r,i){let l=new Map;return W(r,l),W(i,l),l}return{morph:e,defaults:t}}();function Ee(s){let t=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return s.replace(/<([a-z-]+)\b([^>]*)\/>/g,(e,o,a)=>t.has(o)?e:`<${o}${a}></${o}>`)}function x(s,t){if(!t.__objects){let e=new t,o=class extends FezBase{};Object.getOwnPropertyNames(e).concat(Object.getOwnPropertyNames(t.prototype)).filter(f=>!["constructor","prototype"].includes(f)).forEach(f=>o.prototype[f]=e[f]),e.CSS&&(o.css=e.CSS),e.HTML&&(o.html=e.HTML),e.NAME&&(o.nodeName=e.NAME),e.FAST&&(o.fastBind=e.FAST),t=o}t.css&&(t.css=Fez.globalCss(t.css,{name:s})),customElements.define(s,class extends HTMLElement{connectedCallback(){this.firstChild||this.getAttribute("data-props")||Fe(this,t)?(Fez.info(`fast bind: ${s}`),Q(s,this,t)):(Fez.info(`slow bind: ${s}`),window.requestAnimationFrame(()=>{this.parentNode&&Q(s,this,t)}))}})}function Q(s,t,e){let o=t.parentNode;if(o){let a=typeof e.nodeName=="function"?e.nodeName(t):e.nodeName,f=document.createElement(a||"div");f.classList.add("fez"),f.classList.add(`fez-${s}`),o.replaceChild(f,t);let c=new e;if(c.oldRoot=t,c.fezName=s,c.root=f,c.props=e.getProps(t,f),c.class=e,c.slot(t,f),f.fez=c,window.$&&(c.$root=$(f)),c.props.id&&f.setAttribute("id",c.props.id),e.html&&(e.html=Ee(e.html),e.html=e.html.replace(/<slot\s*\/>|<slot\s*><\/slot>/g,()=>{let m=e.slotNodeName||"div";return`<${m} class="fez-slot"><slot /></${m}>`}),e.htmlTemplate=e.html,c._fez_html_func=H(e.html)),c.fezRegister(),c.connect(c.props),e.__objects.push(c),c._fez_html_func&&c.render(),c.find(".fez-slot")&&console.log(c.oldRoot.innerHTML),c.afterConnect(c.props),c.onPropsChange){we.observe(f,{attributes:!0});for(let[m,g]of Object.entries(c.props))c.onPropsChange(m,g)}}}function Fe(s,t){return typeof t.fastBind=="function"?t.fastBind(s):t.fastBind}var we=new MutationObserver((s,t)=>{for(let e of s)if(e.type==="attributes"){let o=e.target.fez,a=e.attributeName,f=e.target.getAttribute(a);o.props[a]=f,o.onPropsChange(a,f)}});var S=(s,t)=>s?typeof t!="function"?S.find(s,t):x(s,t):FezBase;S.find=(s,t)=>{typeof s=="string"&&(s=document.body.querySelector(s)),typeof s.val=="function"&&(s=s[0]);let e=t?`.fez-${t}`:".fez";return s.closest(e).fez};S.cssClass=s=>K.css(s);S.globalCss=(s,t={})=>{if(typeof s=="function"&&(s=s()),s.includes(":")){let e=s.split(`
`).filter(o=>!/^\s*\/\//.test(o)).join(`
`);e=e.replace(/\:fez|\:host/,`.fez.fez-${t.name}`),t.wrap&&(e=`.fez.fez-${t.name} { ${e} }`),s=S.cssClass(e)}return document.body?document.body.classList.add(s):document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add(s)}),s};S.info=s=>{window.DEBUG&&console.log(`Fez: ${s}`)};S.morphdom=(s,t,e={})=>{e.childrenOnly===void 0&&(e.childrenOnly=!0),Y.morph(s,t,{morphStyle:"innerHTML"})};S.htmlEscape=s=>s.replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;");S.publish=(s,...t)=>{S._subs||={},S._subs[s]||=[],S._subs[s].forEach(e=>{e[1].bind(e[0])(...t)})};S.fnv1=s=>{var t,e,o,a,f,c;for(t=2166136261,e=16777619,o=t,a=f=0,c=s.length-1;0<=c?f<=c:f>=c;a=0<=c?++f:--f)o^=s.charCodeAt(a),o*=e;return o.toString(36).replaceAll("-","")};S.tag=function(s,t={},e=""){let o=encodeURIComponent(JSON.stringify(t));return`<${s} data-props="${o}">${e}</${s}>`};S.parseTemplate=function(s){let t={script:"",style:"",html:""},e=s.split(`
`),o=[],a="";for(let f of e)f.trim().startsWith("<script")&&!t.script?a="script":f.trim().startsWith("<style")?a="style":f.trim().endsWith("<\/script>")&&a==="script"&&!t.script?(t.script=o.join(`
`),o=[],a=null):f.trim().endsWith("</style>")&&a==="style"?(t.style=o.join(`
`),o=[],a=null):a?o.push(f):t.html+=f+`
`;return t.html=t.html.trim(),t};var ee=S;window.FezBase=N;window.Fez=ee;setInterval(()=>{N.__objects=N.__objects.filter(s=>s.isAttached)},1e4);})();
//# sourceMappingURL=fez.js.map
