(()=>{function q(l,e){let t=/(\r\n|\r|\n)/g,a=/{{?\s*(.+?)\s*}}?/g,f=/^each\s+(.*)\s+as\s+(.*)$/,c=/^if\s+(.*)$/,u=/^else if\s+(.*)$/;function o(v){let E=T=>T.replaceAll("@","this."),w=`
      let _strings = [], _sequence = [], _values = [];

      function htmlEscape(text) {
        if (typeof text === 'string') {
          return text
            .replaceAll("'", '&apos;')
            .replaceAll('"', '&quot;')
            .replaceAll('<', '&lt;')
            .replaceAll('>', '&gt;')
        } else {
          return text
        }
      }

      _sequence.push('${v.trim().replace(t,"\\n").replace(a,(T,y)=>{if(y=y.replace(/^[#:]/,""),y.startsWith("each")||y.startsWith("for")){let _=y.split(/\s+/);if(_.shift()==="for"){let F=_.pop();_.pop(),y=`each ${F} as ${_.join(" ")}`}let z=f.exec(y);if(z)return z[1]=E(z[1]),`');
 (!Array.isArray(${z[1]}) ? Array.from(Object.entries(${z[1]} || []), ([key, value]) => [key, value]) : ${z[1]}).forEach((${z[2]}) => { _sequence.push('`}else if(y.startsWith("if")){let _=c.exec(y);if(_)return _[1]=E(_[1]),`');
 if (${_[1]}) { _sequence.push('`}else if(y.startsWith("else if")){let _=u.exec(y);if(_)return _[1]=E(_[1]),`');
 } else if (${_[1]}) { _sequence.push('`}else{if(y==="else")return`');
 } else { _sequence.push('`;if(y==="/each"||y==="/for")return`');
 }); _sequence.push('`;if(y==="/if")return`');
 } _sequence.push('`}let H=y.split(/^\@html\s+/);return H[1]?y=E(H[1]):y=`htmlEscape(${E(y)})`,`');
 _strings.push(_sequence.join(''));
 _sequence = [];
 _values.push(${y});
 _sequence.push('`})}');
      _strings.push(_sequence.join(''));
      return [_strings, _values];
    `;return new Function("_data",w)}function m(v){let E=o(v);return()=>{let[w,T]=E.bind(e)();return w.reduce((y,H,_)=>y+T[_-1]+H)}}function b(v){let E=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return v.replace(/<([a-z-]+)\b([^>]*)\/>/g,(w,T,y)=>E.has(T)?w:`<${T}${y}></${T}>`)}return l=l.replace(/(\s\w+)=({{?[^}]+}}?)/,(...v)=>`${v[1]}="${v[2]}"`),l=b(l),m(l)}var X=function(){"use strict";let l=new Set,e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:T,afterNodeAdded:T,beforeNodeMorphed:T,afterNodeMorphed:T,beforeNodeRemoved:T,afterNodeRemoved:T,beforeAttributeUpdated:T},head:{style:"merge",shouldPreserve:function(r){return r.getAttribute("im-preserve")==="true"},shouldReAppend:function(r){return r.getAttribute("im-re-append")==="true"},shouldRemove:T,afterHeadMorphed:T}};function t(r,i,s={}){r instanceof Document&&(r=r.documentElement),typeof i=="string"&&(i=re(i));let d=ne(i),h=H(r,d,s);return a(r,d,h)}function a(r,i,s){if(s.head.block){let d=r.querySelector("head"),h=i.querySelector("head");if(d&&h){let p=E(h,d,s);Promise.all(p).then(function(){a(r,i,Object.assign(s,{head:{block:!1,ignore:!0}}))});return}}if(s.morphStyle==="innerHTML")return u(i,r,s),r.children;if(s.morphStyle==="outerHTML"||s.morphStyle==null){let d=se(i,r,s),h=d?.previousSibling,p=d?.nextSibling,g=c(r,d,s);return d?ie(h,g,p):[]}else throw"Do not understand how to morph style "+s.morphStyle}function f(r,i){return i.ignoreActiveValue&&r===document.activeElement&&r!==document.body}function c(r,i,s){if(!(s.ignoreActive&&r===document.activeElement))return i==null?s.callbacks.beforeNodeRemoved(r)===!1?r:(r.remove(),s.callbacks.afterNodeRemoved(r),null):z(r,i)?(s.callbacks.beforeNodeMorphed(r,i)===!1||(r instanceof HTMLHeadElement&&s.head.ignore||(r instanceof HTMLHeadElement&&s.head.style!=="morph"?E(i,r,s):(m(i,r,s),f(r,s)||u(i,r,s))),s.callbacks.afterNodeMorphed(r,i)),r):s.callbacks.beforeNodeRemoved(r)===!1||s.callbacks.beforeNodeAdded(i)===!1?r:(r.parentElement.replaceChild(i,r),s.callbacks.afterNodeAdded(i),s.callbacks.afterNodeRemoved(r),i)}function u(r,i,s){let d=r.firstChild,h=i.firstChild,p;for(;d;){if(p=d,d=p.nextSibling,h==null){if(s.callbacks.beforeNodeAdded(p)===!1)return;i.appendChild(p),s.callbacks.afterNodeAdded(p),L(s,p);continue}if(_(p,h,s)){c(h,p,s),h=h.nextSibling,L(s,p);continue}let g=ee(r,i,p,h,s);if(g){h=F(h,g,s),c(g,p,s),L(s,p);continue}let M=te(r,i,p,h,s);if(M){h=F(h,M,s),c(M,p,s),L(s,p);continue}if(s.callbacks.beforeNodeAdded(p)===!1)return;i.insertBefore(p,h),s.callbacks.afterNodeAdded(p),L(s,p)}for(;h!==null;){let g=h;h=h.nextSibling,G(g,s)}}function o(r,i,s,d){return r==="value"&&d.ignoreActiveValue&&i===document.activeElement?!0:d.callbacks.beforeAttributeUpdated(r,i,s)===!1}function m(r,i,s){let d=r.nodeType;if(d===1){let h=r.attributes,p=i.attributes;for(let g of h)o(g.name,i,"update",s)||i.getAttribute(g.name)!==g.value&&i.setAttribute(g.name,g.value);for(let g=p.length-1;0<=g;g--){let M=p[g];o(M.name,i,"remove",s)||r.hasAttribute(M.name)||i.removeAttribute(M.name)}}(d===8||d===3)&&i.nodeValue!==r.nodeValue&&(i.nodeValue=r.nodeValue),f(i,s)||v(r,i,s)}function b(r,i,s,d){if(r[s]!==i[s]){let h=o(s,i,"update",d);h||(i[s]=r[s]),r[s]?h||i.setAttribute(s,r[s]):o(s,i,"remove",d)||i.removeAttribute(s)}}function v(r,i,s){if(r instanceof HTMLInputElement&&i instanceof HTMLInputElement&&r.type!=="file"){let d=r.value,h=i.value;b(r,i,"checked",s),b(r,i,"disabled",s),r.hasAttribute("value")?d!==h&&(o("value",i,"update",s)||(i.setAttribute("value",d),i.value=d)):o("value",i,"remove",s)||(i.value="",i.removeAttribute("value"))}else if(r instanceof HTMLOptionElement)b(r,i,"selected",s);else if(r instanceof HTMLTextAreaElement&&i instanceof HTMLTextAreaElement){let d=r.value,h=i.value;if(o("value",i,"update",s))return;d!==h&&(i.value=d),i.firstChild&&i.firstChild.nodeValue!==d&&(i.firstChild.nodeValue=d)}}function E(r,i,s){let d=[],h=[],p=[],g=[],M=s.head.style,N=new Map;for(let S of r.children)N.set(S.outerHTML,S);for(let S of i.children){let C=N.has(S.outerHTML),k=s.head.shouldReAppend(S),B=s.head.shouldPreserve(S);C||B?k?h.push(S):(N.delete(S.outerHTML),p.push(S)):M==="append"?k&&(h.push(S),g.push(S)):s.head.shouldRemove(S)!==!1&&h.push(S)}g.push(...N.values());let K=[];for(let S of g){let C=document.createRange().createContextualFragment(S.outerHTML).firstChild;if(s.callbacks.beforeNodeAdded(C)!==!1){if(C.href||C.src){let k=null,B=new Promise(function(ue){k=ue});C.addEventListener("load",function(){k()}),K.push(B)}i.appendChild(C),s.callbacks.afterNodeAdded(C),d.push(C)}}for(let S of h)s.callbacks.beforeNodeRemoved(S)!==!1&&(i.removeChild(S),s.callbacks.afterNodeRemoved(S));return s.head.afterHeadMorphed(i,{added:d,kept:p,removed:h}),K}function w(){}function T(){}function y(r){let i={};return Object.assign(i,e),Object.assign(i,r),i.callbacks={},Object.assign(i.callbacks,e.callbacks),Object.assign(i.callbacks,r.callbacks),i.head={},Object.assign(i.head,e.head),Object.assign(i.head,r.head),i}function H(r,i,s){return s=y(s),{target:r,newContent:i,config:s,morphStyle:s.morphStyle,ignoreActive:s.ignoreActive,ignoreActiveValue:s.ignoreActiveValue,idMap:fe(r,i),deadIds:new Set,callbacks:s.callbacks,head:s.head}}function _(r,i,s){return r==null||i==null?!1:r.nodeType===i.nodeType&&r.tagName===i.tagName?r.id!==""&&r.id===i.id?!0:I(s,r,i)>0:!1}function z(r,i){return r==null||i==null?!1:r.nodeType===i.nodeType&&r.tagName===i.tagName}function F(r,i,s){for(;r!==i;){let d=r;r=r.nextSibling,G(d,s)}return L(s,i),i.nextSibling}function ee(r,i,s,d,h){let p=I(h,s,i),g=null;if(p>0){let M=d,N=0;for(;M!=null;){if(_(s,M,h))return M;if(N+=I(h,M,r),N>p)return null;M=M.nextSibling}}return g}function te(r,i,s,d,h){let p=d,g=s.nextSibling,M=0;for(;p!=null;){if(I(h,p,r)>0)return null;if(z(s,p))return p;if(z(g,p)&&(M++,g=g.nextSibling,M>=2))return null;p=p.nextSibling}return p}function re(r){let i=new DOMParser,s=r.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(s.match(/<\/html>/)||s.match(/<\/head>/)||s.match(/<\/body>/)){let d=i.parseFromString(r,"text/html");if(s.match(/<\/html>/))return d.generatedByIdiomorph=!0,d;{let h=d.firstChild;return h?(h.generatedByIdiomorph=!0,h):null}}else{let h=i.parseFromString("<body><template>"+r+"</template></body>","text/html").body.querySelector("template").content;return h.generatedByIdiomorph=!0,h}}function ne(r){if(r==null)return document.createElement("div");if(r.generatedByIdiomorph)return r;if(r instanceof Node){let i=document.createElement("div");return i.append(r),i}else{let i=document.createElement("div");for(let s of[...r])i.append(s);return i}}function ie(r,i,s){let d=[],h=[];for(;r!=null;)d.push(r),r=r.previousSibling;for(;d.length>0;){let p=d.pop();h.push(p),i.parentElement.insertBefore(p,i)}for(h.push(i);s!=null;)d.push(s),h.push(s),s=s.nextSibling;for(;d.length>0;)i.parentElement.insertBefore(d.pop(),i.nextSibling);return h}function se(r,i,s){let d;d=r.firstChild;let h=d,p=0;for(;d;){let g=le(d,i,s);g>p&&(h=d,p=g),d=d.nextSibling}return h}function le(r,i,s){return z(r,i)?.5+I(s,r,i):0}function G(r,i){L(i,r),i.callbacks.beforeNodeRemoved(r)!==!1&&(r.remove(),i.callbacks.afterNodeRemoved(r))}function oe(r,i){return!r.deadIds.has(i)}function ae(r,i,s){return(r.idMap.get(s)||l).has(i)}function L(r,i){let s=r.idMap.get(i)||l;for(let d of s)r.deadIds.add(d)}function I(r,i,s){let d=r.idMap.get(i)||l,h=0;for(let p of d)oe(r,p)&&ae(r,p,s)&&++h;return h}function J(r,i){let s=r.parentElement,d=r.querySelectorAll("[id]");for(let h of d){let p=h;for(;p!==s&&p!=null;){let g=i.get(p);g==null&&(g=new Set,i.set(p,g)),g.add(h.id),p=p.parentElement}}}function fe(r,i){let s=new Map;return J(r,s),J(i,s),s}return{morph:t,defaults:e}}();var ce={data:""},Z=l=>typeof window=="object"?((l?l.querySelector("#_goober"):window._goober)||Object.assign((l||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:l||ce,de=l=>{let e=Z(l),t=e.data;return e.data="",t},he=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pe=/\/\*[^]*?\*\/|  +/g,Y=/\n+/g,R=(l,e)=>{let t="",a="",f="";for(let c in l){let u=l[c];c[0]=="@"?c[1]=="i"?t=c+" "+u+";":a+=c[1]=="f"?R(u,c):c+"{"+R(u,c[1]=="k"?"":e)+"}":typeof u=="object"?a+=R(u,e?e.replace(/([^,])+/g,o=>c.replace(/(^:.*)|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,o):o?o+" "+m:m)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),f+=R.p?R.p(c,u):c+":"+u+";")}return t+(e&&f?e+"{"+f+"}":f)+a},j={},Q=l=>{if(typeof l=="object"){let e="";for(let t in l)e+=t+Q(l[t]);return e}return l},me=(l,e,t,a,f)=>{let c=Q(l),u=j[c]||(j[c]=(m=>{let b=0,v=11;for(;b<m.length;)v=101*v+m.charCodeAt(b++)>>>0;return"go"+v})(c));if(!j[u]){let m=c!==l?l:(b=>{let v,E,w=[{}];for(;v=he.exec(b.replace(pe,""));)v[4]?w.shift():v[3]?(E=v[3].replace(Y," ").trim(),w.unshift(w[0][E]=w[0][E]||{})):w[0][v[1]]=v[2].replace(Y," ").trim();return w[0]})(l);j[u]=R(f?{["@keyframes "+u]:m}:m,t?"":"."+u)}let o=t&&j.g?j.g:null;return t&&(j.g=j[u]),((m,b,v,E)=>{E?b.data=b.data.replace(E,m):b.data.indexOf(m)===-1&&(b.data=v?m+b.data:b.data+m)})(j[u],e,a,o),u},be=(l,e,t)=>l.reduce((a,f,c)=>{let u=e[c];if(u&&u.call){let o=u(t),m=o&&o.props&&o.props.className||/^go/.test(o)&&o;u=m?"."+m:o&&typeof o=="object"?o.props?"":R(o,""):o===!1?"":o}return a+f+(u??"")},"");function P(l){let e=this||{},t=l.call?l(e.p):l;return me(t.unshift?t.raw?be(t,[].slice.call(arguments,1),e.p):t.reduce((a,f)=>Object.assign(a,f&&f.call?f(e.p):f),{}):t,Z(e.target),e.g,e.o,e.k)}var x,V,D,ge=P.bind({g:1}),ve=P.bind({k:1});function ye(l,e,t,a){R.p=e,x=l,V=t,D=a}function Ae(l,e){let t=this||{};return function(){let a=arguments;function f(c,u){let o=Object.assign({},c),m=o.className||f.className;t.p=Object.assign({theme:V&&V()},o),t.o=/ *go\d+/.test(m),o.className=P.apply(t,a)+(m?" "+m:""),e&&(o.ref=u);let b=l;return l[0]&&(b=o.as||l,delete o.as),D&&b[0]&&D(o),x(b,o)}return e?e(f):f}}var W={css:P,extractCss:de,glob:ge,keyframes:ve,setup:ye,styled:Ae};function U(l,e={},t){if(typeof e=="string"&&([e,t]=[t,e],e||={}),e instanceof Node&&(t=e,e={}),Array.isArray(l)&&(t=l,l="div"),(typeof e!="object"||Array.isArray(e))&&(t=e,e={}),l.includes(".")){let f=l.split(".");l=f.shift()||"div";let c=f.join(" ");e.class?e.class+=` ${c}`:e.class=c}let a=document.createElement(l);for(let[f,c]of Object.entries(e))if(typeof c=="function")a[f]=c.bind(this);else{let u=String(c).replaceAll("$$.",this.fezHtmlRoot);a.setAttribute(f,u)}if(t)if(Array.isArray(t))for(let f of t)a.appendChild(f);else t instanceof Node?a.appendChild(t):a.innerHTML=String(t);return a}window.Gobber=W;var O=class{static __objects=[];static getProps(e,t){let a={};for(let f of e.attributes)a[f.name]=f.value;if(a["data-props"]&&(a=JSON.parse(a["data-props"])),a["data-json-template"]){let f=t.previousSibling?.textContent;f&&(a=JSON.parse(f))}return a}static formData(e){let t=new FormData(e.closest("form")),a={};return t.forEach((f,c)=>{a[c]=f}),a}static fastBind(){return!1}static nodeName="div";constructor(){}n=U;get fezHtmlRoot(){return`Fez.find(this, "${this.fezName}").`}get isAttached(){return this.root?.parentNode?!0:(this._setIntervalCache||={},Object.keys(this._setIntervalCache).forEach(e=>{clearInterval(this._setIntervalCache[e])}),this.root.fez=null,this.root=null,!1)}prop(e){let t=this.oldRoot[e]||this.props[e];return typeof t=="function"&&(t=t.bind(this.root)),t}copy(){for(let e of Array.from(arguments)){let t=this.props[e];if(t!==void 0){if(e=="class"){let a=this.root.getAttribute(e,t);a&&(t=[a,t].join(" "))}typeof t=="string"?this.root.setAttribute(e,t):this.root[e]=t}}}slot(e,t){t||=document.createElement("template");let a=t.nodeName=="SLOT";for(;e.firstChild;)a?t.parentNode.insertBefore(e.lastChild,t.nextSibling):t.appendChild(e.firstChild);return a?t.parentNode.removeChild(t):e.innerHTML="",t}style(){console.error("call Fez static style")}connect(){this.class.html||console.error('Fez is missing "connect" method.',this.root)}afterConnect(){}beforeRender(){}afterRender(){}parseHtml(e,t){typeof e=="object"&&(e=e[0]);let a=this.fezHtmlRoot.replaceAll('"',"&quot;");if(e=e.replaceAll("$$.",a).replace(/([^\w\.])fez\./g,`$1${a}`),e.includes("{{"))try{e=q(e,this)()}catch(f){console.error(`Fez stache template error in "${this.fezName}"`,f)}return e}nextTick(e,t){t?(this._nextTicks||={},this._nextTicks[t]||=window.requestAnimationFrame(()=>{e.bind(this)(),this._nextTicks[t]=null},t)):window.requestAnimationFrame(e.bind(this))}render(e,t){if(e===!0){this.nextTick(this.render,"render");return}if(!e&&(e=this?._fez_html_func,!e))return;this.beforeRender(),typeof t>"u"&&(t=e,e=this.root),typeof e=="string"&&(e=this.find(e));let a=document.createElement("div");typeof t=="function"&&(t=t()),Array.isArray(t)?t[0]instanceof Node?t.forEach(u=>{a.appendChild(u)}):t=t.join(""):typeof t=="string"?a.innerHTML=this.parseHtml(t):t&&a.appendChild(t);let f=a.querySelector("slot");if(f){let u=this.find(".fez-slot");u?this.slot(u,f):this.slot(e,f)}A.morphdom(e,a);let c=(u,o)=>{e.querySelectorAll(`*[${u}]`).forEach(m=>{let b=m.getAttribute(u);m.removeAttribute(u),b&&o.bind(this)(b,m)})};c("fez-this",(u,o)=>{this[u]=o}),c("fez-use",(u,o)=>{let m=this[u];typeof m=="function"?m(o):console.error(`Fez error: "${u}" is not a function in ${this.fezName}`)}),c("fez-class",u=>{let o=u.split(/\s+/),m=o.pop();o.forEach(b=>n.classList.add(b)),m&&setTimeout(()=>{n.classList.add(m)},1e3)}),c("fez-bind",(u,o)=>{let m=new Function(`return this.${u}`).bind(this)(),b=o.type.toLowerCase()=="checkbox",v=["SELECT"].includes(o.nodeName)||b?"onchange":"onkeyup";o.setAttribute(v,`${this.fezHtmlRoot}${u} = this.${b?"checked":"value"}`),this.val(o,m)}),this.afterRender()}refresh(){this.render()}setInterval(e,t,a){return typeof e=="number"&&([t,e]=[e,t]),a||=A.fnv1(String(e)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[a]),this._setIntervalCache[a]=setInterval(()=>{this.isAttached&&e()},t),this._setIntervalCache[a]}find(e){return typeof e=="string"?this.root.querySelector(e):e}val(e,t){let a=this.find(e);if(a)if(["INPUT","TEXTAREA","SELECT"].includes(a.nodeName))if(typeof t<"u")a.type=="checkbox"?a.checked=!!t:a.value=t;else return a.value;else if(typeof t<"u")a.innerHTML=t;else return a.innerHTML}formData(e){return this.class.formData(e||this.root)}attr(e,t){return typeof t>"u"?this.root.getAttribute(e):(this.root.setAttribute(e,t),t)}childNodes(e){let t=Array.from(this.root.querySelectorAll(":scope > *"));return e&&(t=t.map(e)),t}subscribe(e,t){A._subs||={},A._subs[e]||=[],A._subs[e]=A._subs[e].filter(a=>a[0].isAttached),A._subs[e].push([this,t])}fezRegister(){this.css&&(this.css=A.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=A.globalCss(this.class.css,{name:this.fezName})),this.state=this.reactiveStore(),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(t=>t!=="constructor"&&typeof this[t]=="function").forEach(t=>this[t]=this[t].bind(this))}reactiveStore(e,t){e||={},t||=(f,c,u)=>{this.render(!0)},t.bind(this);function a(f,c){return typeof f!="object"||f===null?f:new Proxy(f,{set(u,o,m,b){typeof m=="object"&&m!==null&&(m=a(m,c));let v=Reflect.set(u,o,m,b);return c(u,o,m),v},get(u,o,m){let b=Reflect.get(u,o,m);return typeof b=="object"&&b!==null?a(b,c):b}})}return a(e,t)}};setInterval(()=>{O.__objects=O.__objects.filter(l=>l.isAttached)},1e4);var Se=new MutationObserver((l,e)=>{for(let t of l)if(t.type==="attributes"){let a=t.target.fez,f=t.attributeName,c=t.target.getAttribute(f);a.props[f]=c,a.onPropsChange(f,c)}}),A=(l,e)=>{function t(){let f=this.parentNode;if(f){let c=typeof e.nodeName=="function"?e.nodeName(this):e.nodeName,u=document.createElement(c||"div");u.classList.add("fez"),u.classList.add(`fez-${l}`),f.replaceChild(u,this);let o=new e;o.oldRoot=this,o.fezName=l,o.root=u,o.props=e.getProps(this,u),o.class=e,o.slot(this,u),u.fez=o,window.$&&(o.$root=$(u)),o.props.id&&u.setAttribute("id",o.props.id),e.html&&(e.html=e.html.replace(/<slot\s*\/>|<slot\s*><\/slot>/g,()=>{let m=e.slotNodeName||"div";return`<${m} class="fez-slot"><slot /></${m}>`}),o._fez_html_func=q(e.html,o)),o.fezRegister(),o.connect(o.props),e.__objects.push(o),o._fez_html_func&&o.render(),o.afterConnect(o.props);for(let[m,b]of Object.entries(o.props))/^\{\{/.test(b)&&/\}\}$/.test(b)&&(b=b.replace(/^\{\{/,"return (").replace(/\}\}$/,")"),b=new Function(b).bind(o.root)(),o.props[m]=b);if(o.onPropsChange){Se.observe(u,{attributes:!0});for(let[m,b]of Object.entries(o.props))o.onPropsChange(m,b)}}}function a(f){return typeof e.fastBind=="function"?e.fastBind(f):e.fastBind}if(!l)return O;if(typeof e!="function")return A.find(l,e);if(!e.__objects){let f=new e,c=class extends O{};Object.getOwnPropertyNames(f).concat(Object.getOwnPropertyNames(e.prototype)).filter(o=>!["constructor","prototype"].includes(o)).forEach(o=>c.prototype[o]=f[o]),f.CSS&&(c.css=f.CSS),f.HTML&&(c.html=f.HTML),f.NAME&&(c.nodeName=f.NAME),f.FAST&&(c.fastBind=f.FAST),e=c}e.css&&(e.css=A.globalCss(e.css,{name:l})),customElements.define(l,class extends HTMLElement{connectedCallback(){this.firstChild||a(this)?(A.info(`fast bind: ${l}`),t.bind(this)()):(A.info(`slow bind: ${l}`),window.requestAnimationFrame(()=>{t.bind(this)()}))}})};A.find=(l,e)=>{typeof l=="string"&&(l=document.body.querySelector(l)),typeof l.val=="function"&&(l=l[0]);let t=e?`.fez-${e}`:".fez";return l.closest(t).fez};A.cssClass=l=>W.css(l);A.globalCss=(l,e={})=>{if(typeof l=="function"&&(l=l()),l.includes(":")){let t=l.split(`
`).filter(a=>!/^\s*\/\//.test(a)).join(`
`);t=t.replaceAll(":fez",`.fez.fez-${e.name}`),e.wrap&&(t=`.fez.fez-${e.name} { ${t} }`),l=A.cssClass(t)}return document.body?document.body.classList.add(l):document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add(l)}),l};A.info=l=>{window.DEBUG&&console.log(`Fez: ${l}`)};A.morphdom=(l,e,t={})=>{t.childrenOnly===void 0&&(t.childrenOnly=!0),X.morph(l,e,{morphStyle:"innerHTML"})};A.htmlEscape=l=>l.replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;");A.publish=(l,...e)=>{A._subs||={},A._subs[l]||=[],A._subs[l].forEach(t=>{t[1].bind(t[0])(...e)})};A.fnv1=l=>{var e,t,a,f,c,u;for(e=2166136261,t=16777619,a=e,f=c=0,u=l.length-1;0<=u?c<=u:c>=u;f=0<=u?++c:--c)a^=l.charCodeAt(f),a*=t;return a.toString(36).replaceAll("-","")};window.Fez=A;window.FezBase=O;})();
//# sourceMappingURL=fez.js.map
