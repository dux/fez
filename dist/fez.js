(()=>{var Le=Object.defineProperty;var Fe=(r,t)=>()=>(r&&(t=r(r=0)),t);var xe=(r,t)=>{for(var e in t)Le(r,e,{get:t[e],enumerable:!0})};var be={};xe(be,{loadDefaults:()=>me});var me,ye=Fe(()=>{me=()=>{Fez("fez-component",class{init(e){let o=document.createElement(e.name);for(o.props=e.props||e["data-props"]||e;this.root.firstChild;)this.root.parentNode.insertBefore(this.root.lastChild,o.nextSibling);this.root.innerHTML="",this.root.appendChild(o)}}),Fez("fez-include",class{init(e){Fez.fetch(e.src,o=>{let s=Fez.domRoot(o);Fez.head(s),this.root.innerHTML=s.innerHTML})}}),Fez("fez-inline",class{init(e){e["wait-for"]||=()=>!0,Fez.untilTrue(()=>{if(e["wait-for"]())return this.mountIt(),!0},100)}mountIt(){let e=this.root.innerHTML;if(e){let s=`inline-${Fez.fnv1(this.root.outerHTML)}`;Fez(s,class{HTML=e;init(){Object.assign(this.state,this.props.state||{})}});let n=document.createElement(s);this.root.after(this.root.lastChild,n),this.root.remove()}}}),Fez("fez-if",class{init(e){new Function(`return (${e.if||e.test})`)()||this.root.remove()}});let r=new Map,t=50;Fez.clearMemoStore=()=>{r.clear(),Fez.consoleLog("Memoize store cleared")},Fez("fez-memoize",class{init(e){if(!e.key){Fez.consoleError("fez-memoize: key prop is required");return}if(r.has(e.key)){let o=r.get(e.key);Fez.consoleLog(`Memoize - key: "${e.key}" - restore`),this.root.innerHTML="",this.root.appendChild(o.cloneNode(!0))}}onMount(e){r.has(e.key)||requestAnimationFrame(()=>{if(r.size>=t){let s=r.keys().next().value;r.delete(s),Fez.consoleLog(`Memoize - evicted oldest key: "${s}"`)}let o=document.createElement("div");o.innerHTML=this.root.innerHTML,Fez.consoleLog(`Memoize - key: "${e.key}" - set`),r.set(e.key,o)})}})};typeof Fez<"u"&&Fez&&me()});function q(r,t={},e){if(typeof t=="string"&&([t,e]=[e,t],t||={}),t instanceof Node&&(e=t,t={}),Array.isArray(r)&&(e=r,r="div"),(typeof t!="object"||Array.isArray(t))&&(e=t,t={}),r.includes(".")){let s=r.split(".");r=s.shift()||"div";let n=s.join(" ");t.class?t.class+=` ${n}`:t.class=n}let o=document.createElement(r);for(let[s,n]of Object.entries(t))if(typeof n=="function")o[s]=n.bind(this);else{let i=String(n).replaceAll("fez.",this.fezHtmlRoot);o.setAttribute(s,i)}if(e)if(Array.isArray(e))for(let s of e)o.appendChild(s);else e instanceof Node?o.appendChild(e):o.innerHTML=String(e);return o}var O=new Map,Ie=200;function _e(r,t){if(r=r.replace(/^#?raw/,"@html").replace(/^#?html/,"@html"),r.startsWith("#if")||r.startsWith("if"))return t.push(!1),r=r.replace(/^#?if/,""),`\${ ${r} ? \``;if(r.startsWith("#unless")||r.startsWith("unless"))return t.push(!1),r=r.replace(/^#?unless/,""),`\${ !(${r}) ? \``;if(r=="/block")return"`) && ''}";if(r.startsWith("#for")||r.startsWith("for")){r=r.replace(/^#?for/,"");let e=r.split(" in ",2);return"${"+e[1]+".map(("+e[0]+")=>`"}else if(r.startsWith("#each")||r.startsWith("each")){r=r.replace(/^#?each/,"");let e=r.split(" as ",2);return"${"+e[0]+".map(("+e[1]+")=>`"}else{if(r==":else"||r=="else")return t[t.length-1]=!0,"` : `";if(r=="/if"||r=="/unless")return t.pop()?"`}":"` : ``}";if(r=="/for"||r=="/each")return'`).join("")}';{let e="@html ";return r.startsWith("json ")&&(r=r.replace("json ","@html '<pre class=json>'+JSON.stringify("),r+=", null, 2) + '</pre>'"),r.startsWith(e)?r=r.replace(e,""):r=`Fez.htmlEscape(${r})`,"${"+r+"}"}}}function D(r,t={}){let e=r;if(O.has(e))return O.get(e);let o=[];r=r.replaceAll("[[","{{").replaceAll("]]","}}"),r=r.replace(/(\w+)=\{\{\s*(.*?)\s*\}\}([\s>])/g,(i,a,u,d)=>`${a}="{{ ${u} }}"${d}`);let s={};r=r.replace(/\{\{block\s+(\w+)\s*\}\}([^ยง]+)\{\{\/block\}\}/g,(i,a,u)=>(s[a]=u,"")),r=r.replace(/\{\{block:([\w\-]+)\s*\}\}/g,(i,a)=>s[a]||`block:${a}?`),r=r.replace(/:(\w+)="([\w\.\[\]]+)"/,(i,a,u)=>`:${a}=Fez.store.delete({{ Fez.store.set(${u}) }})`);let n=r.replace(/{{(.*?)}}/g,(i,a)=>(a=a.replaceAll("&#x60;","`"),a=a.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),_e(a,o)));n=n.replace(/<!\-\-.*?\-\->/g,"").replace(/>\s+</g,"><"),n="`"+n.trim()+"`";try{let i=`const fez = this;
      with (this) {
        return ${n}
      }
    `,a=new Function(i),u=d=>{try{return a.bind(d)()}catch(h){h.message=`FEZ template runtime error: ${h.message}

Template source: ${n}`,console.error(h)}};if(O.size>=Ie){let d=O.keys().next().value;O.delete(d)}return O.set(e,u),u}catch(i){return i.message=`FEZ template compile error: ${i.message}Template source:
${n}`,console.error(i),()=>Fez.consoleError("Template Compile Error",!0)}}var M=class{static getProps(t,e){let o={};if(t.props)return t.props;for(let s of t.attributes)o[s.name]=s.value;for(let[s,n]of Object.entries(o))if([":"].includes(s[0])){delete o[s];try{let i=new Function(`return (${n})`).bind(e)();o[s.replace(/[\:_]/,"")]=i}catch(i){Fez.onError("attr",`Error evaluating ${s}="${n}" for ${t.tagName}: ${i.message}`)}}if(o["data-props"]){let s=o["data-props"];if(typeof s=="object")return s;s[0]!="{"&&(s=decodeURIComponent(s));try{o=JSON.parse(s)}catch(n){Fez.onError("props",`Invalid JSON in data-props for ${t.tagName}: ${n.message}`)}}else if(o["data-json-template"]){let s=e.previousSibling?.textContent;if(s)try{o=JSON.parse(s),e.previousSibling.remove()}catch(n){Fez.onError("props",`Invalid JSON in template for ${t.tagName}: ${n.message}`)}}return o}static formData(t){let e=t.closest("form")||t.querySelector("form");if(!e)return Fez.consoleLog("No form found for formData()"),{};let o=new FormData(e),s={};return o.forEach((n,i)=>{s[i]=n}),s}static nodeName="div";constructor(){}n=q;get fezHtmlRoot(){return`Fez(${this.UID}).`}get isConnected(){return this.root?.isConnected?!0:(this.fezOnDestroy(),!1)}prop(t){let e=this.oldRoot[t]||this.props[t];return typeof e=="function"&&(e=e.bind(this.root)),e}copy(){for(let t of Array.from(arguments)){let e=this.props[t];if(e!==void 0){if(t=="class"){let o=this.root.getAttribute(t,e);o&&(e=[o,e].join(" "))}typeof e=="string"?this.root.setAttribute(t,e):this.root[t]=e}}}fezOnDestroy(){this._onDestroyCallbacks&&(this._onDestroyCallbacks.forEach(t=>{try{t()}catch(e){Fez.onError("destroy","Error in cleanup callback",e)}}),this._onDestroyCallbacks=[]),this.onDestroy(),this.onDestroy=()=>{},this.root&&(this.root.fez=void 0),this.root=void 0}addOnDestroy(t){this._onDestroyCallbacks=this._onDestroyCallbacks||[],this._onDestroyCallbacks.push(t)}on(t,e,o=200){this._eventHandlers=this._eventHandlers||{},this._eventHandlers[t]&&window.removeEventListener(t,this._eventHandlers[t]);let s=Fez.throttle(()=>{this.isConnected&&e.call(this)},o);this._eventHandlers[t]=s,window.addEventListener(t,s),this.addOnDestroy(()=>{window.removeEventListener(t,s),delete this._eventHandlers[t]})}onWindowResize(t,e){this.on("resize",t,e),t()}onWindowScroll(t,e){this.on("scroll",t,e),t()}onElementResize(t,e,o=200){let s=Fez.throttle(()=>{this.isConnected&&e.call(this,t.getBoundingClientRect(),t)},o),n=new ResizeObserver(s);n.observe(t),e.call(this,t.getBoundingClientRect(),t),this.addOnDestroy(()=>{n.disconnect()})}fezSlot(t,e){e||=document.createElement("template");let o=e.nodeName=="SLOT";for(;t.firstChild;)o?e.parentNode.insertBefore(t.lastChild,e.nextSibling):e.appendChild(t.firstChild);return o?e.parentNode.removeChild(e):t.innerHTML="",e}setStyle(t,e){t&&typeof t=="object"?Object.entries(t).forEach(([o,s])=>{this.root.style.setProperty(o,s)}):this.root.style.setProperty(t,e)}connect(){}onMount(){}beforeRender(){}afterRender(){}onDestroy(){}onStateChange(){}onGlobalStateChange(){}publish(t,...e){let o=n=>{if(Fez._subs&&Fez._subs[t]){let i=Fez._subs[t].find(([a])=>a===n);if(i)return i[1].bind(n)(...e),!0}return!1};if(o(this))return!0;let s=this.root.parentElement;for(;s;){if(s.fez&&o(s.fez))return!0;s=s.parentElement}return!1}fezBlocks={};fezParseHtml(t){let e=this.fezHtmlRoot.replaceAll('"',"&quot;");return t=t.replace(/([!'"\s;])fez\.(\w)/g,`$1${e}$2`).replace(/>\s+</g,"><"),t.trim()}fezNextTick(t,e){e?(this._nextTicks||={},this._nextTicks[e]||=window.requestAnimationFrame(()=>{t.bind(this)(),this._nextTicks[e]=null},e)):window.requestAnimationFrame(t.bind(this))}fezRender(t){if(t||=this?.class?.fezHtmlFunc,!t||!this.root)return;this.beforeRender();let e=typeof this.class.nodeName=="function"?this.class.nodeName(this.root):this.class.nodeName,o=document.createElement(e||"div"),s;Array.isArray(t)?t[0]instanceof Node?t.forEach(n=>o.appendChild(n)):s=t.join(""):typeof t=="string"?s=D(t)(this):typeof t=="function"&&(s=t(this)),s&&(s=s.replace(/\s\w+="undefined"/g,""),o.innerHTML=this.fezParseHtml(s)),this.fezKeepNode(o),this.fezMemoization(o),Fez.morphdom(this.root,o),this.fezRenderPostProcess(),this.afterRender()}fezRenderPostProcess(){let t=(e,o)=>{this.root.querySelectorAll(`*[${e}]`).forEach(s=>{let n=s.getAttribute(e);s.removeAttribute(e),n&&o.bind(this)(n,s)})};t("fez-this",(e,o)=>{new Function("n",`this.${e} = n`).bind(this)(o)}),t("fez-use",(e,o)=>{if(e.includes("=>"))Fez.getFunction(e)(o);else if(e.includes("."))Fez.getFunction(e).bind(o)();else{let s=this[e];typeof s=="function"?s(o):Fez.onError("fez-use",`"${e}" is not a function in ${this.fezName}`)}}),t("fez-class",(e,o)=>{let s=e.split(/\s+/),n=s.pop();s.forEach(i=>o.classList.add(i)),n&&setTimeout(()=>{o.classList.add(n)},1)}),t("fez-bind",(e,o)=>{if(["INPUT","SELECT","TEXTAREA"].includes(o.nodeName)){let s=new Function(`return this.${e}`).bind(this)(),n=o.type.toLowerCase()=="checkbox",i=["SELECT"].includes(o.nodeName)||n?"onchange":"onkeyup";o.setAttribute(i,`${this.fezHtmlRoot}${e} = this.${n?"checked":"value"}`),this.val(o,s)}else Fez.onError("fez-bind",`Can't bind "${e}" to ${o.nodeName} (needs INPUT, SELECT or TEXTAREA)`)}),this.root.querySelectorAll("*[disabled]").forEach(e=>{let o=e.getAttribute("disabled");["false"].includes(o)?e.removeAttribute("disabled"):e.setAttribute("disabled","true")})}fezKeepNode(t){t.querySelectorAll("[fez-keep]").forEach(e=>{let o=e.getAttribute("fez-keep"),s=this.root.querySelector(`[fez-keep="${o}"]`);if(s)e.parentNode.replaceChild(s,e);else if(o==="default-slot")if(e.getAttribute("hide")){this.state=null;let n=e.parentNode;Array.from(this.root.childNodes).forEach(i=>{n.insertBefore(i,e)}),e.remove()}else Array.from(this.root.childNodes).forEach(n=>{e.appendChild(n)})})}fezMemoization(t){let e=t.querySelector("[fez-memoize]:not(.fez)");if(!e)return;this.fezMemoStore||=new Map;let o=e.getAttribute("fez-memoize"),s=this.fezMemoStore.get(o);if(s)Fez.consoleLog(`Memoize restore ${this.fezName}: ${o}`),e.parentNode.replaceChild(s.cloneNode(!0),e);else{let n=this.root.querySelector("[fez-memoize]:not(.fez)");if(n){let i=n.getAttribute("fez-memoize");this.fezMemoStore.set(i,n.cloneNode(!0))}}}setInterval(t,e,o){typeof t=="number"&&([e,t]=[t,e]),o||=Fez.fnv1(String(t)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[o]);let s=setInterval(()=>{this.isConnected&&t()},e);return this._setIntervalCache[o]=s,this.addOnDestroy(()=>{clearInterval(s),delete this._setIntervalCache[o]}),s}find(t){return typeof t=="string"?this.root.querySelector(t):t}val(t,e){let o=this.find(t);if(o)if(["INPUT","TEXTAREA","SELECT"].includes(o.nodeName))if(typeof e<"u")o.type=="checkbox"?o.checked=!!e:o.value=e;else return o.value;else if(typeof e<"u")o.innerHTML=e;else return o.innerHTML}formData(t){return this.class.formData(t||this.root)}attr(t,e){return typeof e>"u"?this.root.getAttribute(t):(this.root.setAttribute(t,e),e)}childNodes(t){let e=Array.from(this.root.children);if(t){let o=document.createElement("div");o.style.display="none",document.body.appendChild(o),e.forEach(s=>o.appendChild(s)),e=Array.from(o.children).map(t),document.body.removeChild(o)}return e}subscribe(t,e){Fez._subs||={},Fez._subs[t]||=[],Fez._subs[t]=Fez._subs[t].filter(o=>o[0].isConnected),Fez._subs[t].push([this,e])}rootId(){return this.root.id||=`fez_${this.UID}`,this.root.id}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.fezReactiveStore(),this.globalState=Fez.state.createProxy(this),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(e=>e!=="constructor"&&typeof this[e]=="function").forEach(e=>this[e]=this[e].bind(this))}dissolve(t){t&&(t.classList.add("fez"),t.classList.add(`fez-${this.fezName}`),t.fez=this,this.attr("id")&&t.setAttribute("id",this.attr("id")),this.root.innerHTML="",this.root.appendChild(t));let e=this.root,o=this.childNodes(),s=this.root.parentNode;return o.reverse().forEach(n=>s.insertBefore(n,e.nextSibling)),this.root.remove(),this.root=void 0,t&&(this.root=t),o}fezReactiveStore(t,e){t||={},e||=(s,n,i,a)=>{i!=a&&(this.onStateChange(n,i,a),this.fezNextTick(this.fezRender,"fezRender"))},e.bind(this);function o(s,n){return typeof s!="object"||s===null?s:new Proxy(s,{set(i,a,u,d){let h=Reflect.get(i,a,d);if(h!==u){typeof u=="object"&&u!==null&&(u=o(u,n));let y=Reflect.set(i,a,u,d);return n(i,a,u,h),y}return!0},get(i,a,u){let d=Reflect.get(i,a,u);return typeof d=="object"&&d!==null?o(d,n):d}})}return o(t,e)}};var Oe={data:""},ee=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Oe,Ne=r=>{let t=ee(r),e=t.data;return t.data="",e},Re=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ke=/\/\*[^]*?\*\/|  +/g,Q=/\n+/g,L=(r,t)=>{let e="",o="",s="";for(let n in r){let i=r[n];n[0]=="@"?n[1]=="i"?e=n+" "+i+";":o+=n[1]=="f"?L(i,n):n+"{"+L(i,n[1]=="k"?"":t)+"}":typeof i=="object"?o+=L(i,t?t.replace(/([^,])+/g,a=>n.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):n):i!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=L.p?L.p(n,i):n+":"+i+";")}return e+(t&&s?t+"{"+s+"}":s)+o},C={},te=r=>{if(typeof r=="object"){let t="";for(let e in r)t+=e+te(r[e]);return t}return r},De=(r,t,e,o,s)=>{let n=te(r),i=C[n]||(C[n]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(n));if(!C[i]){let u=n!==r?r:(d=>{let h,y,A=[{}];for(;h=Re.exec(d.replace(ke,""));)h[4]?A.shift():h[3]?(y=h[3].replace(Q," ").trim(),A.unshift(A[0][y]=A[0][y]||{})):A[0][h[1]]=h[2].replace(Q," ").trim();return A[0]})(r);C[i]=L(s?{["@keyframes "+i]:u}:u,e?"":"."+i)}let a=e&&C.g?C.g:null;return e&&(C.g=C[i]),((u,d,h,y)=>{y?d.data=d.data.replace(y,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(C[i],t,o,a),i},He=(r,t,e)=>r.reduce((o,s,n)=>{let i=t[n];if(i&&i.call){let a=i(e),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;i=u?"."+u:a&&typeof a=="object"?a.props?"":L(a,""):a===!1?"":a}return o+s+(i??"")},"");function j(r){let t=this||{},e=r.call?r(t.p):r;return De(e.unshift?e.raw?He(e,[].slice.call(arguments,1),t.p):e.reduce((o,s)=>Object.assign(o,s&&s.call?s(t.p):s),{}):e,ee(t.target),t.g,t.o,t.k)}var re,G,W,je=j.bind({g:1}),Pe=j.bind({k:1});function Be(r,t,e,o){L.p=t,re=r,G=e,W=o}function qe(r,t){let e=this||{};return function(){let o=arguments;function s(n,i){let a=Object.assign({},n),u=a.className||s.className;e.p=Object.assign({theme:G&&G()},a),e.o=/ *go\d+/.test(u),a.className=j.apply(e,o)+(u?" "+u:""),t&&(a.ref=i);let d=r;return r[0]&&(d=a.as||r,delete a.as),W&&d[0]&&W(a),re(d,a)}return t?t(s):s}}var se={css:j,extractCss:Ne,glob:je,keyframes:Pe,setup:Be,styled:qe};var oe=function(){"use strict";let r=new Set,t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:w,afterNodeAdded:w,beforeNodeMorphed:w,afterNodeMorphed:w,beforeNodeRemoved:w,afterNodeRemoved:w,beforeAttributeUpdated:w},head:{style:"merge",shouldPreserve:function(l){return l.getAttribute("im-preserve")==="true"},shouldReAppend:function(l){return l.getAttribute("im-re-append")==="true"},shouldRemove:w,afterHeadMorphed:w}};function e(l,c,f={}){l instanceof Document&&(l=l.documentElement),typeof c=="string"&&(c=Ee(c));let p=ve(c),m=N(l,p,f);return o(l,p,m)}function o(l,c,f){if(f.head.block){let p=l.querySelector("head"),m=c.querySelector("head");if(p&&m){let b=y(m,p,f);Promise.all(b).then(function(){o(l,c,Object.assign(f,{head:{block:!1,ignore:!0}}))});return}}if(f.morphStyle==="innerHTML")return i(c,l,f),l.children;if(f.morphStyle==="outerHTML"||f.morphStyle==null){let p=Ae(c,l,f),m=p?.previousSibling,b=p?.nextSibling,z=n(l,p,f);return p?Se(m,z,b):[]}else throw"Do not understand how to morph style "+f.morphStyle}function s(l,c){return c.ignoreActiveValue&&l===document.activeElement&&l!==document.body}function n(l,c,f){if(!(f.ignoreActive&&l===document.activeElement))return c==null?f.callbacks.beforeNodeRemoved(l)===!1?l:(l.remove(),f.callbacks.afterNodeRemoved(l),null):H(l,c)?(f.callbacks.beforeNodeMorphed(l,c)===!1||(l instanceof HTMLHeadElement&&f.head.ignore||(l instanceof HTMLHeadElement&&f.head.style!=="morph"?y(c,l,f):(u(c,l,f),s(l,f)||i(c,l,f))),f.callbacks.afterNodeMorphed(l,c)),l):f.callbacks.beforeNodeRemoved(l)===!1||f.callbacks.beforeNodeAdded(c)===!1?l:(l.parentElement.replaceChild(c,l),f.callbacks.afterNodeAdded(c),f.callbacks.afterNodeRemoved(l),c)}function i(l,c,f){let p=l.firstChild,m=c.firstChild,b;for(;p;){if(b=p,p=b.nextSibling,m==null){if(f.callbacks.beforeNodeAdded(b)===!1)return;c.appendChild(b),f.callbacks.afterNodeAdded(b),x(f,b);continue}if(_(b,m,f)){n(m,b,f),m=m.nextSibling,x(f,b);continue}let z=ge(l,c,b,m,f);if(z){m=K(m,z,f),n(z,b,f),x(f,b);continue}let E=ze(l,c,b,m,f);if(E){m=K(m,E,f),n(E,b,f),x(f,b);continue}if(f.callbacks.beforeNodeAdded(b)===!1)return;c.insertBefore(b,m),f.callbacks.afterNodeAdded(b),x(f,b)}for(;m!==null;){let z=m;m=m.nextSibling,J(z,f)}}function a(l,c,f,p){return l==="value"&&p.ignoreActiveValue&&c===document.activeElement?!0:p.callbacks.beforeAttributeUpdated(l,c,f)===!1}function u(l,c,f){let p=l.nodeType;if(p===1){let m=l.attributes,b=c.attributes;for(let z of m)if(!a(z.name,c,"update",f))try{c.getAttribute(z.name)!==z.value&&c.setAttribute(z.name,z.value)}catch(E){console.error("Error setting attribute:",{badNode:c,badAttribute:z,error:E.message})}for(let z=b.length-1;0<=z;z--){let E=b[z];a(E.name,c,"remove",f)||l.hasAttribute(E.name)||c.removeAttribute(E.name)}}(p===8||p===3)&&c.nodeValue!==l.nodeValue&&(c.nodeValue=l.nodeValue),s(c,f)||h(l,c,f)}function d(l,c,f,p){if(l[f]!==c[f]){let m=a(f,c,"update",p);m||(c[f]=l[f]),l[f]?m||c.setAttribute(f,l[f]):a(f,c,"remove",p)||c.removeAttribute(f)}}function h(l,c,f){if(l instanceof HTMLInputElement&&c instanceof HTMLInputElement&&l.type!=="file"){let p=l.value,m=c.value;d(l,c,"checked",f),d(l,c,"disabled",f),l.hasAttribute("value")?p!==m&&(a("value",c,"update",f)||(c.setAttribute("value",p),c.value=p)):a("value",c,"remove",f)||(c.value="",c.removeAttribute("value"))}else if(l instanceof HTMLOptionElement)d(l,c,"selected",f);else if(l instanceof HTMLTextAreaElement&&c instanceof HTMLTextAreaElement){let p=l.value,m=c.value;if(a("value",c,"update",f))return;p!==m&&(c.value=p),c.firstChild&&c.firstChild.nodeValue!==p&&(c.firstChild.nodeValue=p)}}function y(l,c,f){let p=[],m=[],b=[],z=[],E=f.head.style,I=new Map;for(let S of l.children)I.set(S.outerHTML,S);for(let S of c.children){let T=I.has(S.outerHTML),k=f.head.shouldReAppend(S),B=f.head.shouldPreserve(S);T||B?k?m.push(S):(I.delete(S.outerHTML),b.push(S)):E==="append"?k&&(m.push(S),z.push(S)):f.head.shouldRemove(S)!==!1&&m.push(S)}z.push(...I.values());let Y=[];for(let S of z){let T=document.createRange().createContextualFragment(S.outerHTML).firstChild;if(f.callbacks.beforeNodeAdded(T)!==!1){if(T.href||T.src){let k=null,B=new Promise(function(Me){k=Me});T.addEventListener("load",function(){k()}),Y.push(B)}c.appendChild(T),f.callbacks.afterNodeAdded(T),p.push(T)}}for(let S of m)f.callbacks.beforeNodeRemoved(S)!==!1&&(c.removeChild(S),f.callbacks.afterNodeRemoved(S));return f.head.afterHeadMorphed(c,{added:p,kept:b,removed:m}),Y}function A(){}function w(){}function v(l){let c={};return Object.assign(c,t),Object.assign(c,l),c.callbacks={},Object.assign(c.callbacks,t.callbacks),Object.assign(c.callbacks,l.callbacks),c.head={},Object.assign(c.head,t.head),Object.assign(c.head,l.head),c}function N(l,c,f){return f=v(f),{target:l,newContent:c,config:f,morphStyle:f.morphStyle,ignoreActive:f.ignoreActive,ignoreActiveValue:f.ignoreActiveValue,idMap:$e(l,c),deadIds:new Set,callbacks:f.callbacks,head:f.head}}function _(l,c,f){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName?l.id!==""&&l.id===c.id?!0:R(f,l,c)>0:!1}function H(l,c){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName}function K(l,c,f){for(;l!==c;){let p=l;l=l.nextSibling,J(p,f)}return x(f,c),c.nextSibling}function ge(l,c,f,p,m){let b=R(m,f,c),z=null;if(b>0){let E=p,I=0;for(;E!=null;){if(_(f,E,m))return E;if(I+=R(m,E,l),I>b)return null;E=E.nextSibling}}return z}function ze(l,c,f,p,m){let b=p,z=f.nextSibling,E=0;for(;b!=null;){if(R(m,b,l)>0)return null;if(H(f,b))return b;if(H(z,b)&&(E++,z=z.nextSibling,E>=2))return null;b=b.nextSibling}return b}function Ee(l){let c=new DOMParser,f=l.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(f.match(/<\/html>/)||f.match(/<\/head>/)||f.match(/<\/body>/)){let p=c.parseFromString(l,"text/html");if(f.match(/<\/html>/))return p.generatedByIdiomorph=!0,p;{let m=p.firstChild;return m?(m.generatedByIdiomorph=!0,m):null}}else{let m=c.parseFromString("<body><template>"+l+"</template></body>","text/html").body.querySelector("template").content;return m.generatedByIdiomorph=!0,m}}function ve(l){if(l==null)return document.createElement("div");if(l.generatedByIdiomorph)return l;if(l instanceof Node){let c=document.createElement("div");return c.append(l),c}else{let c=document.createElement("div");for(let f of[...l])c.append(f);return c}}function Se(l,c,f){let p=[],m=[];for(;l!=null;)p.push(l),l=l.previousSibling;for(;p.length>0;){let b=p.pop();m.push(b),c.parentElement.insertBefore(b,c)}for(m.push(c);f!=null;)p.push(f),m.push(f),f=f.nextSibling;for(;p.length>0;)c.parentElement.insertBefore(p.pop(),c.nextSibling);return m}function Ae(l,c,f){let p;p=l.firstChild;let m=p,b=0;for(;p;){let z=we(p,c,f);z>b&&(m=p,b=z),p=p.nextSibling}return m}function we(l,c,f){return H(l,c)?.5+R(f,l,c):0}function J(l,c){x(c,l),c.callbacks.beforeNodeRemoved(l)!==!1&&(l.remove(),c.callbacks.afterNodeRemoved(l))}function Te(l,c){return!l.deadIds.has(c)}function Ce(l,c,f){return(l.idMap.get(f)||r).has(c)}function x(l,c){let f=l.idMap.get(c)||r;for(let p of f)l.deadIds.add(p)}function R(l,c,f){let p=l.idMap.get(c)||r,m=0;for(let b of p)Te(l,b)&&Ce(l,b,f)&&++m;return m}function Z(l,c){let f=l.parentElement,p=l.querySelectorAll("[id]");for(let m of p){let b=m;for(;b!==f&&b!=null;){let z=c.get(b);z==null&&(z=new Set,c.set(b,z)),z.add(m.id),b=b.parentElement}}}function $e(l,c){let f=new Map;return Z(l,f),Z(c,f),f}return{morph:e,defaults:t}}();var Ge=r=>{let t=r.split(/(<\/?[^>]+>)/g).map(s=>s.trim()).filter(s=>s),e=0,o=[];for(let s=0;s<t.length;s++){let n=t[s],i=t[s+1],a=t[s+2];if(n.startsWith("<"))if(!n.startsWith("</")&&!n.endsWith("/>")&&i&&!i.startsWith("<")&&a&&a.startsWith("</")){let u=Math.max(0,e);o.push("  ".repeat(u)+n+i+a),s+=2}else if(n.startsWith("</")){e--;let u=Math.max(0,e);o.push("  ".repeat(u)+n)}else if(n.endsWith("/>")||n.includes(" />")){let u=Math.max(0,e);o.push("  ".repeat(u)+n)}else{let u=Math.max(0,e);o.push("  ".repeat(u)+n),e++}else if(n){let u=Math.max(0,e);o.push("  ".repeat(u)+n)}}return o.join(`
`)},V=(()=>{let r=[],t=[],e=0,o=null;document.addEventListener("keydown",i=>{if(i.key==="Escape"){i.preventDefault();let a=document.getElementById("dump-dialog"),u=document.getElementById("log-reopen-button");a?(a.remove(),s()):u&&(u.remove(),n())}else(i.key==="ArrowLeft"||i.key==="ArrowRight"||i.key==="ArrowUp"||i.key==="ArrowDown")&&document.getElementById("dump-dialog")&&r.length>0&&(i.preventDefault(),i.key==="ArrowLeft"&&e>0?(e--,localStorage.setItem("_LOG_INDEX",e),o()):i.key==="ArrowRight"&&e<r.length-1?(e++,localStorage.setItem("_LOG_INDEX",e),o()):i.key==="ArrowUp"&&e>0?(e=Math.max(0,e-5),localStorage.setItem("_LOG_INDEX",e),o()):i.key==="ArrowDown"&&e<r.length-1&&(e=Math.min(r.length-1,e+5),localStorage.setItem("_LOG_INDEX",e),o()))});let s=()=>{let i=document.getElementById("log-reopen-button");i||(i=document.body.appendChild(document.createElement("button")),i.id="log-reopen-button",i.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;margin-right:4px"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>LOG',i.style.cssText="position:fixed; top: 10px; right: 10px;padding:10px 20px;background:#ff3333;color:#fff;border:none;cursor:pointer;font:14px/1.4 monospace;z-index:2147483647;border-radius:8px;display:flex;align-items:center;opacity:1;visibility:visible;box-shadow:0 4px 12px rgba(255,51,51,0.3)",i.onclick=()=>{i.remove(),n()})},n=()=>{let i=document.getElementById("dump-dialog");if(!i){i=document.body.appendChild(document.createElement("div")),i.id="dump-dialog";let u=window.pageYOffset||document.documentElement.scrollTop;i.style.cssText="position:absolute; top:"+(u+20)+"px; left: 20px; right:20px;background:#fff; border:1px solid #333; box-shadow:0 0 10px rgba(0,0,0,0.5);padding:20px; overflow:auto; z-index:2147483646; font:13px/1.4 monospace;white-space:pre; display:block; opacity:1; visibility:visible"}let a=parseInt(localStorage.getItem("_LOG_INDEX"));!isNaN(a)&&a>=0&&a<r.length?e=a:e=r.length-1,o=()=>{let u=r.map((d,h)=>{let y="#f0f0f0";return h!==e&&(t[h]==="object"?y="#d6e3ef":t[h]==="array"&&(y="#d8d5ef")),`<button style="font-size: 14px; font-weight: 400; padding:2px 6px; margin: 0 2px 2px 0;cursor:pointer;background:${h===e?"#333":y};color:${h===e?"#fff":"#000"}" data-index="${h}">${h+1}</button>`}).join("");i.innerHTML='<div style="display:flex;flex-direction:column;height:100%"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px"><div style="display:flex;flex-wrap:wrap;gap:4px;flex:1;margin-right:10px">'+u+'</div><button style="padding:4px 8px;cursor:pointer;flex-shrink:0">&times;</button></div><xmp style="font-family:monospace;flex:1;overflow:auto;margin:0;padding:0;color:#000;background:#fff;font-size:14px;line-height:22px">'+r[e]+"</xmp></div>",i.querySelector('button[style*="flex-shrink:0"]').onclick=()=>{i.remove(),s()},i.querySelectorAll("button[data-index]").forEach(d=>{d.onclick=()=>{e=parseInt(d.dataset.index),localStorage.setItem("_LOG_INDEX",e),o()}})},o()};return i=>{if(!document.body){window.requestAnimationFrame(()=>V(i));return}let a=typeof i;i instanceof Node&&(i.nodeType===Node.TEXT_NODE?i=i.textContent||String(i):i=Ge(i.outerHTML)),i===void 0&&(i="undefined"),i===null&&(i="null"),Array.isArray(i)?a="array":typeof i=="object"&&i!==null&&(a="object"),typeof i!="string"&&(i=JSON.stringify(i,(d,h)=>typeof h=="function"?String(h):h,2).replaceAll("<","&lt;")),i=i.trim(),r.push(i+`

type: ${a}`),t.push(a),!!document.getElementById("dump-dialog")?(e=r.length-1,localStorage.setItem("_LOG_INDEX",e),o&&o()):n()}})();typeof window<"u"&&!window.LOG&&(window.LOG=V);var ne=V;var ie=()=>{let r=parseInt(window.location.port)||80;if(!(Fez.DEV===!0||r>2999&&Fez.DEV!==!1))return;let t=document.querySelectorAll(".fez-highlight-overlay");if(t.length>0){t.forEach(o=>o.remove());return}document.querySelectorAll(".fez, .svelte").forEach(o=>{let s=null,n=null;if(o.classList.contains("fez")&&o.fez&&o.fez.fezName?(s=o.fez.fezName,n="fez"):o.classList.contains("svelte")&&o.svelte&&o.svelte.svelteName&&(s=o.svelte.svelteName,n="svelte"),s){let i=document.createElement("div");i.className="fez-highlight-overlay";let a=o.getBoundingClientRect(),u=window.pageYOffset||document.documentElement.scrollTop,d=window.pageXOffset||document.documentElement.scrollLeft;i.style.cssText=`
        position: absolute;
        top: ${a.top+u}px;
        left: ${a.left+d}px;
        width: ${a.width}px;
        height: ${a.height}px;
        border: 1px solid ${n==="svelte"?"blue":"red"};
        pointer-events: none;
        z-index: 9999;
      `;let h=document.createElement("div");h.textContent=s,h.style.cssText=`
        position: absolute;
        top: -20px;
        left: 0;
        background: ${n==="svelte"?"blue":"red"};
        color: white;
        padding: 4px 6px 2px 6px;
        font-size: 14px;
        font-family: monospace;
        line-height: 1;
        white-space: nowrap;
        cursor: pointer;
        pointer-events: auto;
        text-transform: uppercase;
      `,h.addEventListener("click",y=>{y.stopPropagation(),Fez.log(o)}),i.appendChild(h),document.body.appendChild(i)}})};document.addEventListener("keydown",r=>{(r.ctrlKey||r.metaKey)&&r.key==="e"&&(r.target.closest("form")||(r.preventDefault(),ie()))});var le=ie;var We=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]),Ve=new MutationObserver((r,t)=>{for(let e of r)if(e.type==="attributes"){let o=e.target.fez,s=e.attributeName,n=e.target.getAttribute(s);o&&(o.props[s]=n,o.onPropsChange(s,n))}});function U(r,t){let e=globalThis.window?.Fez||globalThis.Fez;if(!r.includes("-")){console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);return}if(t=Ue(e,r,t),t.html){let o=t.SLOT||"div";t.html=t.html.replace("<slot",`<${o} class="fez-slot" fez-keep="default-slot"`).replace("</slot>",`</${o}>`),t.fezHtmlFunc=D(t.html)}t.css&&(t.css=e.globalCss(t.css,{name:r})),e.classes[r]=t,customElements.get(r)||customElements.define(r,class extends HTMLElement{connectedCallback(){Xe(this,t)?ae(r,this):requestAnimationFrame(()=>{ae(r,this)})}})}function Ue(r,t,e){if(e.prototype instanceof M)return e.html&&(e.html=ce(e.html)),e;let o=new e,s=class extends M{},n=[...Object.getOwnPropertyNames(o),...Object.getOwnPropertyNames(e.prototype)].filter(a=>a!=="constructor"&&a!=="prototype");for(let a of n)s.prototype[a]=o[a];let i={FAST:"FAST",GLOBAL:"GLOBAL",CSS:"css",NAME:"nodeName"};for(let[a,u]of Object.entries(i))o[a]&&(s[u]=o[a]);return o.HTML&&(s.html=ce(o.HTML)),o.GLOBAL&&r.onReady(()=>document.body.appendChild(document.createElement(t))),r.consoleLog(`${t} compiled`),s}function Xe(r,t){let e=r.getAttribute("fez-fast");if(e==="false")return!1;let o=typeof t.FAST=="function"?t.FAST(r):t.FAST;return!!(e||o||r.childNodes[0]||r.nextSibling)}function ce(r){return r.replace(/<([a-z-]+)\b([^>]*)\/>/g,(t,e,o)=>We.has(e)?t:`<${e}${o}></${e}>`)}function ae(r,t){if(!t.isConnected)return;let e=Fez.classes[r],o=typeof e.nodeName=="function"?e.nodeName(t):e.nodeName,s=document.createElement(o||"div");s.classList.add("fez"),s.classList.add(`fez-${r}`),t.parentNode.replaceChild(s,t);let n=new e;if(n.UID=++Fez.instanceCount,Fez.instances.set(n.UID,n),n.oldRoot=t,n.fezName=r,n.root=s,n.props=e.getProps(t,s),n.class=e,n.fezSlot(t,s),s.fez=n,e.GLOBAL&&e.GLOBAL!=!0&&(window[e.GLOBAL]||=n),window.$&&(n.$root=$(s)),n.props.id&&s.setAttribute("id",n.props.id),n.fezRegister(),(n.onInit||n.init||n.created||n.connect)(n.props),n.fezRender(),n.onMount(n.props),n.onSubmit){let a=n.root.nodeName=="FORM"?n.root:n.find("form");a&&(a.onsubmit=u=>{u.preventDefault(),n.onSubmit(n.formData())})}if(n.onPropsChange){Ve.observe(s,{attributes:!0});for(let[a,u]of Object.entries(n.props))n.onPropsChange(a,u)}}var Ke=r=>{let t={script:"",style:"",html:"",head:""},e=r.split(`
`),o=[],s="";for(var n of e)n=n.trim(),n.startsWith("<script")&&!t.script&&s!="head"?s="script":n.startsWith("<head")&&!t.script?s="head":n.startsWith("<style")?s="style":n.endsWith("<\/script>")&&s==="script"&&!t.script?(t.script=o.join(`
`),o=[],s=null):n.endsWith("</style>")&&s==="style"?(t.style=o.join(`
`),o=[],s=null):(n.endsWith("</head>")||n.endsWith("</header>"))&&s==="head"?(t.head=o.join(`
`),o=[],s=null):s?o.push(n):t.html+=n+`
`;if(t.head){let a=Fez.domRoot(t.head);Array.from(a.children).forEach(u=>{if(u.tagName==="SCRIPT"){let d=document.createElement("script");Array.from(u.attributes).forEach(h=>{d.setAttribute(h.name,h.value)}),d.type||="text/javascript",u.src?document.head.appendChild(d):(d.type.includes("javascript")||d.type=="module")&&(d.textContent=u.textContent,document.head.appendChild(d))}else document.head.appendChild(u.cloneNode(!0))})}let i=t.script;return/class\s+\{/.test(i)||(i=`class {
${i}
}`),String(t.style).includes(":")&&(t.style=Fez.cssMixin(t.style),t.style=t.style.includes(":fez")||/(?:^|\s)body\s*\{/.test(t.style)?t.style:`:fez {
${t.style}
}`,i=i.replace(/\}\s*$/,`
  CSS = \`${t.style}\`
}`)),/\w/.test(String(t.html))&&(t.html=t.html.replaceAll("`","&#x60;"),t.html=t.html.replaceAll("$","\\$"),i=i.replace(/\}\s*$/,`
  HTML = \`${t.html}\`
}`)),i};function X(r){if(r instanceof Node){let t=r;t.remove();let e=t.getAttribute("fez");if(e&&(e.includes(".")||e.includes("/"))){Je(e);return}else{e&&!e.includes("-")&&console.error(`Fez: Invalid custom element name "${e}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),P(e,t.innerHTML);return}}else{(r?Fez.domRoot(r):document.body).querySelectorAll("template[fez], xmp[fez]").forEach(e=>{X(e)});return}}function Je(r){Fez.consoleLog(`Loading from ${r}`),Fez.fetch(r).then(t=>{let s=new DOMParser().parseFromString(t,"text/html").querySelectorAll("template[fez], xmp[fez]");if(s.length>0)s.forEach(n=>{let i=n.getAttribute("fez");i&&!i.includes("-")&&!i.includes(".")&&!i.includes("/")&&console.error(`Fez: Invalid custom element name "${i}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let a=n.innerHTML;P(i,a)});else{let n=r.split("/").pop().split(".")[0];P(n,t)}}).catch(t=>{Fez.onError("compile",`Template load error for "${r}": ${t.message}`)})}function P(r,t){if(arguments.length===1)return X(r);if(t&&t.includes("</xmp>"))return X(t);r&&!r.includes("-")&&!r.includes(".")&&!r.includes("/")&&console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let e=Ke(t),o=e.split(/class\s+\{/,2);if(e=`${o[0]};

window.Fez('${r}', class {
${o[1]})`,r){let s=document.getElementById("fez-hidden-styles");s||(s=document.createElement("style"),s.id="fez-hidden-styles",document.head.appendChild(s));let n=[...Object.keys(Fez.classes),r].sort().join(", ");s.textContent=`${n} { display: none; }
`}if(e.includes("import "))Fez.head({script:e}),setTimeout(()=>{Fez.classes[r]||Fez.consoleError(`Template "${r}" possible compile error. (can be a false positive, it imports are not loaded)`)},2e3);else try{new Function(e)()}catch(s){Fez.consoleError(`Template "${r}" compile error: ${s.message}`),console.log(e)}}var fe=P;var Ze={data:{},listeners:new Map,subscribers:new Map,globalSubscribers:new Set,notify(r,t,e){Fez.consoleLog(`Global state change for ${r}: ${t} (from ${e})`);let o=this.listeners.get(r);o&&o.forEach(n=>{n.isConnected?(n.onGlobalStateChange(r,t,e),n.fezRender()):o.delete(n)});let s=this.subscribers.get(r);s&&s.forEach(n=>{try{n(t,e,r)}catch(i){console.error(`Error in subscriber for key ${r}:`,i)}}),this.globalSubscribers.forEach(n=>{try{n(r,t,e)}catch(i){console.error("Error in global subscriber:",i)}})},createProxy(r){return new Proxy({},{get:(t,e)=>(r._globalStateKeys||=new Set,r._globalStateKeys.has(e)||(r._globalStateKeys.add(e),this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(r)),this.data[e]),set:(t,e,o)=>{let s=this.data[e];return s!==o&&(this.data[e]=o,this.notify(e,o,s)),!0}})},set(r,t){let e=this.data[r];e!==t&&(this.data[r]=t,this.notify(r,t,e))},get(r){return this.data[r]},forEach(r,t){let e=this.listeners.get(r);e&&e.forEach(o=>{o.isConnected?t(o):e.delete(o)})},subscribe(r,t){if(typeof r=="function")return this.globalSubscribers.add(r),()=>this.globalSubscribers.delete(r);{let e=r;return this.subscribers.has(e)||this.subscribers.set(e,new Set),this.subscribers.get(e).add(t),()=>{let o=this.subscribers.get(e);o&&(o.delete(t),o.size===0&&this.subscribers.delete(e))}}}},ue=Ze;var de=r=>{r.head=(s,n)=>{if(s.nodeName){s.nodeName=="SCRIPT"?(r.head({script:s.innerText}),s.remove()):(s.querySelectorAll("script").forEach(y=>r.head(y)),s.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(y=>r.compile(y)));return}if(typeof s!="object"||s===null)throw new Error("head requires an object parameter");let i,a={},u;if(s.script){if(s.script.includes("import ")){n&&r.consoleError("Fez.head callback is not supported when script with import is passed (module context).");let y=document.createElement("script");y.type="module",y.textContent=s.script,document.head.appendChild(y),requestAnimationFrame(()=>y.remove())}else try{new Function(s.script)(),n&&n()}catch(y){r.consoleError("Error executing script:",y),console.log(s.script)}return}else if(s.js){i=s.js,u="script";for(let[y,A]of Object.entries(s))y!=="js"&&y!=="module"&&(a[y]=A);s.module&&(a.type="module")}else if(s.css){i=s.css,u="link",a.rel="stylesheet";for(let[y,A]of Object.entries(s))y!=="css"&&(a[y]=A)}else throw new Error('head requires either "script", "js" or "css" property');let d=document.querySelector(`${u}[src="${i}"], ${u}[href="${i}"]`);if(d)return n&&n(),d;let h=document.createElement(u);u==="link"?h.href=i:h.src=i;for(let[y,A]of Object.entries(a))h.setAttribute(y,A);return(n||s.module)&&(h.onload=()=>{s.module&&u==="script"&&import(i).then(y=>{window[s.module]=y.default||y[s.module]||y}).catch(y=>{console.error(`Error importing module ${s.module}:`,y)}),n&&n()}),document.head.appendChild(h),h};let t=5*60*1e3,e=100;r.fetch=function(...s){r._fetchCache||=new Map;let n="GET",i,a;typeof s[0]=="string"&&/^[A-Z]+$/.test(s[0])&&(n=s.shift()),i=s.shift();let u={},d=null;if(typeof s[0]=="object"&&(d=s.shift()),typeof s[0]=="function"&&(a=s.shift()),d){if(n==="GET"){let v=new URLSearchParams(d);i+=(i.includes("?")?"&":"?")+v.toString()}else if(n==="POST"){let v=new FormData;for(let[N,_]of Object.entries(d))v.append(N,_);u.body=v}}u.method=n;let h=`${n}:${i}:${JSON.stringify(u)}`,y=r._fetchCache.get(h);if(y&&Date.now()-y.timestamp<t){if(r.consoleLog(`fetch cache hit: ${n} ${i}`),a){a(y.data);return}return Promise.resolve(y.data)}r.consoleLog(`fetch live: ${n} ${i}`);let A=v=>v.headers.get("content-type")?.includes("application/json")?v.json():v.text(),w=(v,N)=>{if(r._fetchCache.size>=e){let _=r._fetchCache.keys().next().value;r._fetchCache.delete(_)}r._fetchCache.set(v,{data:N,timestamp:Date.now()})};if(a){fetch(i,u).then(A).then(v=>{w(h,v),a(v)}).catch(v=>r.onError("fetch",v));return}return fetch(i,u).then(A).then(v=>(w(h,v),v))},r.clearFetchCache=()=>{r._fetchCache?.clear()},r.darkenColor=(s,n=20)=>{let i=parseInt(s.replace("#",""),16),a=Math.round(2.55*n),u=(i>>16)-a,d=(i>>8&255)-a,h=(i&255)-a;return"#"+(16777216+(u<255?u<1?0:u:255)*65536+(d<255?d<1?0:d:255)*256+(h<255?h<1?0:h:255)).toString(16).slice(1)},r.lightenColor=(s,n=20)=>{let i=parseInt(s.replace("#",""),16),a=Math.round(2.55*n),u=(i>>16)+a,d=(i>>8&255)+a,h=(i&255)+a;return"#"+(16777216+(u<255?u<1?0:u:255)*65536+(d<255?d<1?0:d:255)*256+(h<255?h<1?0:h:255)).toString(16).slice(1)},r.htmlEscape=s=>typeof s=="string"?s.replace(/font-family\s*:\s*(?:&[^;]+;|[^;])*?;/gi,"").replaceAll("&","&amp;").replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;"):s===void 0?"":s,r.domRoot=(s,n="div")=>{if(s instanceof Node)return s;{let i=document.createElement(n);return i.innerHTML=s,i}},r.activateNode=(s,n="active")=>{Array.from(s.parentElement.children).forEach(i=>{i.classList.remove(n)}),s.classList.add(n)},r.isTrue=s=>["1","true","on"].includes(String(s).toLowerCase()),r.UID=111,r.uid=()=>"fez_uid_"+(++r.UID).toString(32),r.POINTER_SEQ=0,r.POINTER={},r.pointer=(s,n={})=>{if(typeof s=="function"){let i=++r.POINTER_SEQ;return n.persist?r.POINTER[i]=s:r.POINTER[i]=(...a)=>{let u=s(...a);return delete r.POINTER[i],u},`Fez.POINTER[${i}]`}},r.clearPointers=()=>{r.POINTER={}},r.getFunction=s=>{if(s){if(typeof s=="function")return s;if(typeof s=="string"){let n=/^\s*\(?\s*\w+(\s*,\s*\w+)*\s*\)?\s*=>/,i=/^\s*function\s*\(/;return n.test(s)||i.test(s)?new Function("return "+s)():s.includes(".")&&!s.includes("(")?new Function(`return function() { return ${s}(); }`):new Function(s)}}else return()=>{}},r.onReady=s=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{s()},{once:!0}):s()},r.fnv1=s=>{var n,i,a,u,d,h;for(n=2166136261,i=16777619,a=n,u=d=0,h=s.length-1;0<=h?d<=h:d>=h;u=0<=h?++d:--d)a^=s.charCodeAt(u),a*=i;return a.toString(36).replaceAll("-","")},r.tag=(s,n={},i="")=>{let a=encodeURIComponent(JSON.stringify(n));return`<${s} data-props="${a}">${i}</${s}>`},r.untilTrue=(s,n)=>{n||=200,s()||setTimeout(()=>{r.untilTrue(s,n)},n)};let o=200;r.throttle=(s,n=o)=>{let i=0,a;return function(...u){let d=Date.now();d-i>=n?(s.apply(this,u),i=d):(clearTimeout(a),a=setTimeout(()=>{s.apply(this,u),i=Date.now()},n-(d-i)))}}};var pe={},he=r=>{r.cssMixin=(t,e)=>{if(e)pe[t]=e;else return Object.entries(pe).forEach(([o,s])=>{t=t.replaceAll(`:${o} `,`${s} `),t=t.replaceAll(`@include ${o} `,`${s} `)}),t},r.cssMixin("mobile","@media (max-width: 767px)"),r.cssMixin("tablet","@media (min-width: 768px) and (max-width: 1023px)"),r.cssMixin("desktop","@media (min-width:  1200px)")};var g=(r,t)=>{if(typeof r=="number"){let e=g.instances.get(r);if(e)return e;g.consoleError(`Instance with UID "${r}" not found.`)}else if(r)if(t)if(typeof t=="function"&&!/^\s*class/.test(t.toString())&&!/\b(this|new)\b/.test(t.toString())){let o=Array.from(document.querySelectorAll(`.fez.fez-${r}`)).filter(s=>s.fez);return o.forEach(s=>t(s.fez)),o}else return typeof t!="function"?g.find(r,t):U(r,t);else{let e=r.nodeName?r.closest(".fez"):document.querySelector(r.includes("#")?r:`.fez.fez-${r}`);if(e){if(e.fez)return e.fez;g.consoleError(`node "${r}" has no Fez attached.`)}else g.consoleError(`node "${r}" not found.`)}else g.consoleError("Fez() ?")};g.classes={};g.instanceCount=0;g.instances=new Map;g.find=(r,t)=>{let e=r;typeof e=="string"&&(e=document.body.querySelector(e)),typeof e.val=="function"&&(e=e[0]);let o=t?`.fez.fez-${t}`:".fez",s=e.closest(o);if(s&&s.fez)return s.fez;g.onError("find","Node connector not found",{original:r,resolved:e})};g.cssClass=r=>se.css(r);g.globalCss=(r,t={})=>{if(typeof r=="function"&&(r=r()),r.includes(":")){let e=r.split(`
`).filter(o=>!/^\s*\/\//.test(o)).join(`
`);t.wrap&&(e=`:fez { ${e} }`),e=e.replace(/\:fez|\:host/,`.fez.fez-${t.name}`),r=g.cssClass(e)}return g.onReady(()=>{document.body.parentElement.classList.add(r)}),r};g.info=()=>{console.log("Fez components:",Object.keys(g.classes||{}))};g.morphdom=(r,t,e={})=>{Array.from(r.attributes).forEach(s=>{t.setAttribute(s.name,s.value)}),oe.morph(r,t,{morphStyle:"outerHTML"});let o=r.nextSibling;o?.nodeType===Node.TEXT_NODE&&o.textContent.trim()===""&&o.remove()};g._globalSubs||=new Map;g.publish=(r,...t)=>{g._subs||={},g._subs[r]||=[],g._subs[r].forEach(o=>{o[1].bind(o[0])(...t)});let e=g._globalSubs.get(r);e&&e.forEach(o=>{o.node.isConnected?o.callback.call(o.node,...t):e.delete(o)})};g.subscribe=(r,t,e)=>{typeof t=="function"&&(e=t,t=r,r=document.body),typeof r=="string"&&(r=document.querySelector(r)),g._globalSubs.has(t)||g._globalSubs.set(t,new Set);let o=g._globalSubs.get(t);o.forEach(n=>{n.node===r&&n.callback===e&&o.delete(n)});let s={node:r,callback:e};return o.add(s),()=>{o.delete(s)}};g.consoleError=(r,t)=>{if(r=`Fez: ${r}`,console.error(r),t)return`<span style="border: 1px solid red; font-size: 14px; padding: 3px 7px; background: #fee; border-radius: 4px;">${r}</span>`};g.consoleLog=r=>{g.LOG===!0&&(r=String(r).substring(0,180),console.log(`Fez: ${r}`))};g.onError=(r,t,e)=>{let o=`Fez ${r}: ${t?.toString?.()||t}`;return console.error(o,e||""),o};g.store={store:new Map,counter:0,set(r){let t=this.counter++;return this.store.set(t,r),t},get(r){return this.store.get(r)},delete(r){let t=this.store.get(r);return this.store.delete(r),t}};de(g);he(g);g.compile=fe;g.state=ue;g.log=ne;g.highlightAll=le;g.onReady(()=>{g.consoleLog("Fez.LOG === true, logging enabled.")});var F=g;typeof window<"u"&&(window.FezBase=M);typeof window<"u"&&(window.Fez=F);Promise.resolve().then(()=>ye());var Ye=5e3;setInterval(()=>{for(let[r,t]of F.instances)t?.isConnected||(t.fez?.fezOnDestroy(),F.instances.delete(r))},Ye);var Qe=new MutationObserver(r=>{for(let{addedNodes:t,removedNodes:e}of r)t.forEach(o=>{o.nodeType===1&&(o.matches("template[fez], xmp[fez], script[fez]")&&(F.compile(o),o.remove()),o.querySelectorAll&&o.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(n=>{F.compile(n),n.remove()}))}),e.forEach(o=>{o.nodeType===1&&o.querySelectorAll&&o.querySelectorAll(".fez, :scope.fez").forEach(n=>{n.fez&&n.root&&(F.instances.delete(n.fez.UID),n.fez.fezOnDestroy())})})});Qe.observe(document.documentElement,{childList:!0,subtree:!0});var kt=F;})();
//# sourceMappingURL=fez.js.map
