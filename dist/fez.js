(()=>{function k(r,t={},e){if(typeof t=="string"&&([t,e]=[e,t],t||={}),t instanceof Node&&(e=t,t={}),Array.isArray(r)&&(e=r,r="div"),(typeof t!="object"||Array.isArray(t))&&(e=t,t={}),r.includes(".")){let c=r.split(".");r=c.shift()||"div";let f=c.join(" ");t.class?t.class+=` ${f}`:t.class=f}let o=document.createElement(r);for(let[c,f]of Object.entries(t))if(typeof f=="function")o[c]=f.bind(this);else{let a=String(f).replaceAll("$$.",this.fezHtmlRoot);o.setAttribute(c,a)}if(e)if(Array.isArray(e))for(let c of e)o.appendChild(c);else e instanceof Node?o.appendChild(e):o.innerHTML=String(e);return o}function pe(r,t){if(r=r.replaceAll("@","this."),r.startsWith("#if")||r.startsWith("if"))return t.push(!1),r=r.replace(/^#?if/,""),`\${ ${r} ? \``;if(r.startsWith("#for")||r.startsWith("for")){r=r.replace(/^#?for/,"");let e=r.split(" in ",2);return"${"+e[1]+".map(("+e[0]+")=>`"}else if(r.startsWith("#each")||r.startsWith("each")){r=r.replace(/^#?each/,"");let e=r.split(" as ",2);return"${"+e[0]+".map(("+e[1]+")=>`"}else{if(r==":else"||r=="else")return t[t.length-1]=!0,"` : `";if(r=="/if")return t.pop()?"`}":"` : ``}";if(r=="/for"||r=="/each")return'`).join("")}';{let e="this.html ";return r.startsWith(e)?r=r.replace(e,""):r=`Fez.htmlEscape(${r})`,"${"+r+"}"}}}function j(r){let t=[],e=r.replace(/\s*{{(.*?)}}\s*/g,(o,c)=>pe(c,t));e="`"+e+"`";try{let o=new Function(`return ${e}`);return f=>{try{return o.bind(f)()}catch(a){let p=`FEZ template runtime error: ${a.message}`;return console.error(p),console.log(r),`${p} (check console for template info)`}}}catch(o){console.error(`FEZ template compile error: ${o.message}`),console.log(r)}}var L=class{static __objects=[];static getProps(t,e){let o={};for(let c of t.attributes)o[c.name]=c.value;if(o["data-props"]){let c=o["data-props"];c[0]!="{"&&(c=decodeURIComponent(c)),o=JSON.parse(c)}if(o["data-json-template"]){let c=e.previousSibling?.textContent;c&&(o=JSON.parse(c))}return o}static formData(t){let e=t.closest("form")||t.querySelector("form"),o=new FormData(e),c={};return o.forEach((f,a)=>{c[a]=f}),c}static fastBind(){return!1}static nodeName="div";constructor(){}n=k;get fezHtmlRoot(){return`Fez.find(this, "${this.fezName}").`}get isAttached(){return this.root?.parentNode?!0:(this._setIntervalCache||={},Object.keys(this._setIntervalCache).forEach(t=>{clearInterval(this._setIntervalCache[t])}),this.root.fez=null,this.root=null,!1)}prop(t){let e=this.oldRoot[t]||this.props[t];return typeof e=="function"&&(e=e.bind(this.root)),e}copy(){for(let t of Array.from(arguments)){let e=this.props[t];if(e!==void 0){if(t=="class"){let o=this.root.getAttribute(t,e);o&&(e=[o,e].join(" "))}typeof e=="string"?this.root.setAttribute(t,e):this.root[t]=e}}}slot(t,e){e||=document.createElement("template");let o=e.nodeName=="SLOT";for(;t.firstChild;)o?e.parentNode.insertBefore(t.lastChild,e.nextSibling):e.appendChild(t.firstChild);return o?e.parentNode.removeChild(e):t.innerHTML="",e}style(){console.error("call Fez static style")}connect(){this.class.html||console.error('Fez is missing "connect" method.',this.root)}afterConnect(){}beforeRender(){}afterRender(){}parseHtml(t){let e=this.fezHtmlRoot.replaceAll('"',"&quot;");return t=t.replaceAll("$$.",e).replace(/([^\w\.])fez\./g,`$1${e}`),t}nextTick(t,e){e?(this._nextTicks||={},this._nextTicks[e]||=window.requestAnimationFrame(()=>{t.bind(this)(),this._nextTicks[e]=null},e)):window.requestAnimationFrame(t.bind(this))}render(t){if(t||=this?._fez_html_func,!t)return;this.beforeRender();let e=document.createElement(this.class.nodeName||"div"),o;Array.isArray(t)?t[0]instanceof Node?t.forEach(a=>e.appendChild(a)):o=t.join(""):typeof t=="string"?o=j(t)(this):typeof t=="function"&&(o=t(this)),o&&(e.innerHTML=this.parseHtml(o));let c=e.querySelector("slot");c&&(this.slot(this.root,c.parentNode),c.parentNode.removeChild(c));let f=this.find(".fez-slot");if(f){let a=e.querySelector(".fez-slot");a&&a.parentNode.replaceChild(f,a)}Fez.morphdom(this.root,e),this.renderFezPostProcess(),this.afterRender()}renderFezPostProcess(){let t=(e,o)=>{this.root.querySelectorAll(`*[${e}]`).forEach(c=>{let f=c.getAttribute(e);c.removeAttribute(e),f&&o.bind(this)(f,c)})};t("fez-this",(e,o)=>{new Function("n",`this.${e} = n`).bind(this)(o)}),t("fez-use",(e,o)=>{let c=this[e];typeof c=="function"?c(o):console.error(`Fez error: "${e}" is not a function in ${this.fezName}`)}),t("fez-class",e=>{let o=e.split(/\s+/),c=o.pop();o.forEach(f=>n.classList.add(f)),c&&setTimeout(()=>{n.classList.add(c)},300)}),t("fez-bind",(e,o)=>{let c=new Function(`return this.${e}`).bind(this)(),f=o.type.toLowerCase()=="checkbox",a=["SELECT"].includes(o.nodeName)||f?"onchange":"onkeyup";o.setAttribute(a,`${this.fezHtmlRoot}${e} = this.${f?"checked":"value"}`),this.val(o,c)})}refresh(t){if(alert("NEEDS FIX and remove htmlTemplate"),t){let e=document.createElement("div");e.innerHTML=this.class.htmlTemplate;let o=e.querySelector(t).innerHTML;this.render(t,o)}else this.render()}setInterval(t,e,o){return typeof t=="number"&&([e,t]=[t,e]),o||=Fez.fnv1(String(t)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[o]),this._setIntervalCache[o]=setInterval(()=>{this.isAttached&&t()},e),this._setIntervalCache[o]}find(t){return typeof t=="string"?this.root.querySelector(t):t}val(t,e){let o=this.find(t);if(o)if(["INPUT","TEXTAREA","SELECT"].includes(o.nodeName))if(typeof e<"u")o.type=="checkbox"?o.checked=!!e:o.value=e;else return o.value;else if(typeof e<"u")o.innerHTML=e;else return o.innerHTML}formData(t){return this.class.formData(t||this.root)}attr(t,e){return typeof e>"u"?this.root.getAttribute(t):(this.root.setAttribute(t,e),e)}childNodes(t){let e=Array.from(this.root.querySelectorAll(":scope > *"));return t&&(e=e.map(t)),e}subscribe(t,e){Fez._subs||={},Fez._subs[t]||=[],Fez._subs[t]=Fez._subs[t].filter(o=>o[0].isAttached),Fez._subs[t].push([this,e])}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.reactiveStore(),this.data||={},this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(e=>e!=="constructor"&&typeof this[e]=="function").forEach(e=>this[e]=this[e].bind(this))}reactiveStore(t,e){t||={},e||=(c,f,a)=>{this.nextTick(this.render,"render")},e.bind(this);function o(c,f){return typeof c!="object"||c===null?c:new Proxy(c,{set(a,p,m,y){typeof m=="object"&&m!==null&&(m=o(m,f));let A=Reflect.set(a,p,m,y);return f(a,p,m),A},get(a,p,m){let y=Reflect.get(a,p,m);return typeof y=="object"&&y!==null?o(y,f):y}})}return o(t,e)}};var me={data:""},Z=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||me,be=r=>{let t=Z(r),e=t.data;return t.data="",e},ye=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ge=/\/\*[^]*?\*\/|  +/g,J=/\n+/g,F=(r,t)=>{let e="",o="",c="";for(let f in r){let a=r[f];f[0]=="@"?f[1]=="i"?e=f+" "+a+";":o+=f[1]=="f"?F(a,f):f+"{"+F(a,f[1]=="k"?"":t)+"}":typeof a=="object"?o+=F(a,t?t.replace(/([^,])+/g,p=>f.replace(/(^:.*)|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,p):p?p+" "+m:m)):f):a!=null&&(f=/^--/.test(f)?f:f.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=F.p?F.p(f,a):f+":"+a+";")}return e+(t&&c?t+"{"+c+"}":c)+o},E={},G=r=>{if(typeof r=="object"){let t="";for(let e in r)t+=e+G(r[e]);return t}return r},ve=(r,t,e,o,c)=>{let f=G(r),a=E[f]||(E[f]=(m=>{let y=0,A=11;for(;y<m.length;)A=101*A+m.charCodeAt(y++)>>>0;return"go"+A})(f));if(!E[a]){let m=f!==r?r:(y=>{let A,T,w=[{}];for(;A=ye.exec(y.replace(ge,""));)A[4]?w.shift():A[3]?(T=A[3].replace(J," ").trim(),w.unshift(w[0][T]=w[0][T]||{})):w[0][A[1]]=A[2].replace(J," ").trim();return w[0]})(r);E[a]=F(c?{["@keyframes "+a]:m}:m,e?"":"."+a)}let p=e&&E.g?E.g:null;return e&&(E.g=E[a]),((m,y,A,T)=>{T?y.data=y.data.replace(T,m):y.data.indexOf(m)===-1&&(y.data=A?m+y.data:y.data+m)})(E[a],t,o,p),a},Ae=(r,t,e)=>r.reduce((o,c,f)=>{let a=t[f];if(a&&a.call){let p=a(e),m=p&&p.props&&p.props.className||/^go/.test(p)&&p;a=m?"."+m:p&&typeof p=="object"?p.props?"":F(p,""):p===!1?"":p}return o+c+(a??"")},"");function O(r){let t=this||{},e=r.call?r(t.p):r;return ve(e.unshift?e.raw?Ae(e,[].slice.call(arguments,1),t.p):e.reduce((o,c)=>Object.assign(o,c&&c.call?c(t.p):c),{}):e,Z(t.target),t.g,t.o,t.k)}var X,B,P,Se=O.bind({g:1}),ze=O.bind({k:1});function Te(r,t,e,o){F.p=t,X=r,B=e,P=o}function Me(r,t){let e=this||{};return function(){let o=arguments;function c(f,a){let p=Object.assign({},f),m=p.className||c.className;e.p=Object.assign({theme:B&&B()},p),e.o=/ *go\d+/.test(m),p.className=O.apply(e,o)+(m?" "+m:""),t&&(p.ref=a);let y=r;return r[0]&&(y=p.as||r,delete p.as),P&&y[0]&&P(p),X(y,p)}return t?t(c):c}}var K={css:O,extractCss:be,glob:Se,keyframes:ze,setup:Te,styled:Me};var Y=function(){"use strict";let r=new Set,t={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:M,afterNodeAdded:M,beforeNodeMorphed:M,afterNodeMorphed:M,beforeNodeRemoved:M,afterNodeRemoved:M,beforeAttributeUpdated:M},head:{style:"merge",shouldPreserve:function(i){return i.getAttribute("im-preserve")==="true"},shouldReAppend:function(i){return i.getAttribute("im-re-append")==="true"},shouldRemove:M,afterHeadMorphed:M}};function e(i,s,l={}){i instanceof Document&&(i=i.documentElement),typeof s=="string"&&(s=se(s));let u=le(s),d=re(i,u,l);return o(i,u,d)}function o(i,s,l){if(l.head.block){let u=i.querySelector("head"),d=s.querySelector("head");if(u&&d){let h=T(d,u,l);Promise.all(h).then(function(){o(i,s,Object.assign(l,{head:{block:!1,ignore:!0}}))});return}}if(l.morphStyle==="innerHTML")return a(s,i,l),i.children;if(l.morphStyle==="outerHTML"||l.morphStyle==null){let u=fe(s,i,l),d=u?.previousSibling,h=u?.nextSibling,b=f(i,u,l);return u?oe(d,b,h):[]}else throw"Do not understand how to morph style "+l.morphStyle}function c(i,s){return s.ignoreActiveValue&&i===document.activeElement&&i!==document.body}function f(i,s,l){if(!(l.ignoreActive&&i===document.activeElement))return s==null?l.callbacks.beforeNodeRemoved(i)===!1?i:(i.remove(),l.callbacks.afterNodeRemoved(i),null):R(i,s)?(l.callbacks.beforeNodeMorphed(i,s)===!1||(i instanceof HTMLHeadElement&&l.head.ignore||(i instanceof HTMLHeadElement&&l.head.style!=="morph"?T(s,i,l):(m(s,i,l),c(i,l)||a(s,i,l))),l.callbacks.afterNodeMorphed(i,s)),i):l.callbacks.beforeNodeRemoved(i)===!1||l.callbacks.beforeNodeAdded(s)===!1?i:(i.parentElement.replaceChild(s,i),l.callbacks.afterNodeAdded(s),l.callbacks.afterNodeRemoved(i),s)}function a(i,s,l){let u=i.firstChild,d=s.firstChild,h;for(;u;){if(h=u,u=h.nextSibling,d==null){if(l.callbacks.beforeNodeAdded(h)===!1)return;s.appendChild(h),l.callbacks.afterNodeAdded(h),C(l,h);continue}if(q(h,d,l)){f(d,h,l),d=d.nextSibling,C(l,h);continue}let b=ne(i,s,h,d,l);if(b){d=V(d,b,l),f(b,h,l),C(l,h);continue}let v=ie(i,s,h,d,l);if(v){d=V(d,v,l),f(v,h,l),C(l,h);continue}if(l.callbacks.beforeNodeAdded(h)===!1)return;s.insertBefore(h,d),l.callbacks.afterNodeAdded(h),C(l,h)}for(;d!==null;){let b=d;d=d.nextSibling,D(b,l)}}function p(i,s,l,u){return i==="value"&&u.ignoreActiveValue&&s===document.activeElement?!0:u.callbacks.beforeAttributeUpdated(i,s,l)===!1}function m(i,s,l){let u=i.nodeType;if(u===1){let d=i.attributes,h=s.attributes;for(let b of d)p(b.name,s,"update",l)||s.getAttribute(b.name)!==b.value&&s.setAttribute(b.name,b.value);for(let b=h.length-1;0<=b;b--){let v=h[b];p(v.name,s,"remove",l)||i.hasAttribute(v.name)||s.removeAttribute(v.name)}}(u===8||u===3)&&s.nodeValue!==i.nodeValue&&(s.nodeValue=i.nodeValue),c(s,l)||A(i,s,l)}function y(i,s,l,u){if(i[l]!==s[l]){let d=p(l,s,"update",u);d||(s[l]=i[l]),i[l]?d||s.setAttribute(l,i[l]):p(l,s,"remove",u)||s.removeAttribute(l)}}function A(i,s,l){if(i instanceof HTMLInputElement&&s instanceof HTMLInputElement&&i.type!=="file"){let u=i.value,d=s.value;y(i,s,"checked",l),y(i,s,"disabled",l),i.hasAttribute("value")?u!==d&&(p("value",s,"update",l)||(s.setAttribute("value",u),s.value=u)):p("value",s,"remove",l)||(s.value="",s.removeAttribute("value"))}else if(i instanceof HTMLOptionElement)y(i,s,"selected",l);else if(i instanceof HTMLTextAreaElement&&s instanceof HTMLTextAreaElement){let u=i.value,d=s.value;if(p("value",s,"update",l))return;u!==d&&(s.value=u),s.firstChild&&s.firstChild.nodeValue!==u&&(s.firstChild.nodeValue=u)}}function T(i,s,l){let u=[],d=[],h=[],b=[],v=l.head.style,_=new Map;for(let g of i.children)_.set(g.outerHTML,g);for(let g of s.children){let z=_.has(g.outerHTML),N=l.head.shouldReAppend(g),I=l.head.shouldPreserve(g);z||I?N?d.push(g):(_.delete(g.outerHTML),h.push(g)):v==="append"?N&&(d.push(g),b.push(g)):l.head.shouldRemove(g)!==!1&&d.push(g)}b.push(..._.values());let U=[];for(let g of b){let z=document.createRange().createContextualFragment(g.outerHTML).firstChild;if(l.callbacks.beforeNodeAdded(z)!==!1){if(z.href||z.src){let N=null,I=new Promise(function(he){N=he});z.addEventListener("load",function(){N()}),U.push(I)}s.appendChild(z),l.callbacks.afterNodeAdded(z),u.push(z)}}for(let g of d)l.callbacks.beforeNodeRemoved(g)!==!1&&(s.removeChild(g),l.callbacks.afterNodeRemoved(g));return l.head.afterHeadMorphed(s,{added:u,kept:h,removed:d}),U}function w(){}function M(){}function te(i){let s={};return Object.assign(s,t),Object.assign(s,i),s.callbacks={},Object.assign(s.callbacks,t.callbacks),Object.assign(s.callbacks,i.callbacks),s.head={},Object.assign(s.head,t.head),Object.assign(s.head,i.head),s}function re(i,s,l){return l=te(l),{target:i,newContent:s,config:l,morphStyle:l.morphStyle,ignoreActive:l.ignoreActive,ignoreActiveValue:l.ignoreActiveValue,idMap:de(i,s),deadIds:new Set,callbacks:l.callbacks,head:l.head}}function q(i,s,l){return i==null||s==null?!1:i.nodeType===s.nodeType&&i.tagName===s.tagName?i.id!==""&&i.id===s.id?!0:H(l,i,s)>0:!1}function R(i,s){return i==null||s==null?!1:i.nodeType===s.nodeType&&i.tagName===s.tagName}function V(i,s,l){for(;i!==s;){let u=i;i=i.nextSibling,D(u,l)}return C(l,s),s.nextSibling}function ne(i,s,l,u,d){let h=H(d,l,s),b=null;if(h>0){let v=u,_=0;for(;v!=null;){if(q(l,v,d))return v;if(_+=H(d,v,i),_>h)return null;v=v.nextSibling}}return b}function ie(i,s,l,u,d){let h=u,b=l.nextSibling,v=0;for(;h!=null;){if(H(d,h,i)>0)return null;if(R(l,h))return h;if(R(b,h)&&(v++,b=b.nextSibling,v>=2))return null;h=h.nextSibling}return h}function se(i){let s=new DOMParser,l=i.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(l.match(/<\/html>/)||l.match(/<\/head>/)||l.match(/<\/body>/)){let u=s.parseFromString(i,"text/html");if(l.match(/<\/html>/))return u.generatedByIdiomorph=!0,u;{let d=u.firstChild;return d?(d.generatedByIdiomorph=!0,d):null}}else{let d=s.parseFromString("<body><template>"+i+"</template></body>","text/html").body.querySelector("template").content;return d.generatedByIdiomorph=!0,d}}function le(i){if(i==null)return document.createElement("div");if(i.generatedByIdiomorph)return i;if(i instanceof Node){let s=document.createElement("div");return s.append(i),s}else{let s=document.createElement("div");for(let l of[...i])s.append(l);return s}}function oe(i,s,l){let u=[],d=[];for(;i!=null;)u.push(i),i=i.previousSibling;for(;u.length>0;){let h=u.pop();d.push(h),s.parentElement.insertBefore(h,s)}for(d.push(s);l!=null;)u.push(l),d.push(l),l=l.nextSibling;for(;u.length>0;)s.parentElement.insertBefore(u.pop(),s.nextSibling);return d}function fe(i,s,l){let u;u=i.firstChild;let d=u,h=0;for(;u;){let b=ce(u,s,l);b>h&&(d=u,h=b),u=u.nextSibling}return d}function ce(i,s,l){return R(i,s)?.5+H(l,i,s):0}function D(i,s){C(s,i),s.callbacks.beforeNodeRemoved(i)!==!1&&(i.remove(),s.callbacks.afterNodeRemoved(i))}function ae(i,s){return!i.deadIds.has(s)}function ue(i,s,l){return(i.idMap.get(l)||r).has(s)}function C(i,s){let l=i.idMap.get(s)||r;for(let u of l)i.deadIds.add(u)}function H(i,s,l){let u=i.idMap.get(s)||r,d=0;for(let h of u)ae(i,h)&&ue(i,h,l)&&++d;return d}function W(i,s){let l=i.parentElement,u=i.querySelectorAll("[id]");for(let d of u){let h=d;for(;h!==l&&h!=null;){let b=s.get(h);b==null&&(b=new Set,s.set(h,b)),b.add(d.id),h=h.parentElement}}}function de(i,s){let l=new Map;return W(i,l),W(s,l),l}return{morph:e,defaults:t}}();function Ee(r){let t=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return r.replace(/<([a-z-]+)\b([^>]*)\/>/g,(e,o,c)=>t.has(o)?e:`<${o}${c}></${o}>`)}function x(r,t){if(!t.__objects){let e=new t,o=class extends FezBase{};Object.getOwnPropertyNames(e).concat(Object.getOwnPropertyNames(t.prototype)).filter(f=>!["constructor","prototype"].includes(f)).forEach(f=>o.prototype[f]=e[f]),e.CSS&&(o.css=e.CSS),e.HTML&&(o.html=e.HTML),e.NAME&&(o.nodeName=e.NAME),e.FAST&&(o.fastBind=e.FAST),t=o}t.css&&(t.css=Fez.globalCss(t.css,{name:r})),customElements.define(r,class extends HTMLElement{connectedCallback(){this.firstChild||this.getAttribute("data-props")||Fe(this,t)?(Fez.info(`fast bind: ${r}`),Q(r,this,t)):(Fez.info(`slow bind: ${r}`),window.requestAnimationFrame(()=>{this.parentNode&&Q(r,this,t)}))}})}function Q(r,t,e){let o=t.parentNode;if(o){let c=typeof e.nodeName=="function"?e.nodeName(t):e.nodeName,f=document.createElement(c||"div");f.classList.add("fez"),f.classList.add(`fez-${r}`),o.replaceChild(f,t);let a=new e;a.oldRoot=t,a.fezName=r,a.root=f,a.props=e.getProps(t,f),a.class=e,a.slot(t,f),f.fez=a,window.$&&(a.$root=$(f)),a.props.id&&f.setAttribute("id",a.props.id),e.html&&(e.html=Ee(e.html),e.html=e.html.replace(/<slot\s*\/>|<slot\s*><\/slot>/g,()=>{let y=e.slotNodeName||"div";return`<${y} class="fez-slot"></${y}>`}),e.htmlTemplate=e.html,a._fez_html_func=j(e.html)),a.fezRegister(),a.connect(a.props),e.__objects.push(a);let p=a.root.cloneNode(!0);a._fez_html_func&&a.render();let m=a.root.querySelector(".fez-slot");if(m&&a.slot(p,m),a.afterConnect(a.props),a.onPropsChange){$e.observe(f,{attributes:!0});for(let[y,A]of Object.entries(a.props))a.onPropsChange(y,A)}}}function Fe(r,t){return typeof t.fastBind=="function"?t.fastBind(r):t.fastBind}var $e=new MutationObserver((r,t)=>{for(let e of r)if(e.type==="attributes"){let o=e.target.fez,c=e.attributeName,f=e.target.getAttribute(c);o.props[c]=f,o.onPropsChange(c,f)}});var S=(r,t)=>r?typeof t!="function"?S.find(r,t):x(r,t):FezBase;S.find=(r,t)=>{typeof r=="string"&&(r=document.body.querySelector(r)),typeof r.val=="function"&&(r=r[0]);let e=t?`.fez-${t}`:".fez";return r.closest(e).fez};S.cssClass=r=>K.css(r);S.globalCss=(r,t={})=>{if(typeof r=="function"&&(r=r()),r.includes(":")){let e=r.split(`
`).filter(o=>!/^\s*\/\//.test(o)).join(`
`);e=e.replace(/\:fez|\:host/,`.fez.fez-${t.name}`),t.wrap&&(e=`.fez.fez-${t.name} { ${e} }`),r=S.cssClass(e)}return document.body?document.body.classList.add(r):document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add(r)}),r};S.info=r=>{window.DEBUG&&console.log(`Fez: ${r}`)};S.morphdom=(r,t,e={})=>{e.childrenOnly===void 0&&(e.childrenOnly=!0),Y.morph(r,t,{morphStyle:"innerHTML"})};S.htmlEscape=r=>typeof r=="string"?r.replaceAll("&","&amp;").replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;"):r;S.publish=(r,...t)=>{S._subs||={},S._subs[r]||=[],S._subs[r].forEach(e=>{e[1].bind(e[0])(...t)})};S.fnv1=r=>{var t,e,o,c,f,a;for(t=2166136261,e=16777619,o=t,c=f=0,a=r.length-1;0<=a?f<=a:f>=a;c=0<=a?++f:--f)o^=r.charCodeAt(c),o*=e;return o.toString(36).replaceAll("-","")};S.tag=function(r,t={},e=""){let o=encodeURIComponent(JSON.stringify(t));return`<${r} data-props="${o}">${e}</${r}>`};S.loadTemplate=function(r,t){if(r instanceof Node&&(r.parentNode.removeChild(r),t=r.innerHTML,r=r.getAttribute("fez")),!t){let p=`template[fez=${r}]`,m=document.querySelector(p);if(m)t=m.innerHTML;else{console.error(`Fez template not found: ${p}`);return}}let e={script:"",style:"",html:""},o=t.split(`
`),c=[],f="";for(let p of o)p.trim().startsWith("<script")&&!e.script?f="script":p.trim().startsWith("<style")?f="style":p.trim().endsWith("<\/script>")&&f==="script"&&!e.script?(e.script=c.join(`
`),c=[],f=null):p.trim().endsWith("</style>")&&f==="style"?(e.style=c.join(`
`),c=[],f=null):f?c.push(p):e.html+=p+`
`;e.html=e.html.trim(),e.style=e.style.includes(":fez")?e.style:`:fez {
${e.style}
}`;let a=`window.Fez('${r}', class {
${e.script}

  CSS = \`${e.style}\`

  HTML = \`${e.html}\`
})`;new Function(a)()};S.loadTemplates=function(){document.querySelectorAll("template[fez]").forEach(r=>S.loadTemplate(r))};var ee=S;window.FezBase=L;window.Fez=ee;setInterval(()=>{L.__objects=L.__objects.filter(r=>r.isAttached)},1e4);})();
//# sourceMappingURL=fez.js.map
