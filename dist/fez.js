(()=>{var we=Object.defineProperty;var Ce=(r,e)=>()=>(r&&(e=r(r=0)),e);var Te=(r,e)=>{for(var t in e)we(r,t,{get:e[t],enumerable:!0})};var fe={};Te(fe,{loadDefaults:()=>ae});var ae,ue=Ce(()=>{ae=()=>{Fez("fez-component",class{init(e){let t=document.createElement(e.name);for(t.props=e.props||e["data-props"]||e;this.root.firstChild;)this.root.parentNode.insertBefore(this.root.lastChild,t.nextSibling);this.root.innerHTML="",this.root.appendChild(t)}}),Fez("fez-include",class{init(e){Fez.fetch(e.src,t=>{let s=Fez.domRoot(t);Fez.head(s),this.root.innerHTML=s.innerHTML})}}),Fez("fez-inline",class{init(e){let t=this.root.innerHTML;if(this.root.innerHTML.includes("<")){let o=`inline-${Fez.fnv1(this.root.outerHTML)}`;Fez(o,class{HTML=t;init(){Object.assign(this.state,e.state||{})}});let n=document.createElement(o);this.root.after(this.root.lastChild,n),this.root.remove()}}});let r=new Map;Fez("fez-memoize",class{init(e){if(!e.key){Fez.error("fez-memoize: key prop is required");return}if(r.has(e.key)){let t=r.get(e.key);Fez.log(`Memoize - key: "${e.key}" - restore`),this.root.innerHTML="",this.root.appendChild(t.cloneNode(!0))}}onMount(e){r.has(e.key)||requestAnimationFrame(()=>{let t=document.createElement("div");t.innerHTML=this.root.innerHTML,Fez.log(`Memoize - key: "${e.key}" - set`),r.set(e.key,t)})}})};typeof Fez<"u"&&Fez&&ae()});function R(r,e={},t){if(typeof e=="string"&&([e,t]=[t,e],e||={}),e instanceof Node&&(t=e,e={}),Array.isArray(r)&&(t=r,r="div"),(typeof e!="object"||Array.isArray(e))&&(t=e,e={}),r.includes(".")){let o=r.split(".");r=o.shift()||"div";let n=o.join(" ");e.class?e.class+=` ${n}`:e.class=n}let s=document.createElement(r);for(let[o,n]of Object.entries(e))if(typeof n=="function")s[o]=n.bind(this);else{let i=String(n).replaceAll("fez.",this.fezHtmlRoot);s.setAttribute(o,i)}if(t)if(Array.isArray(t))for(let o of t)s.appendChild(o);else t instanceof Node?s.appendChild(t):s.innerHTML=String(t);return s}function Me(r,e){if(r=r.replace(/^#?raw/,"@html").replace(/^#?html/,"@html"),r.startsWith("#if")||r.startsWith("if"))return e.push(!1),r=r.replace(/^#?if/,""),`\${ ${r} ? \``;if(r.startsWith("#unless")||r.startsWith("unless"))return e.push(!1),r=r.replace(/^#?unless/,""),`\${ !(${r}) ? \``;if(r=="/block")return"`) && ''}";if(r.startsWith("#for")||r.startsWith("for")){r=r.replace(/^#?for/,"");let t=r.split(" in ",2);return"${"+t[1]+".map(("+t[0]+")=>`"}else if(r.startsWith("#each")||r.startsWith("each")){r=r.replace(/^#?each/,"");let t=r.split(" as ",2);return"${"+t[0]+".map(("+t[1]+")=>`"}else{if(r==":else"||r=="else")return e[e.length-1]=!0,"` : `";if(r=="/if"||r=="/unless")return e.pop()?"`}":"` : ``}";if(r=="/for"||r=="/each")return'`).join("")}';{let t="@html ";return r.startsWith("json ")&&(r=r.replace("json ","@html '<pre class=json>'+JSON.stringify("),r+=", null, 2) + '</pre>'"),r.startsWith(t)?r=r.replace(t,""):r=`Fez.htmlEscape(${r})`,"${"+r+"}"}}}function _(r,e={}){let t=[];r=r.replaceAll("[[","{{").replaceAll("]]","}}"),r=r.replace(/(\w+)=\{\{\s*(.*?)\s*\}\}([\s>])/g,(n,i,f,u)=>`${i}="{{ ${f} }}"${u}`);let s={};r=r.replace(/\{\{block\s+(\w+)\s*\}\}([^ยง]+)\{\{\/block\}\}/g,(n,i,f)=>(s[i]=f,"")),r=r.replace(/\{\{block:([\w\-]+)\s*\}\}/g,(n,i)=>s[i]||`block:${i}?`),r=r.replace(/:(\w+)="([\w\.\[\]]+)"/,(n,i,f)=>`:${i}=Fez.store.delete({{ Fez.store.set(${f}) }})`);let o=r.replace(/{{(.*?)}}/g,(n,i)=>(i=i.replaceAll("&#x60;","`"),i=i.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),Me(i,t)));o=o.replace(/<!\-\-.*?\-\->/g,"").replace(/>\s+</g,"><"),o="`"+o.trim()+"`";try{let n=`const fez = this;
      with (this) {
        return ${o}
      }
    `,i=new Function(n);return u=>{try{return i.bind(u)()}catch(d){d.message=`FEZ template runtime error: ${d.message}

Template source: ${o}`,console.error(d)}}}catch(n){return n.message=`FEZ template compile error: ${n.message}Template source:
${o}`,console.error(n),()=>Fez.error("Template Compile Error",!0)}}var O=class{static getProps(e,t){let s={};if(e.props)return e.props;for(let o of e.attributes)s[o.name]=o.value;for(let[o,n]of Object.entries(s))if([":"].includes(o[0])){delete s[o];try{let i=new Function(`return (${n})`).bind(t)();s[o.replace(/[\:_]/,"")]=i}catch(i){console.error(`Fez: Error evaluating attribute ${o}="${n}" for ${e.tagName}: ${i.message}`)}}if(s["data-props"]){let o=s["data-props"];if(typeof o=="object")return o;o[0]!="{"&&(o=decodeURIComponent(o));try{s=JSON.parse(o)}catch(n){console.error(`Fez: Invalid JSON in data-props for ${e.tagName}: ${n.message}`)}}else if(s["data-json-template"]){let o=t.previousSibling?.textContent;if(o)try{s=JSON.parse(o),t.previousSibling.remove()}catch(n){console.error(`Fez: Invalid JSON in template for ${e.tagName}: ${n.message}`)}}return s}static formData(e){let t=e.closest("form")||e.querySelector("form");if(!t)return Fez.log("No form found for formData()"),{};let s=new FormData(t),o={};return s.forEach((n,i)=>{o[i]=n}),o}static nodeName="div";constructor(){}n=R;get fezHtmlRoot(){return`Fez(${this.UID}).`}get isConnected(){return this.root?.isConnected?!0:(this.fezOnDestroy(),!1)}prop(e){let t=this.oldRoot[e]||this.props[e];return typeof t=="function"&&(t=t.bind(this.root)),t}copy(){for(let e of Array.from(arguments)){let t=this.props[e];if(t!==void 0){if(e=="class"){let s=this.root.getAttribute(e,t);s&&(t=[s,t].join(" "))}(e=="style"||!this.root[e])&&(typeof t=="string"?this.root.setAttribute(e,t):this.root[e]=t)}}}fezOnDestroy(){this._onDestroyCallbacks&&(this._onDestroyCallbacks.forEach(e=>{try{e()}catch(t){console.error("Fez: Error in cleanup callback:",t)}}),this._onDestroyCallbacks=[]),this.onDestroy(),this.onDestroy=()=>{},this.root&&(this.root.fez=void 0),this.root=void 0}addOnDestroy(e){this._onDestroyCallbacks=this._onDestroyCallbacks||[],this._onDestroyCallbacks.push(e)}on(e,t,s=200){this._eventHandlers=this._eventHandlers||{},this._eventHandlers[e]&&window.removeEventListener(e,this._eventHandlers[e]);let o=Fez.throttle(()=>{this.isConnected&&t.call(this)},s);this._eventHandlers[e]=o,window.addEventListener(e,o),this.addOnDestroy(()=>{window.removeEventListener(e,o),delete this._eventHandlers[e]})}onWindowResize(e,t){this.on("resize",e,t),e()}onWindowScroll(e,t){this.on("scroll",e,t),e()}onElementResize(e,t,s=200){let o=Fez.throttle(()=>{this.isConnected&&t.call(this,e.getBoundingClientRect(),e)},s),n=new ResizeObserver(o);n.observe(e),t.call(this,e.getBoundingClientRect(),e),this.addOnDestroy(()=>{n.disconnect()})}slot(e,t){t||=document.createElement("template");let s=t.nodeName=="SLOT";for(;e.firstChild;)s?t.parentNode.insertBefore(e.lastChild,t.nextSibling):t.appendChild(e.firstChild);return s?t.parentNode.removeChild(t):e.innerHTML="",t}setStyle(e,t){this.root.style.setProperty(e,t)}connect(){}onMount(){}beforeRender(){}afterRender(){}onDestroy(){}onStateChange(){}onGlobalStateChange(){}publish(e,...t){let s=n=>{if(Fez._subs&&Fez._subs[e]){let i=Fez._subs[e].find(([f])=>f===n);if(i)return i[1].bind(n)(...t),!0}return!1};if(s(this))return!0;let o=this.root.parentElement;for(;o;){if(o.fez&&s(o.fez))return!0;o=o.parentElement}return!1}fezBlocks={};parseHtml(e){let t=this.fezHtmlRoot.replaceAll('"',"&quot;");return e=e.replace(/([!'"\s;])fez\.(\w)/g,`$1${t}$2`).replace(/>\s+</g,"><"),e.trim()}nextTick(e,t){t?(this._nextTicks||={},this._nextTicks[t]||=window.requestAnimationFrame(()=>{e.bind(this)(),this._nextTicks[t]=null},t)):window.requestAnimationFrame(e.bind(this))}render(e){if(e||=this?.class?.fezHtmlFunc,!e||!this.root)return;this.beforeRender();let t=typeof this.class.nodeName=="function"?this.class.nodeName(this.root):this.class.nodeName,s=document.createElement(t||"div"),o;Array.isArray(e)?e[0]instanceof Node?e.forEach(n=>s.appendChild(n)):o=e.join(""):typeof e=="string"?o=_(e)(this):typeof e=="function"&&(o=e(this)),o&&(o=o.replace(/\s\w+="undefined"/g,""),s.innerHTML=this.parseHtml(o)),this.fezKeepNode(s),this.fezMemoization(s),Fez.morphdom(this.root,s),this.fezRenderPostProcess(),this.afterRender()}fezRenderPostProcess(){let e=(t,s)=>{this.root.querySelectorAll(`*[${t}]`).forEach(o=>{let n=o.getAttribute(t);o.removeAttribute(t),n&&s.bind(this)(n,o)})};e("fez-this",(t,s)=>{new Function("n",`this.${t} = n`).bind(this)(s)}),e("fez-use",(t,s)=>{let o=this[t];typeof o=="function"?o(s):console.error(`Fez error: "${t}" is not a function in ${this.fezName}`)}),e("fez-class",(t,s)=>{let o=t.split(/\s+/),n=o.pop();o.forEach(i=>s.classList.add(i)),n&&setTimeout(()=>{s.classList.add(n)},300)}),e("fez-bind",(t,s)=>{if(["INPUT","SELECT","TEXTAREA"].includes(s.nodeName)){let o=new Function(`return this.${t}`).bind(this)(),n=s.type.toLowerCase()=="checkbox",i=["SELECT"].includes(s.nodeName)||n?"onchange":"onkeyup";s.setAttribute(i,`${this.fezHtmlRoot}${t} = this.${n?"checked":"value"}`),this.val(s,o)}else console.error(`Cant fez-bind="${t}" to ${s.nodeName} (needs INPUT, SELECT or TEXTAREA. Want to use fez-this?).`)}),this.root.querySelectorAll("*[disabled]").forEach(t=>{let s=t.getAttribute("disabled");["false"].includes(s)?t.removeAttribute("disabled"):t.setAttribute("disabled","true")})}fezKeepNode(e){e.querySelectorAll("[fez-keep]").forEach(t=>{let s=t.getAttribute("fez-keep"),o=this.root.querySelector(`[fez-keep="${s}"]`);if(o)t.parentNode.replaceChild(o,t);else if(s==="default-slot")if(t.getAttribute("hide")){this.state=null;let n=t.parentNode;Array.from(this.root.childNodes).forEach(i=>{n.insertBefore(i,t)}),t.remove()}else Array.from(this.root.childNodes).forEach(n=>t.appendChild(n))})}fezMemoization(e){let t=e.querySelector("[fez-memoize]:not(.fez)");if(!t)return;this.fezMemoStore||=new Map;let s=t.getAttribute("fez-memoize"),o=this.fezMemoStore.get(s);if(o)Fez.log(`Memoize restore ${this.fezName}: ${s}`),t.parentNode.replaceChild(o.cloneNode(!0),t);else{let n=this.root.querySelector("[fez-memoize]:not(.fez)");if(n){let i=n.getAttribute("fez-memoize");this.fezMemoStore.set(i,n.cloneNode(!0))}}}refresh(e){if(alert("NEEDS FIX and remove htmlTemplate"),e){let s=Fez.domRoot(this.class.htmlTemplate).querySelector(e).innerHTML;this.render(e,s)}else this.render()}setInterval(e,t,s){typeof e=="number"&&([t,e]=[e,t]),s||=Fez.fnv1(String(e)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[s]);let o=setInterval(()=>{this.isConnected&&e()},t);return this._setIntervalCache[s]=o,this.addOnDestroy(()=>{clearInterval(o),delete this._setIntervalCache[s]}),o}find(e){return typeof e=="string"?this.root.querySelector(e):e}val(e,t){let s=this.find(e);if(s)if(["INPUT","TEXTAREA","SELECT"].includes(s.nodeName))if(typeof t<"u")s.type=="checkbox"?s.checked=!!t:s.value=t;else return s.value;else if(typeof t<"u")s.innerHTML=t;else return s.innerHTML}formData(e){return this.class.formData(e||this.root)}attr(e,t){return typeof t>"u"?this.root.getAttribute(e):(this.root.setAttribute(e,t),t)}childNodes(e){let t=Array.from(this.root.children);if(e){let s=document.createElement("div");s.style.display="none",document.body.appendChild(s),t.forEach(o=>s.appendChild(o)),t=Array.from(s.children).map(e),document.body.removeChild(s)}return t}subscribe(e,t){Fez._subs||={},Fez._subs[e]||=[],Fez._subs[e]=Fez._subs[e].filter(s=>s[0].isConnected),Fez._subs[e].push([this,t])}rootId(){return this.root.id||=`fez_${this.UID}`,this.root.id}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.reactiveStore(),this.globalState=Fez.state.createProxy(this),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(t=>t!=="constructor"&&typeof this[t]=="function").forEach(t=>this[t]=this[t].bind(this))}dissolve(e){e&&(e.classList.add("fez"),e.classList.add(`fez-${this.fezName}`),e.fez=this,this.attr("id")&&e.setAttribute("id",this.attr("id")),this.root.innerHTML="",this.root.appendChild(e));let t=this.root,s=this.childNodes(),o=this.root.parentNode;return s.reverse().forEach(n=>o.insertBefore(n,t.nextSibling)),this.root.remove(),this.root=void 0,e&&(this.root=e),s}reactiveStore(e,t){e||={},t||=(o,n,i,f)=>{this.onStateChange(n,i,f),this.nextTick(this.render,"render")},t.bind(this);function s(o,n){return typeof o!="object"||o===null?o:new Proxy(o,{set(i,f,u,d){let g=Reflect.get(i,f,d);if(g!==u){typeof u=="object"&&u!==null&&(u=s(u,n));let S=Reflect.set(i,f,u,d);return n(i,f,u,g),S}return!0},get(i,f,u){let d=Reflect.get(i,f,u);return typeof d=="object"&&d!==null?s(d,n):d}})}return s(e,t)}};var Le={data:""},Z=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Le,Fe=r=>{let e=Z(r),t=e.data;return e.data="",t},Oe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xe=/\/\*[^]*?\*\/|  +/g,X=/\n+/g,C=(r,e)=>{let t="",s="",o="";for(let n in r){let i=r[n];n[0]=="@"?n[1]=="i"?t=n+" "+i+";":s+=n[1]=="f"?C(i,n):n+"{"+C(i,n[1]=="k"?"":e)+"}":typeof i=="object"?s+=C(i,e?e.replace(/([^,])+/g,f=>n.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,f):f?f+" "+u:u)):n):i!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=C.p?C.p(n,i):n+":"+i+";")}return t+(e&&o?e+"{"+o+"}":o)+s},w={},Y=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+Y(r[t]);return e}return r},Ie=(r,e,t,s,o)=>{let n=Y(r),i=w[n]||(w[n]=(u=>{let d=0,g=11;for(;d<u.length;)g=101*g+u.charCodeAt(d++)>>>0;return"go"+g})(n));if(!w[i]){let u=n!==r?r:(d=>{let g,S,M=[{}];for(;g=Oe.exec(d.replace(xe,""));)g[4]?M.shift():g[3]?(S=g[3].replace(X," ").trim(),M.unshift(M[0][S]=M[0][S]||{})):M[0][g[1]]=g[2].replace(X," ").trim();return M[0]})(r);w[i]=C(o?{["@keyframes "+i]:u}:u,t?"":"."+i)}let f=t&&w.g?w.g:null;return t&&(w.g=w[i]),((u,d,g,S)=>{S?d.data=d.data.replace(S,u):d.data.indexOf(u)===-1&&(d.data=g?u+d.data:d.data+u)})(w[i],e,s,f),i},_e=(r,e,t)=>r.reduce((s,o,n)=>{let i=e[n];if(i&&i.call){let f=i(t),u=f&&f.props&&f.props.className||/^go/.test(f)&&f;i=u?"."+u:f&&typeof f=="object"?f.props?"":C(f,""):f===!1?"":f}return s+o+(i??"")},"");function N(r){let e=this||{},t=r.call?r(e.p):r;return Ie(t.unshift?t.raw?_e(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,Z(e.target),e.g,e.o,e.k)}var Q,D,B,ke=N.bind({g:1}),Ne=N.bind({k:1});function je(r,e,t,s){C.p=e,Q=r,D=t,B=s}function He(r,e){let t=this||{};return function(){let s=arguments;function o(n,i){let f=Object.assign({},n),u=f.className||o.className;t.p=Object.assign({theme:D&&D()},f),t.o=/ *go\d+/.test(u),f.className=N.apply(t,s)+(u?" "+u:""),e&&(f.ref=i);let d=r;return r[0]&&(d=f.as||r,delete f.as),B&&d[0]&&B(f),Q(d,f)}return e?e(o):o}}var ee={css:N,extractCss:Fe,glob:ke,keyframes:Ne,setup:je,styled:He};var te=function(){"use strict";let r=new Set,e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:A,afterNodeAdded:A,beforeNodeMorphed:A,afterNodeMorphed:A,beforeNodeRemoved:A,afterNodeRemoved:A,beforeAttributeUpdated:A},head:{style:"merge",shouldPreserve:function(l){return l.getAttribute("im-preserve")==="true"},shouldReAppend:function(l){return l.getAttribute("im-re-append")==="true"},shouldRemove:A,afterHeadMorphed:A}};function t(l,c,a={}){l instanceof Document&&(l=l.documentElement),typeof c=="string"&&(c=be(c));let h=ye(c),p=he(l,h,a);return s(l,h,p)}function s(l,c,a){if(a.head.block){let h=l.querySelector("head"),p=c.querySelector("head");if(h&&p){let m=S(p,h,a);Promise.all(m).then(function(){s(l,c,Object.assign(a,{head:{block:!1,ignore:!0}}))});return}}if(a.morphStyle==="innerHTML")return i(c,l,a),l.children;if(a.morphStyle==="outerHTML"||a.morphStyle==null){let h=ze(c,l,a),p=h?.previousSibling,m=h?.nextSibling,b=n(l,h,a);return h?ge(p,b,m):[]}else throw"Do not understand how to morph style "+a.morphStyle}function o(l,c){return c.ignoreActiveValue&&l===document.activeElement&&l!==document.body}function n(l,c,a){if(!(a.ignoreActive&&l===document.activeElement))return c==null?a.callbacks.beforeNodeRemoved(l)===!1?l:(l.remove(),a.callbacks.afterNodeRemoved(l),null):k(l,c)?(a.callbacks.beforeNodeMorphed(l,c)===!1||(l instanceof HTMLHeadElement&&a.head.ignore||(l instanceof HTMLHeadElement&&a.head.style!=="morph"?S(c,l,a):(u(c,l,a),o(l,a)||i(c,l,a))),a.callbacks.afterNodeMorphed(l,c)),l):a.callbacks.beforeNodeRemoved(l)===!1||a.callbacks.beforeNodeAdded(c)===!1?l:(l.parentElement.replaceChild(c,l),a.callbacks.afterNodeAdded(c),a.callbacks.afterNodeRemoved(l),c)}function i(l,c,a){let h=l.firstChild,p=c.firstChild,m;for(;h;){if(m=h,h=m.nextSibling,p==null){if(a.callbacks.beforeNodeAdded(m)===!1)return;c.appendChild(m),a.callbacks.afterNodeAdded(m),L(a,m);continue}if(W(m,p,a)){n(p,m,a),p=p.nextSibling,L(a,m);continue}let b=pe(l,c,m,p,a);if(b){p=V(p,b,a),n(b,m,a),L(a,m);continue}let z=me(l,c,m,p,a);if(z){p=V(p,z,a),n(z,m,a),L(a,m);continue}if(a.callbacks.beforeNodeAdded(m)===!1)return;c.insertBefore(m,p),a.callbacks.afterNodeAdded(m),L(a,m)}for(;p!==null;){let b=p;p=p.nextSibling,U(b,a)}}function f(l,c,a,h){return l==="value"&&h.ignoreActiveValue&&c===document.activeElement?!0:h.callbacks.beforeAttributeUpdated(l,c,a)===!1}function u(l,c,a){let h=l.nodeType;if(h===1){let p=l.attributes,m=c.attributes;for(let b of p)if(!f(b.name,c,"update",a))try{c.getAttribute(b.name)!==b.value&&c.setAttribute(b.name,b.value)}catch(z){console.error("Error setting attribute:",{badNode:c,badAttribute:b,error:z.message})}for(let b=m.length-1;0<=b;b--){let z=m[b];f(z.name,c,"remove",a)||l.hasAttribute(z.name)||c.removeAttribute(z.name)}}(h===8||h===3)&&c.nodeValue!==l.nodeValue&&(c.nodeValue=l.nodeValue),o(c,a)||g(l,c,a)}function d(l,c,a,h){if(l[a]!==c[a]){let p=f(a,c,"update",h);p||(c[a]=l[a]),l[a]?p||c.setAttribute(a,l[a]):f(a,c,"remove",h)||c.removeAttribute(a)}}function g(l,c,a){if(l instanceof HTMLInputElement&&c instanceof HTMLInputElement&&l.type!=="file"){let h=l.value,p=c.value;d(l,c,"checked",a),d(l,c,"disabled",a),l.hasAttribute("value")?h!==p&&(f("value",c,"update",a)||(c.setAttribute("value",h),c.value=h)):f("value",c,"remove",a)||(c.value="",c.removeAttribute("value"))}else if(l instanceof HTMLOptionElement)d(l,c,"selected",a);else if(l instanceof HTMLTextAreaElement&&c instanceof HTMLTextAreaElement){let h=l.value,p=c.value;if(f("value",c,"update",a))return;h!==p&&(c.value=h),c.firstChild&&c.firstChild.nodeValue!==h&&(c.firstChild.nodeValue=h)}}function S(l,c,a){let h=[],p=[],m=[],b=[],z=a.head.style,F=new Map;for(let v of l.children)F.set(v.outerHTML,v);for(let v of c.children){let E=F.has(v.outerHTML),I=a.head.shouldReAppend(v),H=a.head.shouldPreserve(v);E||H?I?p.push(v):(F.delete(v.outerHTML),m.push(v)):z==="append"?I&&(p.push(v),b.push(v)):a.head.shouldRemove(v)!==!1&&p.push(v)}b.push(...F.values());let J=[];for(let v of b){let E=document.createRange().createContextualFragment(v.outerHTML).firstChild;if(a.callbacks.beforeNodeAdded(E)!==!1){if(E.href||E.src){let I=null,H=new Promise(function($e){I=$e});E.addEventListener("load",function(){I()}),J.push(H)}c.appendChild(E),a.callbacks.afterNodeAdded(E),h.push(E)}}for(let v of p)a.callbacks.beforeNodeRemoved(v)!==!1&&(c.removeChild(v),a.callbacks.afterNodeRemoved(v));return a.head.afterHeadMorphed(c,{added:h,kept:m,removed:p}),J}function M(){}function A(){}function de(l){let c={};return Object.assign(c,e),Object.assign(c,l),c.callbacks={},Object.assign(c.callbacks,e.callbacks),Object.assign(c.callbacks,l.callbacks),c.head={},Object.assign(c.head,e.head),Object.assign(c.head,l.head),c}function he(l,c,a){return a=de(a),{target:l,newContent:c,config:a,morphStyle:a.morphStyle,ignoreActive:a.ignoreActive,ignoreActiveValue:a.ignoreActiveValue,idMap:Ae(l,c),deadIds:new Set,callbacks:a.callbacks,head:a.head}}function W(l,c,a){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName?l.id!==""&&l.id===c.id?!0:x(a,l,c)>0:!1}function k(l,c){return l==null||c==null?!1:l.nodeType===c.nodeType&&l.tagName===c.tagName}function V(l,c,a){for(;l!==c;){let h=l;l=l.nextSibling,U(h,a)}return L(a,c),c.nextSibling}function pe(l,c,a,h,p){let m=x(p,a,c),b=null;if(m>0){let z=h,F=0;for(;z!=null;){if(W(a,z,p))return z;if(F+=x(p,z,l),F>m)return null;z=z.nextSibling}}return b}function me(l,c,a,h,p){let m=h,b=a.nextSibling,z=0;for(;m!=null;){if(x(p,m,l)>0)return null;if(k(a,m))return m;if(k(b,m)&&(z++,b=b.nextSibling,z>=2))return null;m=m.nextSibling}return m}function be(l){let c=new DOMParser,a=l.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(a.match(/<\/html>/)||a.match(/<\/head>/)||a.match(/<\/body>/)){let h=c.parseFromString(l,"text/html");if(a.match(/<\/html>/))return h.generatedByIdiomorph=!0,h;{let p=h.firstChild;return p?(p.generatedByIdiomorph=!0,p):null}}else{let p=c.parseFromString("<body><template>"+l+"</template></body>","text/html").body.querySelector("template").content;return p.generatedByIdiomorph=!0,p}}function ye(l){if(l==null)return document.createElement("div");if(l.generatedByIdiomorph)return l;if(l instanceof Node){let c=document.createElement("div");return c.append(l),c}else{let c=document.createElement("div");for(let a of[...l])c.append(a);return c}}function ge(l,c,a){let h=[],p=[];for(;l!=null;)h.push(l),l=l.previousSibling;for(;h.length>0;){let m=h.pop();p.push(m),c.parentElement.insertBefore(m,c)}for(p.push(c);a!=null;)h.push(a),p.push(a),a=a.nextSibling;for(;h.length>0;)c.parentElement.insertBefore(h.pop(),c.nextSibling);return p}function ze(l,c,a){let h;h=l.firstChild;let p=h,m=0;for(;h;){let b=ve(h,c,a);b>m&&(p=h,m=b),h=h.nextSibling}return p}function ve(l,c,a){return k(l,c)?.5+x(a,l,c):0}function U(l,c){L(c,l),c.callbacks.beforeNodeRemoved(l)!==!1&&(l.remove(),c.callbacks.afterNodeRemoved(l))}function Se(l,c){return!l.deadIds.has(c)}function Ee(l,c,a){return(l.idMap.get(a)||r).has(c)}function L(l,c){let a=l.idMap.get(c)||r;for(let h of a)l.deadIds.add(h)}function x(l,c,a){let h=l.idMap.get(c)||r,p=0;for(let m of h)Se(l,m)&&Ee(l,m,a)&&++p;return p}function K(l,c){let a=l.parentElement,h=l.querySelectorAll("[id]");for(let p of h){let m=p;for(;m!==a&&m!=null;){let b=c.get(m);b==null&&(b=new Set,c.set(m,b)),b.add(p.id),m=m.parentElement}}}function Ae(l,c){let a=new Map;return K(l,a),K(c,a),a}return{morph:t,defaults:e}}();var Re=r=>{let e=r.split(/(<\/?[^>]+>)/g).map(o=>o.trim()).filter(o=>o),t=0,s=[];for(let o=0;o<e.length;o++){let n=e[o],i=e[o+1],f=e[o+2];if(n.startsWith("<"))if(!n.startsWith("</")&&!n.endsWith("/>")&&i&&!i.startsWith("<")&&f&&f.startsWith("</")){let u=Math.max(0,t);s.push("  ".repeat(u)+n+i+f),o+=2}else if(n.startsWith("</")){t--;let u=Math.max(0,t);s.push("  ".repeat(u)+n)}else if(n.endsWith("/>")||n.includes(" />")){let u=Math.max(0,t);s.push("  ".repeat(u)+n)}else{let u=Math.max(0,t);s.push("  ".repeat(u)+n),t++}else if(n){let u=Math.max(0,t);s.push("  ".repeat(u)+n)}}return s.join(`
`)},P=(()=>{let r=[],e=[],t=0;document.addEventListener("keydown",n=>{if(n.key==="Escape"){n.preventDefault();let i=document.getElementById("dump-dialog"),f=document.getElementById("log-reopen-button");i?(i.remove(),localStorage.setItem("_LOG_CLOSED","true"),s()):f&&(f.remove(),localStorage.setItem("_LOG_CLOSED","false"),o())}});let s=()=>{let n=document.getElementById("log-reopen-button");n||(n=document.body.appendChild(document.createElement("button")),n.id="log-reopen-button",n.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle;margin-right:4px"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>LOG',n.style.cssText="position:fixed; top: 10px; right: 10px;padding:10px 20px;background:#ff3333;color:#fff;border:none;cursor:pointer;font:14px/1.4 monospace;z-index:2147483647;border-radius:8px;display:flex;align-items:center;opacity:1;visibility:visible;box-shadow:0 4px 12px rgba(255,51,51,0.3)",n.onclick=()=>{n.remove(),localStorage.setItem("_LOG_CLOSED","false"),o()})},o=()=>{let n=document.getElementById("dump-dialog");if(!n){n=document.body.appendChild(document.createElement("div")),n.id="dump-dialog";let u=window.pageYOffset||document.documentElement.scrollTop;n.style.cssText="position:absolute; top:"+(u+20)+"px; left: 20px; right:20px;background:#fff; border:1px solid #333; box-shadow:0 0 10px rgba(0,0,0,0.5);padding:20px; overflow:auto; z-index:2147483646; font:13px/1.4 monospace;white-space:pre; display:block; opacity:1; visibility:visible"}let i=parseInt(localStorage.getItem("_LOG_INDEX"));!isNaN(i)&&i>=0&&i<r.length?t=i:t=r.length-1;let f=()=>{let u=r.map((d,g)=>{let S="#f0f0f0";return g!==t&&(e[g]==="object"?S="#d6e3ef":e[g]==="array"&&(S="#d8d5ef")),`<button style="font-size: 14px; font-weight: 400; padding:2px 6px; margin: 0 2px 2px 0;cursor:pointer;background:${g===t?"#333":S};color:${g===t?"#fff":"#000"}" data-index="${g}">${g+1}</button>`}).join("");n.innerHTML='<div style="display:flex;flex-direction:column;height:100%"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px"><div style="display:flex;flex-wrap:wrap;gap:4px;flex:1;margin-right:10px">'+u+'</div><button style="padding:4px 8px;cursor:pointer;flex-shrink:0">&times;</button></div><xmp style="font-family:monospace;flex:1;overflow:auto;margin:0;padding:0;color:#000;background:#fff;font-size:14px;line-height:22px">'+r[t]+"</xmp></div>",n.querySelector('button[style*="flex-shrink:0"]').onclick=()=>{n.remove(),localStorage.setItem("_LOG_CLOSED","true"),s()},n.querySelectorAll("button[data-index]").forEach(d=>{d.onclick=()=>{t=parseInt(d.dataset.index),localStorage.setItem("_LOG_INDEX",t),f()}})};f()};return n=>{if(!document.body){window.requestAnimationFrame(()=>P(n));return}n instanceof Node&&(n=Re(n.outerHTML));let i=typeof n;n===void 0&&(n="undefined"),n===null&&(n="null"),Array.isArray(n)?i="array":typeof n=="object"&&n!==null&&(i="object"),typeof n!="string"&&(n=JSON.stringify(n,(u,d)=>typeof d=="function"?String(d):d,2).replaceAll("<","&lt;")),n=n.trim(),r.push(n+`

type: ${i}`),e.push(i),localStorage.getItem("_LOG_CLOSED")==="true"?s():o()}})();typeof window<"u"&&!window.LOG&&(window.LOG=P);var re=P;var De=new MutationObserver((r,e)=>{for(let t of r)if(t.type==="attributes"){let s=t.target.fez,o=t.attributeName,n=t.target.getAttribute(o);s&&(s.props[o]=n,s.onPropsChange(o,n))}});function q(r,e){let t=globalThis.window?.Fez||globalThis.Fez;if(r.includes("-")||console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),e.fezHtmlRoot)e.html&&(e.html=se(e.html));else{let s=new e,o=class extends O{};Object.getOwnPropertyNames(s).concat(Object.getOwnPropertyNames(e.prototype)).filter(i=>!["constructor","prototype"].includes(i)).forEach(i=>o.prototype[i]=s[i]),s.GLOBAL&&(o.GLOBAL=s.GLOBAL),s.CSS&&(o.css=s.CSS),s.HTML&&(o.html=se(s.HTML)),s.NAME&&(o.nodeName=s.NAME),s.GLOBAL&&document.body.appendChild(document.createElement(r)),e=o,t.log(`${r} compiled`)}e.html&&(e.html=e.html.replace(/<slot(\s+[^>]*)?(\s*\/?>|\s*>\s*<\/slot>)/g,(s,o)=>{let n=e.SLOT||"div",i=o?o.trim():"",f=i.match(/name\s*=\s*["']([^"']+)["']/);f&&(n=f[1],i=i.replace(/name\s*=\s*["'][^"']+["']/g,"").trim());let u='class="fez-slot" fez-keep="default-slot"',d=i?`${u} ${i}`:u;return`<${n} ${d}></${n}>`}),e.fezHtmlFunc=_(e.html)),e.css&&(e.css=t.globalCss(e.css,{name:r})),t.classes[r]=e,customElements.get(r)||customElements.define(r,class extends HTMLElement{connectedCallback(){Be(r,this)}})}function se(r){let e=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return r.replace(/<([a-z-]+)\b([^>]*)\/>/g,(t,s,o)=>e.has(s)?t:`<${s}${o}></${s}>`)}function Be(r,e){let t=Fez.classes[r],s=e.parentNode;if(e.isConnected){let o=typeof t.nodeName=="function"?t.nodeName(e):t.nodeName,n=document.createElement(o||"div");n.classList.add("fez"),n.classList.add(`fez-${r}`),s.replaceChild(n,e);let i=new t;if(i.UID=++Fez.instanceCount,Fez.instances.set(i.UID,i),i.oldRoot=e,i.fezName=r,i.root=n,i.props=t.getProps(e,n),i.class=t,i.slot(e,n),n.fez=i,t.GLOBAL&&t.GLOBAL!=!0&&(window[t.GLOBAL]=i),window.$&&(i.$root=$(n)),i.props.id&&n.setAttribute("id",i.props.id),i.fezRegister(),(i.init||i.created||i.connect).bind(i)(i.props),i.render(),i.firstRender=!0,i.onMount(i.props),i.onSubmit){let f=i.root.nodeName=="FORM"?i.root:i.find("form");f.onsubmit=u=>{u.preventDefault(),i.onSubmit(i.formData())}}if(i.onPropsChange){De.observe(n,{attributes:!0});for(let[f,u]of Object.entries(i.props))i.onPropsChange(f,u)}}}var Pe=r=>{let e={script:"",style:"",html:"",head:""},t=r.split(`
`),s=[],o="";for(var n of t)n=n.trim(),n.startsWith("<script")&&!e.script&&o!="head"?o="script":n.startsWith("<head")&&!e.script?o="head":n.startsWith("<style")?o="style":n.endsWith("<\/script>")&&o==="script"&&!e.script?(e.script=s.join(`
`),s=[],o=null):n.endsWith("</style>")&&o==="style"?(e.style=s.join(`
`),s=[],o=null):(n.endsWith("</head>")||n.endsWith("</header>"))&&o==="head"?(e.head=s.join(`
`),s=[],o=null):o?s.push(n):e.html+=n+`
`;if(e.head){let f=Fez.domRoot(e.head);Array.from(f.children).forEach(u=>{if(u.tagName==="SCRIPT"){let d=document.createElement("script");Array.from(u.attributes).forEach(g=>{d.setAttribute(g.name,g.value)}),d.type||="text/javascript",u.src?document.head.appendChild(d):(d.type.includes("javascript")||d.type=="module")&&(d.textContent=u.textContent,document.head.appendChild(d))}else document.head.appendChild(u.cloneNode(!0))})}let i=e.script;return/class\s+\{/.test(i)||(i=`class {
${i}
}`),String(e.style).includes(":")&&(e.style=Fez.cssMixin(e.style),e.style=e.style.includes(":fez")||/(?:^|\s)body\s*\{/.test(e.style)?e.style:`:fez {
${e.style}
}`,i=i.replace(/\}\s*$/,`
  CSS = \`${e.style}\`
}`)),/\w/.test(String(e.html))&&(e.html=e.html.replaceAll("`","&#x60;"),e.html=e.html.replaceAll("$","\\$"),i=i.replace(/\}\s*$/,`
  HTML = \`${e.html}\`
}`)),i};function G(r){if(r instanceof Node){let e=r;e.remove();let t=e.getAttribute("fez");if(t&&(t.includes(".")||t.includes("/"))){qe(t);return}else{t&&!t.includes("-")&&console.error(`Fez: Invalid custom element name "${t}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`),Fez.onReady(()=>j(t,e.innerHTML));return}}else{(r?Fez.domRoot(r):document.body).querySelectorAll("template[fez], xmp[fez]").forEach(t=>{G(t)});return}}function qe(r){Fez.log(`Loading from ${r}`),Fez.fetch(r).then(e=>{let o=new DOMParser().parseFromString(e,"text/html").querySelectorAll("template[fez], xmp[fez]");if(o.length>0)o.forEach(n=>{let i=n.getAttribute("fez");i&&!i.includes("-")&&!i.includes(".")&&!i.includes("/")&&console.error(`Fez: Invalid custom element name "${i}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let f=n.innerHTML;j(i,f)});else{let n=r.split("/").pop().split(".")[0];j(n,e)}}).catch(e=>{console.error(`FEZ template load error for "${r}": ${e.message}`)})}function j(r,e){if(arguments.length===1)return G(r);if(e&&e.includes("</xmp>"))return G(e);r&&!r.includes("-")&&!r.includes(".")&&!r.includes("/")&&console.error(`Fez: Invalid custom element name "${r}". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`);let t=Pe(e),s=t.split(/class\s+\{/,2);if(t=`${s[0]};

window.Fez('${r}', class {
${s[1]})`,r){let o=document.getElementById("fez-hidden-styles");o||(o=document.createElement("style"),o.id="fez-hidden-styles",document.head.appendChild(o));let n=[...Object.keys(Fez.classes),r].sort().join(", ");o.textContent=`${n} { display: none; }
`}if(t.includes("import "))Fez.head({script:t}),setTimeout(()=>{Fez.classes[r]||Fez.error(`Template "${r}" possible compile error. (can be a false positive, it imports are not loaded)`)},2e3);else try{new Function(t)()}catch(o){Fez.error(`Template "${r}" compile error: ${o.message}`),console.log(t)}}var ne=j;var Ge={data:{},listeners:new Map,subscribers:new Map,globalSubscribers:new Set,notify(r,e,t){Fez.log(`Global state change for ${r}: ${e} (from ${t})`);let s=this.listeners.get(r);s&&s.forEach(n=>{n.isConnected?(n.onGlobalStateChange(r,e,t),n.render()):s.delete(n)});let o=this.subscribers.get(r);o&&o.forEach(n=>{try{n(e,t,r)}catch(i){console.error(`Error in subscriber for key ${r}:`,i)}}),this.globalSubscribers.forEach(n=>{try{n(r,e,t)}catch(i){console.error("Error in global subscriber:",i)}})},createProxy(r){return new Proxy({},{get:(e,t)=>(r._globalStateKeys||=new Set,r._globalStateKeys.has(t)||(r._globalStateKeys.add(t),this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(r)),this.data[t]),set:(e,t,s)=>{let o=this.data[t];return o!==s&&(this.data[t]=s,this.notify(t,s,o)),!0}})},set(r,e){let t=this.data[r];t!==e&&(this.data[r]=e,this.notify(r,e,t))},get(r){return this.data[r]},forEach(r,e){let t=this.listeners.get(r);t&&t.forEach(s=>{s.isConnected?e(s):t.delete(s)})},subscribe(r,e){if(typeof r=="function")return this.globalSubscribers.add(r),()=>this.globalSubscribers.delete(r);{let t=r;return this.subscribers.has(t)||this.subscribers.set(t,new Set),this.subscribers.get(t).add(e),()=>{let s=this.subscribers.get(t);s&&(s.delete(e),s.size===0&&this.subscribers.delete(t))}}}},oe=Ge;var ie=r=>{r.head=(e,t)=>{if(e.nodeName){e.nodeName=="SCRIPT"?(r.head({script:e.innerText}),e.remove()):(e.querySelectorAll("script").forEach(u=>r.head(u)),e.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(u=>r.compile(u)));return}if(typeof e!="object"||e===null)throw new Error("head requires an object parameter");let s,o={},n;if(e.script){if(e.script.includes("import ")){t&&r.error("Fez.head callback is not supported when script with import is passed (module context).");let u=document.createElement("script");u.type="module",u.textContent=e.script,document.head.appendChild(u),setTimeout(()=>u.remove(),100)}else try{new Function(e.script)(),t&&t()}catch(u){r.error("Error executing script:",u),console.log(e.script)}return}else if(e.js){s=e.js,n="script";for(let[u,d]of Object.entries(e))u!=="js"&&u!=="module"&&(o[u]=d);e.module&&(o.type="module")}else if(e.css){s=e.css,n="link",o.rel="stylesheet";for(let[u,d]of Object.entries(e))u!=="css"&&(o[u]=d)}else throw new Error('head requires either "script", "js" or "css" property');let i=document.querySelector(`${n}[src="${s}"], ${n}[href="${s}"]`);if(i)return t&&t(),i;let f=document.createElement(n);n==="link"?f.href=s:f.src=s;for(let[u,d]of Object.entries(o))f.setAttribute(u,d);return(t||e.module)&&(f.onload=()=>{e.module&&n==="script"&&import(s).then(u=>{window[e.module]=u.default||u[e.module]||u}).catch(u=>{console.error(`Error importing module ${e.module}:`,u)}),t&&t()}),document.head.appendChild(f),f},r.fetch=function(...e){r._fetchCache||={};let t="GET",s,o;typeof e[0]=="string"&&/^[A-Z]+$/.test(e[0])&&(t=e.shift()),s=e.shift();let n={},i=null;if(typeof e[0]=="object"&&(i=e.shift()),typeof e[0]=="function"&&(o=e.shift()),i){if(t==="GET"){let d=new URLSearchParams(i);s+=(s.includes("?")?"&":"?")+d.toString()}else if(t==="POST"){let d=new FormData;for(let[g,S]of Object.entries(i))d.append(g,S);n.body=d}}n.method=t;let f=`${t}:${s}:${JSON.stringify(n)}`;if(r._fetchCache[f]){let d=r._fetchCache[f];if(r.log(`fetch cache hit: ${t} ${s}`),o){o(d);return}return Promise.resolve(d)}r.log(`fetch live: ${t} ${s}`);let u=d=>d.headers.get("content-type")?.includes("application/json")?d.json():d.text();if(o){fetch(s,n).then(u).then(d=>{r._fetchCache[f]=d,o(d)}).catch(d=>r.onError("fetch",d));return}return fetch(s,n).then(u).then(d=>(r._fetchCache[f]=d,d))},r.darkenColor=(e,t=20)=>{let s=parseInt(e.replace("#",""),16),o=Math.round(2.55*t),n=(s>>16)-o,i=(s>>8&255)-o,f=(s&255)-o;return"#"+(16777216+(n<255?n<1?0:n:255)*65536+(i<255?i<1?0:i:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1)},r.lightenColor=(e,t=20)=>{let s=parseInt(e.replace("#",""),16),o=Math.round(2.55*t),n=(s>>16)+o,i=(s>>8&255)+o,f=(s&255)+o;return"#"+(16777216+(n<255?n<1?0:n:255)*65536+(i<255?i<1?0:i:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1)},r.htmlEscape=e=>typeof e=="string"?(e=e.replace(/font-family\s*:\s*(?:&[^;]+;|[^;])*?;/gi,"").replaceAll("&","&amp;").replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;"),e):e===void 0?"":e,r.domRoot=(e,t="div")=>{if(e instanceof Node)return e;{let s=document.createElement(t);return s.innerHTML=e,s}},r.activateNode=(e,t="active")=>{Array.from(e.parentElement.children).forEach(s=>{s.classList.remove(t)}),e.classList.add(t)},r.isTrue=e=>["1","true","on"].includes(String(e).toLowerCase()),r.getFunction=e=>{if(e){if(typeof e=="function")return e;if(typeof e=="string")return new Function(e)}else return()=>{}},r.onReady=e=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()},r.fnv1=e=>{var t,s,o,n,i,f;for(t=2166136261,s=16777619,o=t,n=i=0,f=e.length-1;0<=f?i<=f:i>=f;n=0<=f?++i:--i)o^=e.charCodeAt(n),o*=s;return o.toString(36).replaceAll("-","")},r.tag=(e,t={},s="")=>{let o=encodeURIComponent(JSON.stringify(t));return`<${e} data-props="${o}">${s}</${e}>`},r.untilTrue=(e,t)=>{t||=200,e()||setTimeout(()=>{r.untilTrue(e,t)},t)},r.throttle=(e,t=200)=>{let s=0,o;return function(...n){let i=Date.now();i-s>=t?(e.apply(this,n),s=i):(clearTimeout(o),o=setTimeout(()=>{e.apply(this,n),s=Date.now()},t-(i-s)))}}};var le={},ce=r=>{r.cssMixin=(e,t)=>{if(t)le[e]=t;else return Object.entries(le).forEach(([s,o])=>{e=e.replaceAll(`:${s} `,`${o} `),e=e.replaceAll(`@include ${s} `,`${o} `)}),e},r.cssMixin("mobile","@media (max-width: 767px)"),r.cssMixin("tablet","@media (min-width: 768px) and (max-width: 1023px)"),r.cssMixin("desktop","@media (min-width:  1200px)")};var y=(r,e)=>{if(typeof r=="number"){let t=y.instances.get(r);if(t)return t;y.error(`Instance with UID "${r}" not found.`)}else if(r)if(e)if(typeof e=="function"&&!/^\s*class/.test(e.toString())&&!/\b(this|new)\b/.test(e.toString())){let s=Array.from(document.querySelectorAll(`.fez.fez-${r}`)).filter(o=>o.fez);return s.forEach(o=>e(o.fez)),s}else return typeof e!="function"?y.find(r,e):q(r,e);else{let t=r.nodeName?r.closest(".fez"):document.querySelector(r.includes("#")?r:`.fez.fez-${r}`);if(t){if(t.fez)return t.fez;y.error(`node "${r}" has no Fez attached.`)}else y.error(`node "${r}" not found.`)}else y.error("Fez() ?")};y.classes={};y.instanceCount=0;y.instances=new Map;y.find=(r,e)=>{let t=r;typeof t=="string"&&(t=document.body.querySelector(t)),typeof t.val=="function"&&(t=t[0]);let s=e?`.fez.fez-${e}`:".fez",o=t.closest(s);if(o&&o.fez)return o.fez;console.error("Fez node connector not found",r,t)};y.cssClass=r=>ee.css(r);y.globalCss=(r,e={})=>{if(typeof r=="function"&&(r=r()),r.includes(":")){let t=r.split(`
`).filter(s=>!/^\s*\/\//.test(s)).join(`
`);e.wrap&&(t=`:fez { ${t} }`),t=t.replace(/\:fez|\:host/,`.fez.fez-${e.name}`),r=y.cssClass(t)}return document.body.parentElement.classList.add(r),r};y.info=()=>{console.log("Fez components:",Object.keys(y.classes||{}))};y.morphdom=(r,e,t={})=>{Array.from(r.attributes).forEach(o=>{e.setAttribute(o.name,o.value)}),te.morph(r,e,{morphStyle:"outerHTML"});let s=r.nextSibling;s?.nodeType===Node.TEXT_NODE&&s.textContent.trim()===""&&s.remove()};y.publish=(r,...e)=>{y._subs||={},y._subs[r]||=[],y._subs[r].forEach(t=>{t[1].bind(t[0])(...e)})};y.error=(r,e)=>{if(r=`Fez: ${r}`,console.error(r),e)return`<span style="border: 1px solid red; font-size: 14px; padding: 3px 7px; background: #fee; border-radius: 4px;">${r}</span>`};y.log=r=>{y.LOG===!0&&(r=String(r).substring(0,180),console.log(`Fez: ${r}`))};y.onError=(r,e)=>{if(typeof r!="string")throw new Error("Fez.onError: kind must be a string");console.error(`${r}: ${e.toString()}`)};y.store={store:new Map,counter:0,set(r){let e=this.counter++;return this.store.set(e,r),e},get(r){return this.store.get(r)},delete(r){let e=this.store.get(r);return this.store.delete(r),e}};ie(y);ce(y);y.compile=ne;y.state=oe;y.dump=re;y.onReady(()=>y.log("Fez.LOG === true, logging enabled."));var T=y;typeof window<"u"&&(window.FezBase=O);typeof window<"u"&&(window.Fez=T);Promise.resolve().then(()=>ue());setInterval(()=>{for(let[r,e]of T.instances)e?.isConnected||(e.fez?.fezOnDestroy(),T.instances.delete(r))},5e3);var We=new MutationObserver(r=>{for(let{addedNodes:e,removedNodes:t}of r)e.forEach(s=>{s.nodeType===1&&(s.matches("template[fez], xmp[fez], script[fez]")&&(T.compile(s),s.remove()),s.querySelectorAll&&s.querySelectorAll("template[fez], xmp[fez], script[fez]").forEach(n=>{T.compile(n),n.remove()}))}),t.forEach(s=>{s.nodeType===1&&s.querySelectorAll&&s.querySelectorAll(".fez, :scope.fez").forEach(n=>{n.fez&&n.root&&(T.instances.delete(n.fez.UID),n.fez.fezOnDestroy())})})});We.observe(document.documentElement,{childList:!0,subtree:!0});var Ct=T;})();
//# sourceMappingURL=fez.js.map
