(()=>{function P(l,e={},t){if(typeof e=="string"&&([e,t]=[t,e],e||={}),e instanceof Node&&(t=e,e={}),Array.isArray(l)&&(t=l,l="div"),(typeof e!="object"||Array.isArray(e))&&(t=e,e={}),l.includes(".")){let a=l.split(".");l=a.shift()||"div";let f=a.join(" ");e.class?e.class+=` ${f}`:e.class=f}let o=document.createElement(l);for(let[a,f]of Object.entries(e))if(typeof f=="function")o[a]=f.bind(this);else{let u=String(f).replaceAll("$$.",this.fezHtmlRoot);o.setAttribute(a,u)}if(t)if(Array.isArray(t))for(let a of t)o.appendChild(a);else t instanceof Node?o.appendChild(t):o.innerHTML=String(t);return o}function k(l,e){let t=/(\r\n|\r|\n)/g,o=/{{\s*(.+?)\s*}}/g,a=/^each\s+(.*)\s+as\s+(.*)$/,f=/^if\s+(.*)$/,u=/^else if\s+(.*)$/;function c(b){let v=M=>M.replaceAll("@","this.");b=b.replaceAll("'","\\'");let z=`
      let _strings = [], _sequence = [], _values = [];

      function htmlEscape(text) {
        if (typeof text === 'string') {
          return text
            .replaceAll("{", '&#123;')
            .replaceAll("}", '&#125;')
            .replaceAll("'", '&apos;')
            .replaceAll('"', '&quot;')
            .replaceAll('<', '&lt;')
            .replaceAll('>', '&gt;')
        } else {
          return text
        }
      }

      _sequence.push('${b.trim().replace(t,"\\n").replace(o,(M,y)=>{if(y=y.replace(/^[#:]/,""),y=y.replaceAll("\\'","'"),y.startsWith("each")||y.startsWith("for")){let E=y.split(/\s+/);if(E.shift()==="for"){let H=E.pop();E.pop(),y=`each ${H} as ${E.join(" ")}`}let T=a.exec(y);if(T)return T[1]=v(T[1]),`');
 (!Array.isArray(${T[1]}) ? Array.from(Object.entries(${T[1]} || []), ([key, value]) => [key, value]) : ${T[1]}).forEach((${T[2]}) => { _sequence.push('`}else if(y.startsWith("if")){let E=f.exec(y);if(E)return E[1]=v(E[1]),`');
 if (${E[1]}) { _sequence.push('`}else if(y.startsWith("else if")){let E=u.exec(y);if(E)return E[1]=v(E[1]),`');
 } else if (${E[1]}) { _sequence.push('`}else{if(y==="else")return`');
 } else { _sequence.push('`;if(y==="/each"||y==="/for")return`');
 }); _sequence.push('`;if(y==="/if")return`');
 } _sequence.push('`}let R=y.split(/^\@html\s+/);return R[1]?y=v(R[1]):y=`htmlEscape(${v(y)})`,`');
 _strings.push(_sequence.join(''));
 _sequence = [];
 _values.push(${y});
 _sequence.push('`})}');
      _strings.push(_sequence.join(''));
      return [_strings, _values];
    `;return new Function("_data",z)}function p(b){let v=c(b);return()=>{let[z,M]=v.bind(e)();return z.reduce((y,R,E)=>y+M[E-1]+R)}}return l=l.replace(/(\s\w+)=({{[^}]+}})/,(...b)=>`${b[1]}="${b[2]}"`),l=l.replace(/>\s+\{/g,">{").replace(/\}\s+</g,"}<"),p(l)}var N=class{static __objects=[];static getProps(e,t){let o={};for(let a of e.attributes)o[a.name]=a.value;if(o["data-props"]){let a=o["data-props"];a[0]!="{"&&(a=decodeURIComponent(a)),o=JSON.parse(a)}if(o["data-json-template"]){let a=t.previousSibling?.textContent;a&&(o=JSON.parse(a))}return o}static formData(e){let t=e.closest("form")||e.querySelector("form"),o=new FormData(t),a={};return o.forEach((f,u)=>{a[u]=f}),a}static fastBind(){return!1}static nodeName="div";constructor(){}n=P;get fezHtmlRoot(){return`Fez.find(this, "${this.fezName}").`}get isAttached(){return this.root?.parentNode?!0:(this._setIntervalCache||={},Object.keys(this._setIntervalCache).forEach(e=>{clearInterval(this._setIntervalCache[e])}),this.root.fez=null,this.root=null,!1)}prop(e){let t=this.oldRoot[e]||this.props[e];return typeof t=="function"&&(t=t.bind(this.root)),t}copy(){for(let e of Array.from(arguments)){let t=this.props[e];if(t!==void 0){if(e=="class"){let o=this.root.getAttribute(e,t);o&&(t=[o,t].join(" "))}typeof t=="string"?this.root.setAttribute(e,t):this.root[e]=t}}}slot(e,t){t||=document.createElement("template");let o=t.nodeName=="SLOT";for(;e.firstChild;)o?t.parentNode.insertBefore(e.lastChild,t.nextSibling):t.appendChild(e.firstChild);return o?t.parentNode.removeChild(t):e.innerHTML="",t}style(){console.error("call Fez static style")}connect(){this.class.html||console.error('Fez is missing "connect" method.',this.root)}afterConnect(){}beforeRender(){}afterRender(){}parseHtml(e,t){t||=this,typeof e=="object"&&(e=e[0]);let o=this.fezHtmlRoot.replaceAll('"',"&quot;");if(e=e.replaceAll("$$.",o).replace(/([^\w\.])fez\./g,`$1${o}`),e.includes("{"))try{e=k(e,t)()}catch(a){console.error(`Fez stache template error in "${this.fezName}"`,a)}return e}nextTick(e,t){t?(this._nextTicks||={},this._nextTicks[t]||=window.requestAnimationFrame(()=>{e.bind(this)(),this._nextTicks[t]=null},t)):window.requestAnimationFrame(e.bind(this))}render(e,t){if(e===!0){this.nextTick(this.render,"render");return}if(!e&&(e=this?._fez_html_func,!e))return;this.beforeRender(),typeof t>"u"&&(t=e,e=this.root),typeof e=="string"&&(e=this.find(e));let o=document.createElement(this.class.nodeName||"div");typeof t=="function"&&(t=t()),Array.isArray(t)?t[0]instanceof Node?t.forEach(c=>{o.appendChild(c)}):t=t.join(""):typeof t=="string"?o.innerHTML=this.parseHtml(t):t&&o.appendChild(t);let a=this.find(".fez-slot");if(a){let c=document.createElement("div");c.setAttribute("class","fez-slot"),a.parentNode.replaceChild(c,a)}let f=o.querySelector("slot");if(f&&this.slot(e,f),Fez.morphdom(e,o),f=o.querySelector("slot"),f&&this.slot(e,f),a){let c=this.find(".fez-slot");c?(c.innerHTML="",this.slot(a,this.find(".fez-slot"))):this.currentSlot=a}else if(this.currentSlot){let c=this.find(".fez-slot");c&&(c.innerHTML="",this.slot(this.currentSlot,c),this.currentSlot=null)}let u=(c,p)=>{e.querySelectorAll(`*[${c}]`).forEach(b=>{let v=b.getAttribute(c);b.removeAttribute(c),v&&p.bind(this)(v,b)})};u("fez-this",(c,p)=>{new Function("n",`this.${c} = n`).bind(this)(p)}),u("fez-use",(c,p)=>{let b=this[c];typeof b=="function"?b(p):console.error(`Fez error: "${c}" is not a function in ${this.fezName}`)}),u("fez-class",c=>{let p=c.split(/\s+/),b=p.pop();p.forEach(v=>n.classList.add(v)),b&&setTimeout(()=>{n.classList.add(b)},300)}),u("fez-bind",(c,p)=>{let b=new Function(`return this.${c}`).bind(this)(),v=p.type.toLowerCase()=="checkbox",z=["SELECT"].includes(p.nodeName)||v?"onchange":"onkeyup";p.setAttribute(z,`${this.fezHtmlRoot}${c} = this.${v?"checked":"value"}`),this.val(p,b)}),this.afterRender()}refresh(e){if(e){let t=document.createElement("div");t.innerHTML=this.class.htmlTemplate;let o=t.querySelector(e).innerHTML;this.render(e,o)}else this.render()}setInterval(e,t,o){return typeof e=="number"&&([t,e]=[e,t]),o||=Fez.fnv1(String(e)),this._setIntervalCache||={},clearInterval(this._setIntervalCache[o]),this._setIntervalCache[o]=setInterval(()=>{this.isAttached&&e()},t),this._setIntervalCache[o]}find(e){return typeof e=="string"?this.root.querySelector(e):e}val(e,t){let o=this.find(e);if(o)if(["INPUT","TEXTAREA","SELECT"].includes(o.nodeName))if(typeof t<"u")o.type=="checkbox"?o.checked=!!t:o.value=t;else return o.value;else if(typeof t<"u")o.innerHTML=t;else return o.innerHTML}formData(e){return this.class.formData(e||this.root)}attr(e,t){return typeof t>"u"?this.root.getAttribute(e):(this.root.setAttribute(e,t),t)}childNodes(e){let t=Array.from(this.root.querySelectorAll(":scope > *"));return e&&(t=t.map(e)),t}subscribe(e,t){Fez._subs||={},Fez._subs[e]||=[],Fez._subs[e]=Fez._subs[e].filter(o=>o[0].isAttached),Fez._subs[e].push([this,t])}fezRegister(){this.css&&(this.css=Fez.globalCss(this.css,{name:this.fezName,wrap:!0})),this.class.css&&(this.class.css=Fez.globalCss(this.class.css,{name:this.fezName})),this.state||=this.reactiveStore(),this.data||={},this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(t=>t!=="constructor"&&typeof this[t]=="function").forEach(t=>this[t]=this[t].bind(this))}reactiveStore(e,t){e||={},t||=(a,f,u)=>{this.render(!0)},t.bind(this);function o(a,f){return typeof a!="object"||a===null?a:new Proxy(a,{set(u,c,p,b){typeof p=="object"&&p!==null&&(p=o(p,f));let v=Reflect.set(u,c,p,b);return f(u,c,p),v},get(u,c,p){let b=Reflect.get(u,c,p);return typeof b=="object"&&b!==null?o(b,f):b}})}return o(e,t)}};var pe={data:""},X=l=>typeof window=="object"?((l?l.querySelector("#_goober"):window._goober)||Object.assign((l||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:l||pe,me=l=>{let e=X(l),t=e.data;return e.data="",t},be=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ge=/\/\*[^]*?\*\/|  +/g,K=/\n+/g,w=(l,e)=>{let t="",o="",a="";for(let f in l){let u=l[f];f[0]=="@"?f[1]=="i"?t=f+" "+u+";":o+=f[1]=="f"?w(u,f):f+"{"+w(u,f[1]=="k"?"":e)+"}":typeof u=="object"?o+=w(u,e?e.replace(/([^,])+/g,c=>f.replace(/(^:.*)|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,c):c?c+" "+p:p)):f):u!=null&&(f=/^--/.test(f)?f:f.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=w.p?w.p(f,u):f+":"+u+";")}return t+(e&&a?e+"{"+a+"}":a)+o},C={},Y=l=>{if(typeof l=="object"){let e="";for(let t in l)e+=t+Y(l[t]);return e}return l},ye=(l,e,t,o,a)=>{let f=Y(l),u=C[f]||(C[f]=(p=>{let b=0,v=11;for(;b<p.length;)v=101*v+p.charCodeAt(b++)>>>0;return"go"+v})(f));if(!C[u]){let p=f!==l?l:(b=>{let v,z,M=[{}];for(;v=be.exec(b.replace(ge,""));)v[4]?M.shift():v[3]?(z=v[3].replace(K," ").trim(),M.unshift(M[0][z]=M[0][z]||{})):M[0][v[1]]=v[2].replace(K," ").trim();return M[0]})(l);C[u]=w(a?{["@keyframes "+u]:p}:p,t?"":"."+u)}let c=t&&C.g?C.g:null;return t&&(C.g=C[u]),((p,b,v,z)=>{z?b.data=b.data.replace(z,p):b.data.indexOf(p)===-1&&(b.data=v?p+b.data:b.data+p)})(C[u],e,o,c),u},ve=(l,e,t)=>l.reduce((o,a,f)=>{let u=e[f];if(u&&u.call){let c=u(t),p=c&&c.props&&c.props.className||/^go/.test(c)&&c;u=p?"."+p:c&&typeof c=="object"?c.props?"":w(c,""):c===!1?"":c}return o+a+(u??"")},"");function q(l){let e=this||{},t=l.call?l(e.p):l;return ye(t.unshift?t.raw?ve(t,[].slice.call(arguments,1),e.p):t.reduce((o,a)=>Object.assign(o,a&&a.call?a(e.p):a),{}):t,X(e.target),e.g,e.o,e.k)}var Z,V,D,Ae=q.bind({g:1}),Se=q.bind({k:1});function Ee(l,e,t,o){w.p=e,Z=l,V=t,D=o}function _e(l,e){let t=this||{};return function(){let o=arguments;function a(f,u){let c=Object.assign({},f),p=c.className||a.className;t.p=Object.assign({theme:V&&V()},c),t.o=/ *go\d+/.test(p),c.className=q.apply(t,o)+(p?" "+p:""),e&&(c.ref=u);let b=l;return l[0]&&(b=c.as||l,delete c.as),D&&b[0]&&D(c),Z(b,c)}return e?e(a):a}}var Q={css:q,extractCss:me,glob:Ae,keyframes:Se,setup:Ee,styled:_e};var x=function(){"use strict";let l=new Set,e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:y,afterNodeAdded:y,beforeNodeMorphed:y,afterNodeMorphed:y,beforeNodeRemoved:y,afterNodeRemoved:y,beforeAttributeUpdated:y},head:{style:"merge",shouldPreserve:function(r){return r.getAttribute("im-preserve")==="true"},shouldReAppend:function(r){return r.getAttribute("im-re-append")==="true"},shouldRemove:y,afterHeadMorphed:y}};function t(r,i,s={}){r instanceof Document&&(r=r.documentElement),typeof i=="string"&&(i=se(i));let h=le(i),d=E(r,h,s);return o(r,h,d)}function o(r,i,s){if(s.head.block){let h=r.querySelector("head"),d=i.querySelector("head");if(h&&d){let m=z(d,h,s);Promise.all(m).then(function(){o(r,i,Object.assign(s,{head:{block:!1,ignore:!0}}))});return}}if(s.morphStyle==="innerHTML")return u(i,r,s),r.children;if(s.morphStyle==="outerHTML"||s.morphStyle==null){let h=fe(i,r,s),d=h?.previousSibling,m=h?.nextSibling,g=f(r,h,s);return h?oe(d,g,m):[]}else throw"Do not understand how to morph style "+s.morphStyle}function a(r,i){return i.ignoreActiveValue&&r===document.activeElement&&r!==document.body}function f(r,i,s){if(!(s.ignoreActive&&r===document.activeElement))return i==null?s.callbacks.beforeNodeRemoved(r)===!1?r:(r.remove(),s.callbacks.afterNodeRemoved(r),null):H(r,i)?(s.callbacks.beforeNodeMorphed(r,i)===!1||(r instanceof HTMLHeadElement&&s.head.ignore||(r instanceof HTMLHeadElement&&s.head.style!=="morph"?z(i,r,s):(p(i,r,s),a(r,s)||u(i,r,s))),s.callbacks.afterNodeMorphed(r,i)),r):s.callbacks.beforeNodeRemoved(r)===!1||s.callbacks.beforeNodeAdded(i)===!1?r:(r.parentElement.replaceChild(i,r),s.callbacks.afterNodeAdded(i),s.callbacks.afterNodeRemoved(r),i)}function u(r,i,s){let h=r.firstChild,d=i.firstChild,m;for(;h;){if(m=h,h=m.nextSibling,d==null){if(s.callbacks.beforeNodeAdded(m)===!1)return;i.appendChild(m),s.callbacks.afterNodeAdded(m),j(s,m);continue}if(T(m,d,s)){f(d,m,s),d=d.nextSibling,j(s,m);continue}let g=ne(r,i,m,d,s);if(g){d=W(d,g,s),f(g,m,s),j(s,m);continue}let S=ie(r,i,m,d,s);if(S){d=W(d,S,s),f(S,m,s),j(s,m);continue}if(s.callbacks.beforeNodeAdded(m)===!1)return;i.insertBefore(m,d),s.callbacks.afterNodeAdded(m),j(s,m)}for(;d!==null;){let g=d;d=d.nextSibling,U(g,s)}}function c(r,i,s,h){return r==="value"&&h.ignoreActiveValue&&i===document.activeElement?!0:h.callbacks.beforeAttributeUpdated(r,i,s)===!1}function p(r,i,s){let h=r.nodeType;if(h===1){let d=r.attributes,m=i.attributes;for(let g of d)c(g.name,i,"update",s)||i.getAttribute(g.name)!==g.value&&i.setAttribute(g.name,g.value);for(let g=m.length-1;0<=g;g--){let S=m[g];c(S.name,i,"remove",s)||r.hasAttribute(S.name)||i.removeAttribute(S.name)}}(h===8||h===3)&&i.nodeValue!==r.nodeValue&&(i.nodeValue=r.nodeValue),a(i,s)||v(r,i,s)}function b(r,i,s,h){if(r[s]!==i[s]){let d=c(s,i,"update",h);d||(i[s]=r[s]),r[s]?d||i.setAttribute(s,r[s]):c(s,i,"remove",h)||i.removeAttribute(s)}}function v(r,i,s){if(r instanceof HTMLInputElement&&i instanceof HTMLInputElement&&r.type!=="file"){let h=r.value,d=i.value;b(r,i,"checked",s),b(r,i,"disabled",s),r.hasAttribute("value")?h!==d&&(c("value",i,"update",s)||(i.setAttribute("value",h),i.value=h)):c("value",i,"remove",s)||(i.value="",i.removeAttribute("value"))}else if(r instanceof HTMLOptionElement)b(r,i,"selected",s);else if(r instanceof HTMLTextAreaElement&&i instanceof HTMLTextAreaElement){let h=r.value,d=i.value;if(c("value",i,"update",s))return;h!==d&&(i.value=h),i.firstChild&&i.firstChild.nodeValue!==h&&(i.firstChild.nodeValue=h)}}function z(r,i,s){let h=[],d=[],m=[],g=[],S=s.head.style,L=new Map;for(let A of r.children)L.set(A.outerHTML,A);for(let A of i.children){let F=L.has(A.outerHTML),I=s.head.shouldReAppend(A),B=s.head.shouldPreserve(A);F||B?I?d.push(A):(L.delete(A.outerHTML),m.push(A)):S==="append"?I&&(d.push(A),g.push(A)):s.head.shouldRemove(A)!==!1&&d.push(A)}g.push(...L.values());let G=[];for(let A of g){let F=document.createRange().createContextualFragment(A.outerHTML).firstChild;if(s.callbacks.beforeNodeAdded(F)!==!1){if(F.href||F.src){let I=null,B=new Promise(function(de){I=de});F.addEventListener("load",function(){I()}),G.push(B)}i.appendChild(F),s.callbacks.afterNodeAdded(F),h.push(F)}}for(let A of d)s.callbacks.beforeNodeRemoved(A)!==!1&&(i.removeChild(A),s.callbacks.afterNodeRemoved(A));return s.head.afterHeadMorphed(i,{added:h,kept:m,removed:d}),G}function M(){}function y(){}function R(r){let i={};return Object.assign(i,e),Object.assign(i,r),i.callbacks={},Object.assign(i.callbacks,e.callbacks),Object.assign(i.callbacks,r.callbacks),i.head={},Object.assign(i.head,e.head),Object.assign(i.head,r.head),i}function E(r,i,s){return s=R(s),{target:r,newContent:i,config:s,morphStyle:s.morphStyle,ignoreActive:s.ignoreActive,ignoreActiveValue:s.ignoreActiveValue,idMap:he(r,i),deadIds:new Set,callbacks:s.callbacks,head:s.head}}function T(r,i,s){return r==null||i==null?!1:r.nodeType===i.nodeType&&r.tagName===i.tagName?r.id!==""&&r.id===i.id?!0:O(s,r,i)>0:!1}function H(r,i){return r==null||i==null?!1:r.nodeType===i.nodeType&&r.tagName===i.tagName}function W(r,i,s){for(;r!==i;){let h=r;r=r.nextSibling,U(h,s)}return j(s,i),i.nextSibling}function ne(r,i,s,h,d){let m=O(d,s,i),g=null;if(m>0){let S=h,L=0;for(;S!=null;){if(T(s,S,d))return S;if(L+=O(d,S,r),L>m)return null;S=S.nextSibling}}return g}function ie(r,i,s,h,d){let m=h,g=s.nextSibling,S=0;for(;m!=null;){if(O(d,m,r)>0)return null;if(H(s,m))return m;if(H(g,m)&&(S++,g=g.nextSibling,S>=2))return null;m=m.nextSibling}return m}function se(r){let i=new DOMParser,s=r.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(s.match(/<\/html>/)||s.match(/<\/head>/)||s.match(/<\/body>/)){let h=i.parseFromString(r,"text/html");if(s.match(/<\/html>/))return h.generatedByIdiomorph=!0,h;{let d=h.firstChild;return d?(d.generatedByIdiomorph=!0,d):null}}else{let d=i.parseFromString("<body><template>"+r+"</template></body>","text/html").body.querySelector("template").content;return d.generatedByIdiomorph=!0,d}}function le(r){if(r==null)return document.createElement("div");if(r.generatedByIdiomorph)return r;if(r instanceof Node){let i=document.createElement("div");return i.append(r),i}else{let i=document.createElement("div");for(let s of[...r])i.append(s);return i}}function oe(r,i,s){let h=[],d=[];for(;r!=null;)h.push(r),r=r.previousSibling;for(;h.length>0;){let m=h.pop();d.push(m),i.parentElement.insertBefore(m,i)}for(d.push(i);s!=null;)h.push(s),d.push(s),s=s.nextSibling;for(;h.length>0;)i.parentElement.insertBefore(h.pop(),i.nextSibling);return d}function fe(r,i,s){let h;h=r.firstChild;let d=h,m=0;for(;h;){let g=ae(h,i,s);g>m&&(d=h,m=g),h=h.nextSibling}return d}function ae(r,i,s){return H(r,i)?.5+O(s,r,i):0}function U(r,i){j(i,r),i.callbacks.beforeNodeRemoved(r)!==!1&&(r.remove(),i.callbacks.afterNodeRemoved(r))}function ue(r,i){return!r.deadIds.has(i)}function ce(r,i,s){return(r.idMap.get(s)||l).has(i)}function j(r,i){let s=r.idMap.get(i)||l;for(let h of s)r.deadIds.add(h)}function O(r,i,s){let h=r.idMap.get(i)||l,d=0;for(let m of h)ue(r,m)&&ce(r,m,s)&&++d;return d}function J(r,i){let s=r.parentElement,h=r.querySelectorAll("[id]");for(let d of h){let m=d;for(;m!==s&&m!=null;){let g=i.get(m);g==null&&(g=new Set,i.set(m,g)),g.add(d.id),m=m.parentElement}}}function he(r,i){let s=new Map;return J(r,s),J(i,s),s}return{morph:t,defaults:e}}();function ze(l){let e=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return l.replace(/<([a-z-]+)\b([^>]*)\/>/g,(t,o,a)=>e.has(o)?t:`<${o}${a}></${o}>`)}function te(l,e){if(!e.__objects){let t=new e,o=class extends FezBase{};Object.getOwnPropertyNames(t).concat(Object.getOwnPropertyNames(e.prototype)).filter(f=>!["constructor","prototype"].includes(f)).forEach(f=>o.prototype[f]=t[f]),t.CSS&&(o.css=t.CSS),t.HTML&&(o.html=t.HTML),t.NAME&&(o.nodeName=t.NAME),t.FAST&&(o.fastBind=t.FAST),e=o}e.css&&(e.css=Fez.globalCss(e.css,{name:l})),customElements.define(l,class extends HTMLElement{connectedCallback(){this.firstChild||this.getAttribute("data-props")||Me(this,e)?(Fez.info(`fast bind: ${l}`),ee(l,this,e)):(Fez.info(`slow bind: ${l}`),window.requestAnimationFrame(()=>{this.parentNode&&ee(l,this,e)}))}})}function ee(l,e,t){let o=e.parentNode;if(o){let a=typeof t.nodeName=="function"?t.nodeName(e):t.nodeName,f=document.createElement(a||"div");f.classList.add("fez"),f.classList.add(`fez-${l}`),o.replaceChild(f,e);let u=new t;u.oldRoot=e,u.fezName=l,u.root=f,u.props=t.getProps(e,f),u.class=t,u.slot(e,f),f.fez=u,window.$&&(u.$root=$(f)),u.props.id&&f.setAttribute("id",u.props.id),t.html&&(t.html=ze(t.html),t.html=t.html.replace(/<slot\s*\/>|<slot\s*><\/slot>/g,()=>{let c=t.slotNodeName||"div";return`<${c} class="fez-slot"><slot /></${c}>`}),t.htmlTemplate=t.html,u._fez_html_func=k(t.html,u)),u.fezRegister(),u.connect(u.props),t.__objects.push(u),u._fez_html_func&&u.render(),u.afterConnect(u.props);for(let[c,p]of Object.entries(u.props))/^\{\{/.test(p)&&/\}\}$/.test(p)&&(p=p.replace(/^\{\{/,"return (").replace(/\}\}$/,")"),p=new Function(p).bind(u.root)(),u.props[c]=p);if(u.onPropsChange){Te.observe(f,{attributes:!0});for(let[c,p]of Object.entries(u.props))u.onPropsChange(c,p)}}}function Me(l,e){return typeof e.fastBind=="function"?e.fastBind(l):e.fastBind}var Te=new MutationObserver((l,e)=>{for(let t of l)if(t.type==="attributes"){let o=t.target.fez,a=t.attributeName,f=t.target.getAttribute(a);o.props[a]=f,o.onPropsChange(a,f)}});var _=(l,e)=>l?typeof e!="function"?_.find(l,e):te(l,e):FezBase;_.find=(l,e)=>{typeof l=="string"&&(l=document.body.querySelector(l)),typeof l.val=="function"&&(l=l[0]);let t=e?`.fez-${e}`:".fez";return l.closest(t).fez};_.cssClass=l=>Q.css(l);_.globalCss=(l,e={})=>{if(typeof l=="function"&&(l=l()),l.includes(":")){let t=l.split(`
`).filter(o=>!/^\s*\/\//.test(o)).join(`
`);t=t.replace(/\:fez|\:host/,`.fez.fez-${e.name}`),e.wrap&&(t=`.fez.fez-${e.name} { ${t} }`),l=_.cssClass(t)}return document.body?document.body.classList.add(l):document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add(l)}),l};_.info=l=>{window.DEBUG&&console.log(`Fez: ${l}`)};_.morphdom=(l,e,t={})=>{t.childrenOnly===void 0&&(t.childrenOnly=!0),x.morph(l,e,{morphStyle:"innerHTML"})};_.htmlEscape=l=>l.replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;");_.publish=(l,...e)=>{_._subs||={},_._subs[l]||=[],_._subs[l].forEach(t=>{t[1].bind(t[0])(...e)})};_.fnv1=l=>{var e,t,o,a,f,u;for(e=2166136261,t=16777619,o=e,a=f=0,u=l.length-1;0<=u?f<=u:f>=u;a=0<=u?++f:--f)o^=l.charCodeAt(a),o*=t;return o.toString(36).replaceAll("-","")};_.tag=function(l,e={},t=""){let o=encodeURIComponent(JSON.stringify(e));return`<${l} data-props="${o}">${t}</${l}>`};_.parseTemplate=function(l){let e={script:"",style:"",html:""},t=l.split(`
`),o=[],a="";for(let f of t)f.trim().startsWith("<script")&&!e.script?a="script":f.trim().startsWith("<style")?a="style":f.trim().endsWith("<\/script>")&&a==="script"&&!e.script?(e.script=o.join(`
`),o=[],a=null):f.trim().endsWith("</style>")&&a==="style"?(e.style=o.join(`
`),o=[],a=null):a?o.push(f):e.html+=f+`
`;return e.html=e.html.trim(),e};var re=_;window.FezBase=N;window.Fez=re;setInterval(()=>{N.__objects=N.__objects.filter(l=>l.isAttached)},1e4);})();
//# sourceMappingURL=fez.js.map
