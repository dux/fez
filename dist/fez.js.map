{
  "version": 3,
  "sources": ["../src/fez/defaults.js", "../src/fez/lib/n.js", "../src/fez/lib/template.js", "../src/fez/instance.js", "../src/fez/vendor/gobber.js", "../src/fez/vendor/idiomorph.js", "../src/fez/utils/dump.js", "../src/fez/utils/highlight_all.js", "../src/fez/connect.js", "../src/fez/compile.js", "../src/fez/lib/global-state.js", "../src/fez/utility.js", "../src/fez/utils/css_mixin.js", "../src/fez/root.js", "../src/fez.js"],
  "sourcesContent": ["// Wrap defaults in a function to avoid immediate execution\nconst loadDefaults = () => {\n  // include fez component by name\n  //<fez-component name=\"some-node\" :props=\"fez.props\"></fez-component>\n  Fez('fez-component', class {\n    init(props) {\n      const tag = document.createElement(props.name)\n      tag.props = props.props || props['data-props'] || props\n\n      while (this.root.firstChild) {\n        this.root.parentNode.insertBefore(this.root.lastChild, tag.nextSibling);\n      }\n\n      this.root.innerHTML = ''\n      this.root.appendChild(tag)\n    }\n  })\n\n  // include remote data from url\n  // <fez-include src=\"./demo/fez/ui-slider.html\"></fez-include>\n  Fez('fez-include', class {\n    init(props) {\n      Fez.fetch(props.src, (data)=>{\n        const dom = Fez.domRoot(data)\n        Fez.head(dom) // include scripts and load fez components\n        this.root.innerHTML = dom.innerHTML\n      })\n    }\n  })\n\n  // include remote data from url\n  // <fez-inline :state=\"{count: 0}\">\n  //   <button onclick=\"fez.state.count += 1\">&plus;</button>\n  //   {{ state.count }} * {{ state.count }} = {{ state.count * state.count }}\n  // </fez-inline>\n  Fez('fez-inline', class {\n    init(props) {\n      const html = this.root.innerHTML\n\n      if (this.root.innerHTML.includes('<')) {\n        const hash = Fez.fnv1(this.root.outerHTML)\n        const nodeName = `inline-${hash}`\n        Fez(nodeName, class {\n          HTML = html\n          init() {\n            Object.assign(this.state, props.state || {})\n          }\n        })\n\n        const el = document.createElement(nodeName)\n        this.root.after(this.root.lastChild, el);\n        this.root.remove()\n      }\n    }\n  })\n\n  // Memory store for memoization\n  const memoStore = new Map()\n\n  // memoize component content by key\n  // <fez-memoize key=\"unique-key\">content to memoize</fez-memoize>\n  Fez('fez-memoize', class {\n    init(props) {\n      if (!props.key) {\n        Fez.error('fez-memoize: key prop is required')\n        return\n      }\n\n      if (memoStore.has(props.key)) {\n        // Restore from memory in init\n        const storedNode = memoStore.get(props.key)\n        Fez.log(`Memoize - key: \"${props.key}\" - restore`)\n        this.root.innerHTML = ''\n        this.root.appendChild(storedNode.cloneNode(true))\n      }\n    }\n\n    onMount(props) {\n      // Only store if not already in memory\n      if (!memoStore.has(props.key)) {\n        requestAnimationFrame(() => {\n          // Store current DOM content\n          const contentNode = document.createElement('div')\n          contentNode.innerHTML = this.root.innerHTML\n          Fez.log(`Memoize - key: \"${props.key}\" - set`)\n          memoStore.set(props.key, contentNode)\n        })\n      }\n    }\n  })\n}\n\n// Only load defaults if Fez is available\nif (typeof Fez !== 'undefined' && Fez) {\n  loadDefaults()\n}\n\n// Export for use in tests\nexport { loadDefaults }\n", "// Exposes node building method, that gets node name, attrs and body.\n// n('span', {id: id}), n('.foo', {id: id}, body), n('.foo', {id: id}, [...])\n// * you can switch places for attrs and body, and body can be list of nodes\n// * n('.foo.bar') -> n('div', { class: 'foo bar' })\n//\n// copyright @dux, 2024\n// Licence MIT\n\nexport default function n(name, attrs = {}, data) {\n  if (typeof attrs === 'string') {\n    [attrs, data] = [data, attrs]\n    attrs ||= {}\n  }\n\n  if (attrs instanceof Node) {\n    data = attrs\n    attrs = {}\n  }\n\n  if (Array.isArray(name)) {\n    data = name\n    name = 'div'\n  }\n\n  if (typeof attrs !== 'object' || Array.isArray(attrs)) {\n    data = attrs\n    attrs = {}\n  }\n\n  if (name.includes('.')) {\n    const parts = name.split('.')\n    name = parts.shift() || 'div'\n    const c = parts.join(' ');\n    if (attrs.class) {\n      attrs.class += ` ${c}`;\n    } else {\n      attrs.class = c\n    }\n  }\n\n  const node = document.createElement(name);\n\n  for (const [k, v] of Object.entries(attrs)) {\n    if (typeof v === 'function') {\n      node[k] = v.bind(this)\n    } else {\n      const value = String(v).replaceAll('fez.', this.fezHtmlRoot);\n      node.setAttribute(k, value)\n    }\n  }\n\n  if (data) {\n    if (Array.isArray(data)) {\n      for (const n of data) {\n        node.appendChild(n)\n      }\n    } else if (data instanceof Node) {\n      node.appendChild(data)\n    } else {\n      node.innerHTML = String(data)\n    }\n  }\n\n  return node\n}\n", "function parseBlock(data, ifStack) {\n  data = data\n    .replace(/^#?raw/, '@html')\n    .replace(/^#?html/, '@html')\n\n  // Handle #if directive\n  if (data.startsWith('#if') || data.startsWith('if')) {\n    ifStack.push(false)\n    data = data.replace(/^#?if/, '')\n    return `\\${ ${data} ? \\``\n  }\n  else if (data.startsWith('#unless') || data.startsWith('unless')) {\n    ifStack.push(false)\n    data = data.replace(/^#?unless/, '')\n    return `\\${ !(${data}) ? \\``\n  }\n  else if (data == '/block') {\n    return '`) && \\'\\'}'\n  }\n  else if (data.startsWith('#for') || data.startsWith('for')) {\n    data = data.replace(/^#?for/, '')\n    const el = data.split(' in ', 2)\n    return '${' + el[1] + '.map((' + el[0] + ')=>`'\n  }\n  else if (data.startsWith('#each') || data.startsWith('each')) {\n    data = data.replace(/^#?each/, '')\n    const el = data.split(' as ', 2)\n    return '${' + el[0] + '.map((' + el[1] + ')=>`'\n  }\n  else if (data == ':else' || data == 'else') {\n    ifStack[ifStack.length - 1] = true\n    return '` : `'\n  }\n  else if (data == '/if' || data == '/unless') {\n    return ifStack.pop() ? '`}' : '` : ``}'\n  }\n  else if (data == '/for' || data == '/each') {\n    return '`).join(\"\")}'\n  }\n  else {\n    const prefix = '@html '\n\n    if (data.startsWith('json ')) {\n      data = data.replace('json ', \"@html '<pre class=json>'+JSON.stringify(\")\n      data += \", null, 2) + '</pre>'\"\n    }\n\n    if (data.startsWith(prefix)) {\n      data = data.replace(prefix, '')\n    } else {\n      data = `Fez.htmlEscape(${data})`\n    }\n\n    return '${' + data + '}'\n  }\n}\n\n// let tpl = createTemplate(string)\n// tpl({ ... this state ...})\nexport default function createTemplate(text, opts = {}) {\n  const ifStack = []\n\n  // some templating engines, as GoLangs use {{ for templates. Allow usage of [[ for fez\n  text = text\n    .replaceAll('[[', '{{')\n    .replaceAll(']]', '}}')\n\n  text = text.replace(/(\\w+)=\\{\\{\\s*(.*?)\\s*\\}\\}([\\s>])/g, (match, p1, p2, p3) => {\n    return `${p1}=\"{`+`{ ${p2} }`+`}\"${p3}`\n  })\n\n  // {{block foo}} ... {{/block}}\n  // {{block:foo}}\n  const blocks = {}\n  text = text.replace(/\\{\\{block\\s+(\\w+)\\s*\\}\\}([^\u00A7]+)\\{\\{\\/block\\}\\}/g, (_, name, block) => {\n    blocks[name] = block\n    return ''\n  })\n  text = text.replace(/\\{\\{block:([\\w\\-]+)\\s*\\}\\}/g, (_, name) => blocks[name] || `block:${name}?`)\n\n  // {{#for el in list }}}}\n  //   <ui-comment :comment=\"el\"></ui-comment>\n  //   -> :comment=\"{{ JSON.stringify(el) }}\"\n  // skip attr=\"foo.bar\"\n  text = text.replace(/:(\\w+)=\"([\\w\\.\\[\\]]+)\"/, (_, m1, m2) => {\n    return `:${m1}=Fez.store.delete({{ Fez.store.set(${m2}) }})`\n  })\n\n  let result = text.replace(/{{(.*?)}}/g, (_, content) => {\n    content = content.replaceAll('&#x60;', '`')\n\n    content = content\n      .replaceAll('&lt;', '<')\n      .replaceAll('&gt;', '>')\n      .replaceAll('&amp;', '&')\n    const parsedData = parseBlock(content, ifStack);\n\n    return parsedData\n  });\n\n  result = result\n    .replace(/<!\\-\\-.*?\\-\\->/g, '')\n    .replace(/>\\s+</g, '><')\n\n  result = '`' + result.trim() + '`'\n\n  try {\n    const funcBody = `const fez = this;\n      with (this) {\n        return ${result}\n      }\n    `\n    const tplFunc = new Function(funcBody);\n    const outFunc = (o) => {\n      try {\n        return tplFunc.bind(o)()\n      } catch(e) {\n        e.message = `FEZ template runtime error: ${e.message}\\n\\nTemplate source: ${result}`\n        console.error(e)\n      }\n    }\n    return outFunc\n  } catch(e) {\n    e.message = `FEZ template compile error: ${e.message}Template source:\\n${result}`\n    console.error(e)\n    return ()=>Fez.error(`Template Compile Error`, true)\n  }\n}\n", "// HTML node builder\nimport parseNode from './lib/n.js'\nimport createTemplate from './lib/template.js'\n\nexport default class FezBase {\n  // get node attributes as object\n  static getProps(node, newNode) {\n    let attrs = {}\n\n    // we can directly attach props to DOM node instance\n    if (node.props) {\n      return node.props\n    }\n\n    // LOG(node.nodeName, node.attributes)\n    for (const attr of node.attributes) {\n      attrs[attr.name] = attr.value\n    }\n\n    for (const [key, val] of Object.entries(attrs)) {\n      if ([':'].includes(key[0])) {\n        // LOG([key, val])\n        delete attrs[key]\n        try {\n          const newVal = new Function(`return (${val})`).bind(newNode)()\n          attrs[key.replace(/[\\:_]/, '')] = newVal\n\n        } catch (e) {\n          console.error(`Fez: Error evaluating attribute ${key}=\"${val}\" for ${node.tagName}: ${e.message}`)\n        }\n      }\n    }\n\n    if (attrs['data-props']) {\n      let data = attrs['data-props']\n\n      if (typeof data == 'object') {\n        return data\n      }\n      else {\n        if (data[0] != '{') {\n          data = decodeURIComponent(data)\n        }\n        try {\n          attrs = JSON.parse(data)\n        } catch (e) {\n          console.error(`Fez: Invalid JSON in data-props for ${node.tagName}: ${e.message}`)\n        }\n      }\n    }\n\n    // pass props as json template\n    // <script type=\"text/template\">{...}</script>\n    // <foo-bar data-json-template=\"true\"></foo-bar>\n    else if (attrs['data-json-template']) {\n      const data = newNode.previousSibling?.textContent\n      if (data) {\n        try {\n          attrs = JSON.parse(data)\n          newNode.previousSibling.remove()\n        } catch (e) {\n          console.error(`Fez: Invalid JSON in template for ${node.tagName}: ${e.message}`)\n        }\n      }\n    }\n\n    return attrs\n  }\n\n  static formData(node) {\n    const formNode = node.closest('form') || node.querySelector('form')\n    if (!formNode) {\n      Fez.log('No form found for formData()')\n      return {}\n    }\n    const formData = new FormData(formNode)\n    const formObject = {}\n    formData.forEach((value, key) => {\n      formObject[key] = value\n    });\n    return formObject\n  }\n\n\n  static nodeName = 'div'\n\n  // instance methods\n\n  constructor() {}\n\n  n = parseNode\n\n  // string selector for use in HTML nodes\n  get fezHtmlRoot() {\n    return `Fez(${this.UID}).`\n    // return this.props.id ? `Fez.find(\"#${this.props.id}\").` : `Fez.find(this, \"${this.fezName}\").`\n  }\n\n  // checks if node is attached and clears all if not\n  get isConnected() {\n    if (this.root?.isConnected) {\n      return true\n    } else {\n      this.fezOnDestroy()\n      return false\n    }\n  }\n\n  // get single node property\n  prop(name) {\n    let v = this.oldRoot[name] || this.props[name]\n    if (typeof v == 'function') {\n      // if this.prop('onclick'), we want \"this\" to point to this.root (dom node)\n      v = v.bind(this.root)\n    }\n    return v\n  }\n\n  // copy attributes to root node\n  copy() {\n    for (const name of Array.from(arguments)) {\n      let value = this.props[name]\n\n      if (value !== undefined) {\n        if (name == 'class') {\n          const klass = this.root.getAttribute(name, value)\n\n          if (klass) {\n            value = [klass, value].join(' ')\n          }\n        }\n\n        if (typeof value == 'string') {\n          this.root.setAttribute(name, value)\n        }\n        else {\n          this.root[name] = value\n        }\n      }\n    }\n  }\n\n  // clear all node references\n  // Centralized destroy logic\n  fezOnDestroy() {\n    // Execute all registered cleanup callbacks\n    if (this._onDestroyCallbacks) {\n      this._onDestroyCallbacks.forEach(callback => {\n        try {\n          callback();\n        } catch (e) {\n          console.error('Fez: Error in cleanup callback:', e);\n        }\n      });\n      this._onDestroyCallbacks = [];\n    }\n\n    // Call user's onDestroy lifecycle hook\n    this.onDestroy()\n    this.onDestroy = () => {}\n\n    // Clean up root references\n    if (this.root) {\n      this.root.fez = undefined\n    }\n\n    this.root = undefined\n  }\n\n  // Add a cleanup callback to be executed on destroy\n  addOnDestroy(callback) {\n    this._onDestroyCallbacks = this._onDestroyCallbacks || [];\n    this._onDestroyCallbacks.push(callback);\n  }\n\n  // Generic function to handle window events with automatic cleanup\n  on(eventName, func, delay = 200) {\n    this._eventHandlers = this._eventHandlers || {};\n\n    if (this._eventHandlers[eventName]) {\n      window.removeEventListener(eventName, this._eventHandlers[eventName]);\n    }\n\n    const throttledFunc = Fez.throttle(() => {\n      if (this.isConnected) {\n        func.call(this);\n      }\n    }, delay);\n\n    this._eventHandlers[eventName] = throttledFunc;\n    window.addEventListener(eventName, throttledFunc);\n\n    this.addOnDestroy(() => {\n      window.removeEventListener(eventName, throttledFunc);\n      delete this._eventHandlers[eventName];\n    });\n  }\n\n  // Helper function for resize events\n  onWindowResize(func, delay) {\n    this.on('resize', func, delay);\n    func();\n  }\n\n  // Helper function for scroll events\n  onWindowScroll(func, delay) {\n    this.on('scroll', func, delay);\n    func();\n  }\n\n  // Helper function for element resize events using ResizeObserver\n  onElementResize(el, func, delay = 200) {\n    const throttledFunc = Fez.throttle(() => {\n      if (this.isConnected) {\n        func.call(this, el.getBoundingClientRect(), el);\n      }\n    }, delay);\n\n    const observer = new ResizeObserver(throttledFunc);\n    observer.observe(el);\n\n    func.call(this, el.getBoundingClientRect(), el);\n\n    this.addOnDestroy(() => {\n      observer.disconnect();\n    });\n  }\n\n  // copy child nodes, natively to preserve bound events\n  // if node name is SLOT insert adjacent and remove SLOT, else as a child nodes\n  slot(source, target) {\n    target ||= document.createElement('template')\n    const isSlot = target.nodeName == 'SLOT'\n\n    while (source.firstChild) {\n      if (isSlot) {\n        target.parentNode.insertBefore(source.lastChild, target.nextSibling);\n      } else {\n        target.appendChild(source.firstChild)\n      }\n    }\n\n    if (isSlot) {\n      target.parentNode.removeChild(target)\n    } else {\n      source.innerHTML = ''\n    }\n\n    return target\n  }\n\n  setStyle(key, value) {\n    this.root.style.setProperty(key, value);\n  }\n\n  connect() {}\n  onMount() {}\n  beforeRender() {}\n  afterRender() {}\n  onDestroy() {}\n  onStateChange() {}\n  onGlobalStateChange() {}\n\n  // component publish will search for parent component that subscribes by name\n  publish(channel, ...args) {\n    const handle_publish = (component) => {\n      if (Fez._subs && Fez._subs[channel]) {\n        const sub = Fez._subs[channel].find(([comp]) => comp === component)\n        if (sub) {\n          sub[1].bind(component)(...args)\n          return true\n        }\n      }\n      return false\n    }\n\n    // Check if current component has subscription\n    if (handle_publish(this)) {\n      return true\n    }\n\n    // Bubble up to parent components\n    let parent = this.root.parentElement\n    while (parent) {\n      if (parent.fez) {\n        if (handle_publish(parent.fez)) {\n          return true\n        }\n      }\n      parent = parent.parentElement\n    }\n\n    // If no parent handled it, fall back to global publish\n    // Fez.publish(channel, ...args)\n    return false\n  }\n\n  fezBlocks = {}\n\n  parseHtml(text) {\n    const base = this.fezHtmlRoot.replaceAll('\"', '&quot;')\n\n    text = text\n      .replace(/([!'\"\\s;])fez\\.(\\w)/g, `$1${base}$2`)\n      .replace(/>\\s+</g, '><')\n\n    return text.trim()\n  }\n\n\n  // pass name to have only one tick of a kind\n  nextTick(func, name) {\n    if (name) {\n      this._nextTicks ||= {}\n      this._nextTicks[name] ||= window.requestAnimationFrame(() => {\n        func.bind(this)()\n        this._nextTicks[name] = null\n      }, name)\n    } else {\n      window.requestAnimationFrame(func.bind(this))\n    }\n  }\n\n  // inject htmlString as innerHTML and replace $$. with local pointer\n  // $$. will point to current fez instance\n  // <slot></slot> will be replaced with current root\n  // this.render('...loading')\n  // this.render('.images', '...loading')\n  render(template) {\n    template ||= this?.class?.fezHtmlFunc\n\n    if (!template || !this.root) return\n\n    this.beforeRender()\n\n    const nodeName = typeof this.class.nodeName == 'function' ? this.class.nodeName(this.root) : this.class.nodeName\n    const newNode = document.createElement(nodeName || 'div')\n\n    let renderedTpl\n    if (Array.isArray(template)) {\n      // array nodes this.n(...), look tabs example\n      if (template[0] instanceof Node) {\n        template.forEach( n => newNode.appendChild(n) )\n      } else{\n        renderedTpl = template.join('')\n      }\n    }\n    else if (typeof template == 'string') {\n      renderedTpl = createTemplate(template)(this)\n    }\n    else if (typeof template == 'function') {\n      renderedTpl = template(this)\n    }\n\n    if (renderedTpl) {\n      renderedTpl = renderedTpl.replace(/\\s\\w+=\"undefined\"/g, '')\n      newNode.innerHTML = this.parseHtml(renderedTpl)\n    }\n\n    // Handle fez-keep attributes\n    this.fezKeepNode(newNode)\n\n    // Handle fez-memoize attributes\n    this.fezMemoization(newNode)\n\n    Fez.morphdom(this.root, newNode)\n\n    this.fezRenderPostProcess()\n\n    this.afterRender()\n  }\n\n  fezRenderPostProcess() {\n    const fetchAttr = (name, func) => {\n      this.root.querySelectorAll(`*[${name}]`).forEach((n)=>{\n        let value = n.getAttribute(name)\n        n.removeAttribute(name)\n        if (value) {\n          func.bind(this)(value, n)\n        }\n      })\n    }\n\n    // <button fez-this=\"button\" -> this.button = node\n    fetchAttr('fez-this', (value, n) => {\n      (new Function('n', `this.${value} = n`)).bind(this)(n)\n    })\n\n    // <button fez-use=\"animate\" -> this.animate(node]\n    fetchAttr('fez-use', (value, n) => {\n      if (value.includes('=>')) {\n        // fez-use=\"el => el.focus()\"\n        Fez.getFunction(value)(n)\n      }\n      else {\n        if (value.includes('.')) {\n          // fez-use=\"this.focus()\"\n          Fez.getFunction(value).bind(n)()\n        }\n        else {\n          // fez-use=\"animate\"\n          const target = this[value]\n          if (typeof target == 'function') {\n            target(n)\n          } else {\n            console.error(`Fez error: \"${value}\" is not a function in ${this.fezName}`)\n          }\n        }\n      }\n    })\n\n    // <button fez-class=\"dialog animate\" -> add class \"animate\" after node init to trigger animation\n    fetchAttr('fez-class', (value, n) => {\n      let classes = value.split(/\\s+/)\n      let lastClass = classes.pop()\n      classes.forEach((c)=> n.classList.add(c) )\n      if (lastClass) {\n        setTimeout(()=>{\n          n.classList.add(lastClass)\n        }, 1)\n      }\n    })\n\n    // <input fez-bind=\"state.inputNode\" -> this.state.inputNode will be the value of input\n    fetchAttr('fez-bind', (text, n) => {\n      if (['INPUT', 'SELECT', 'TEXTAREA'].includes(n.nodeName)) {\n        const value = (new Function(`return this.${text}`)).bind(this)()\n        const isCb = n.type.toLowerCase() == 'checkbox'\n        const eventName = ['SELECT'].includes(n.nodeName) || isCb ? 'onchange' : 'onkeyup'\n        n.setAttribute(eventName, `${this.fezHtmlRoot}${text} = this.${isCb ? 'checked' : 'value'}`)\n        this.val(n, value)\n      } else {\n        console.error(`Cant fez-bind=\"${text}\" to ${n.nodeName} (needs INPUT, SELECT or TEXTAREA. Want to use fez-this?).`)\n      }\n    })\n\n    this.root.querySelectorAll(`*[disabled]`).forEach((n)=>{\n      let value = n.getAttribute('disabled')\n      if (['false'].includes(value)) {\n        n.removeAttribute('disabled')\n      } else {\n        n.setAttribute('disabled', 'true')\n      }\n    })\n  }\n\n  fezKeepNode(newNode) {\n    newNode.querySelectorAll('[fez-keep]').forEach(newEl => {\n      const key = newEl.getAttribute('fez-keep')\n      const oldEl = this.root.querySelector(`[fez-keep=\"${key}\"]`)\n\n      if (oldEl) {\n        // Keep the old element in place of the new one\n        newEl.parentNode.replaceChild(oldEl, newEl)\n      } else if (key === 'default-slot') {\n        if (newEl.getAttribute('hide')) {\n          // You cant use state any more\n          this.state = null\n\n          const parent = newEl.parentNode\n\n          // Insert all root children before the slot's next sibling\n          Array.from(this.root.childNodes).forEach(child => {\n            parent.insertBefore(child, newEl)\n          })\n\n          // Remove the slot element\n          newEl.remove()\n        }\n        else {\n          // First render - populate the slot with current root children\n          Array.from(this.root.childNodes).forEach(\n            child => {\n              newEl.appendChild(child)\n            }\n          )\n        }\n      }\n    })\n  }\n\n  fezMemoization(newNode) {\n    // Find the single memoize element in new DOM (excluding fez components)\n    const newMemoEl = newNode.querySelector('[fez-memoize]:not(.fez)')\n    if (!newMemoEl) return\n\n    this.fezMemoStore ||= new Map()\n\n    const newMemoElKey = newMemoEl.getAttribute('fez-memoize')\n    const storedNode = this.fezMemoStore.get(newMemoElKey)\n\n    if (storedNode) {\n      Fez.log(`Memoize restore ${this.fezName}: ${newMemoElKey}`)\n      newMemoEl.parentNode.replaceChild(storedNode.cloneNode(true), newMemoEl)\n    } else {\n      const oldMemoEl = this.root.querySelector('[fez-memoize]:not(.fez)')\n      if (oldMemoEl) {\n        const oldMemoElKey = oldMemoEl.getAttribute('fez-memoize')\n        this.fezMemoStore.set(oldMemoElKey, oldMemoEl.cloneNode(true))\n      }\n    }\n  }\n\n  // refresh single node only\n  refresh(selector) {\n    alert('NEEDS FIX and remove htmlTemplate')\n    if (selector) {\n      const n = Fez.domRoot(this.class.htmlTemplate)\n      const tpl = n.querySelector(selector).innerHTML\n      this.render(selector, tpl)\n    } else {\n      this.render()\n    }\n  }\n\n  // run only if node is attached, clear otherwise\n  setInterval(func, tick, name) {\n    if (typeof func == 'number') {\n      [tick, func] = [func, tick]\n    }\n\n    name ||= Fez.fnv1(String(func))\n\n    this._setIntervalCache ||= {}\n    clearInterval(this._setIntervalCache[name])\n\n    const intervalID = setInterval(() => {\n      if (this.isConnected) {\n        func()\n      }\n    }, tick)\n\n    this._setIntervalCache[name] = intervalID\n\n    // Register cleanup callback\n    this.addOnDestroy(() => {\n      clearInterval(intervalID);\n      delete this._setIntervalCache[name];\n    });\n\n    return intervalID\n  }\n\n  find(selector) {\n    return typeof selector == 'string' ? this.root.querySelector(selector) : selector\n  }\n\n  // get or set node value\n  val(selector, data) {\n    const node = this.find(selector)\n\n    if (node) {\n      if (['INPUT', 'TEXTAREA', 'SELECT'].includes(node.nodeName)) {\n        if (typeof data != 'undefined') {\n          if (node.type == 'checkbox') {\n            node.checked = !!data\n          } else {\n            node.value = data\n          }\n        } else {\n          return node.value\n        }\n      } else {\n        if (typeof data != 'undefined') {\n          node.innerHTML = data\n        } else {\n          return node.innerHTML\n        }\n      }\n    }\n  }\n\n  formData(node) {\n    return this.class.formData(node || this.root)\n  }\n\n  // get or set attribute\n  attr(name, value) {\n    if (typeof value === 'undefined') {\n      return this.root.getAttribute(name)\n    } else {\n      this.root.setAttribute(name, value)\n      return value\n    }\n  }\n\n  // get root node child nodes as array\n  childNodes(func) {\n    let children = Array.from(this.root.children)\n\n    if (func) {\n      // Create temporary container to avoid ancestor-parent errors\n      const tmpContainer = document.createElement('div')\n      tmpContainer.style.display = 'none'\n      document.body.appendChild(tmpContainer)\n      children.forEach(child => tmpContainer.appendChild(child))\n\n      children = Array.from(tmpContainer.children).map(func)\n      document.body.removeChild(tmpContainer)\n    }\n\n    return children\n  }\n\n  subscribe(channel, func) {\n    Fez._subs ||= {}\n    Fez._subs[channel] ||= []\n    Fez._subs[channel] = Fez._subs[channel].filter((el) => el[0].isConnected)\n    Fez._subs[channel].push([this, func])\n  }\n\n  // get and set root node ID\n  rootId() {\n    this.root.id ||= `fez_${this.UID}`\n    return this.root.id\n  }\n\n  fezRegister() {\n    if (this.css) {\n      this.css = Fez.globalCss(this.css, {name: this.fezName, wrap: true})\n    }\n\n    if (this.class.css) {\n      this.class.css = Fez.globalCss(this.class.css, {name: this.fezName})\n    }\n\n    this.state ||= this.reactiveStore()\n    this.globalState = Fez.state.createProxy(this)\n    this.fezRegisterBindMethods()\n  }\n\n  // bind all instance method to this, to avoid calling with .bind(this)\n  fezRegisterBindMethods() {\n    const methods = Object.getOwnPropertyNames(Object.getPrototypeOf(this))\n      .filter(method => method !== 'constructor' && typeof this[method] === 'function')\n\n    methods.forEach(method => this[method] = this[method].bind(this))\n  }\n\n  // dissolve into parent, if you want to promote first child or given node with this.root\n  dissolve(inNode) {\n    if (inNode) {\n      inNode.classList.add('fez')\n      inNode.classList.add(`fez-${this.fezName}`)\n      inNode.fez = this\n      if (this.attr('id')) inNode.setAttribute('id', this.attr('id'))\n\n      this.root.innerHTML = ''\n      this.root.appendChild(inNode)\n    }\n\n    const node = this.root\n    const nodes = this.childNodes()\n    const parent = this.root.parentNode\n\n    nodes.reverse().forEach(el => parent.insertBefore(el, node.nextSibling))\n\n    this.root.remove()\n    this.root = undefined\n\n    if (inNode) {\n      this.root = inNode\n    }\n\n    return nodes\n  }\n\n  reactiveStore(obj, handler) {\n    obj ||= {}\n\n    handler ||= (o, k, v, oldValue) => {\n      this.onStateChange(k, v, oldValue)\n      this.nextTick(this.render, 'render')\n    }\n\n    handler.bind(this)\n\n    // licence ? -> generated by ChatGPT 2024\n    function createReactive(obj, handler) {\n      if (typeof obj !== 'object' || obj === null) {\n        return obj;\n      }\n\n      return new Proxy(obj, {\n        set(target, property, value, receiver) {\n          // Get the current value of the property\n          const currentValue = Reflect.get(target, property, receiver);\n\n          // Only proceed if the new value is different from the current value\n          if (currentValue !== value) {\n            if (typeof value === 'object' && value !== null) {\n              value = createReactive(value, handler); // Recursively make nested objects reactive\n            }\n\n            // Set the new value\n            const result = Reflect.set(target, property, value, receiver);\n\n            // Call the handler only if the value has changed\n            handler(target, property, value, currentValue);\n\n            return result;\n          }\n\n          // If the value hasn't changed, return true (indicating success) without calling the handler\n          return true;\n        },\n        get(target, property, receiver) {\n          const value = Reflect.get(target, property, receiver);\n          if (typeof value === 'object' && value !== null) {\n            return createReactive(value, handler); // Recursively make nested objects reactive\n          }\n          return value;\n        }\n      });\n    }\n\n    return createReactive(obj, handler);\n  }\n}\n", "/**\n * Skipped minification because the original files appears to be already minified.\n * Original file: /npm/goober@2.1.14/dist/goober.modern.js\n *\n * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files\n */\nlet e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,a=e=>{let a=t(e),r=a.data;return a.data=\"\",r},r=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,l=/\\/\\*[^]*?\\*\\/|  +/g,s=/\\n+/g,n=(e,t)=>{let a=\"\",r=\"\",l=\"\";for(let s in e){let o=e[s];\"@\"==s[0]?\"i\"==s[1]?a=s+\" \"+o+\";\":r+=\"f\"==s[1]?n(o,s):s+\"{\"+n(o,\"k\"==s[1]?\"\":t)+\"}\":\"object\"==typeof o?r+=n(o,t?t.replace(/([^,])+/g,(e=>s.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)))):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,\"-$&\").toLowerCase(),l+=n.p?n.p(s,o):s+\":\"+o+\";\")}return a+(t&&l?t+\"{\"+l+\"}\":l)+r},o={},c=e=>{if(\"object\"==typeof e){let t=\"\";for(let a in e)t+=a+c(e[a]);return t}return e},i=(e,t,a,i,p)=>{let u=c(e),d=o[u]||(o[u]=(e=>{let t=0,a=11;for(;t<e.length;)a=101*a+e.charCodeAt(t++)>>>0;return\"go\"+a})(u));if(!o[d]){let t=u!==e?e:(e=>{let t,a,n=[{}];for(;t=r.exec(e.replace(l,\"\"));)t[4]?n.shift():t[3]?(a=t[3].replace(s,\" \").trim(),n.unshift(n[0][a]=n[0][a]||{})):n[0][t[1]]=t[2].replace(s,\" \").trim();return n[0]})(e);o[d]=n(p?{[\"@keyframes \"+d]:t}:t,a?\"\":\".\"+d)}let f=a&&o.g?o.g:null;return a&&(o.g=o[d]),((e,t,a,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=a?e+t.data:t.data+e)})(o[d],t,i,f),d},p=(e,t,a)=>e.reduce(((e,r,l)=>{let s=t[l];if(s&&s.call){let e=s(a),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":n(e,\"\"):!1===e?\"\":e}return e+r+(null==s?\"\":s)}),\"\");function u(e){let a=this||{},r=e.call?e(a.p):e;return i(r.unshift?r.raw?p(r,[].slice.call(arguments,1),a.p):r.reduce(((e,t)=>Object.assign(e,t&&t.call?t(a.p):t)),{}):r,t(a.target),a.g,a.o,a.k)}let d,f,g,b=u.bind({g:1}),m=u.bind({k:1});function h(e,t,a,r){n.p=t,d=e,f=a,g=r}function y(e,t){let a=this||{};return function(){let r=arguments;function l(s,n){let o=Object.assign({},s),c=o.className||l.className;a.p=Object.assign({theme:f&&f()},o),a.o=/ *go\\d+/.test(c),o.className=u.apply(a,r)+(c?\" \"+c:\"\"),t&&(o.ref=n);let i=e;return e[0]&&(i=o.as||e,delete o.as),g&&i[0]&&g(o),d(i,o)}return t?t(l):l}}\nexport default { css:u, extractCss: a, glob: b, keyframes: m, setup: h, styled: y }\n", "// base IIFE to define idiomorph\nvar Idiomorph = (function () {\n        'use strict';\n\n        //=============================================================================\n        // AND NOW IT BEGINS...\n        //=============================================================================\n        let EMPTY_SET = new Set();\n\n        // default configuration values, updatable by users now\n        let defaults = {\n            morphStyle: \"outerHTML\",\n            callbacks : {\n                beforeNodeAdded: noOp,\n                afterNodeAdded: noOp,\n                beforeNodeMorphed: noOp,\n                afterNodeMorphed: noOp,\n                beforeNodeRemoved: noOp,\n                afterNodeRemoved: noOp,\n                beforeAttributeUpdated: noOp,\n\n            },\n            head: {\n                style: 'merge',\n                shouldPreserve: function (elt) {\n                    return elt.getAttribute(\"im-preserve\") === \"true\";\n                },\n                shouldReAppend: function (elt) {\n                    return elt.getAttribute(\"im-re-append\") === \"true\";\n                },\n                shouldRemove: noOp,\n                afterHeadMorphed: noOp,\n            }\n        };\n\n        //=============================================================================\n        // Core Morphing Algorithm - morph, morphNormalizedContent, morphOldNodeTo, morphChildren\n        //=============================================================================\n        function morph(oldNode, newContent, config = {}) {\n\n            if (oldNode instanceof Document) {\n                oldNode = oldNode.documentElement;\n            }\n\n            if (typeof newContent === 'string') {\n                newContent = parseContent(newContent);\n            }\n\n            let normalizedContent = normalizeContent(newContent);\n\n            let ctx = createMorphContext(oldNode, normalizedContent, config);\n\n            return morphNormalizedContent(oldNode, normalizedContent, ctx);\n        }\n\n        function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {\n            if (ctx.head.block) {\n                let oldHead = oldNode.querySelector('head');\n                let newHead = normalizedNewContent.querySelector('head');\n                if (oldHead && newHead) {\n                    let promises = handleHeadElement(newHead, oldHead, ctx);\n                    // when head promises resolve, call morph again, ignoring the head tag\n                    Promise.all(promises).then(function () {\n                        morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {\n                            head: {\n                                block: false,\n                                ignore: true\n                            }\n                        }));\n                    });\n                    return;\n                }\n            }\n\n            if (ctx.morphStyle === \"innerHTML\") {\n\n                // innerHTML, so we are only updating the children\n                morphChildren(normalizedNewContent, oldNode, ctx);\n                return oldNode.children;\n\n            } else if (ctx.morphStyle === \"outerHTML\" || ctx.morphStyle == null) {\n                // otherwise find the best element match in the new content, morph that, and merge its siblings\n                // into either side of the best match\n                let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);\n\n                // stash the siblings that will need to be inserted on either side of the best match\n                let previousSibling = bestMatch?.previousSibling;\n                let nextSibling = bestMatch?.nextSibling;\n\n                // morph it\n                let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);\n\n                if (bestMatch) {\n                    // if there was a best match, merge the siblings in too and return the\n                    // whole bunch\n                    return insertSiblings(previousSibling, morphedNode, nextSibling);\n                } else {\n                    // otherwise nothing was added to the DOM\n                    return []\n                }\n            } else {\n                throw \"Do not understand how to morph style \" + ctx.morphStyle;\n            }\n        }\n\n\n        /**\n         * @param possibleActiveElement\n         * @param ctx\n         * @returns {boolean}\n         */\n        function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n            return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;\n        }\n\n        /**\n         * @param oldNode root node to merge content into\n         * @param newContent new content to merge\n         * @param ctx the merge context\n         * @returns {Element} the element that ended up in the DOM\n         */\n        function morphOldNodeTo(oldNode, newContent, ctx) {\n            if (ctx.ignoreActive && oldNode === document.activeElement) {\n                // don't morph focused element\n            } else if (newContent == null) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n\n                oldNode.remove();\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return null;\n            } else if (!isSoftMatch(oldNode, newContent)) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n                if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;\n\n                oldNode.parentElement.replaceChild(newContent, oldNode);\n                ctx.callbacks.afterNodeAdded(newContent);\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return newContent;\n            } else {\n                if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;\n\n                if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) {\n                    // ignore the head element\n                } else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== \"morph\") {\n                    handleHeadElement(newContent, oldNode, ctx);\n                } else {\n                    syncNodeFrom(newContent, oldNode, ctx);\n                    if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n                        morphChildren(newContent, oldNode, ctx);\n                    }\n                }\n                ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n                return oldNode;\n            }\n        }\n\n        /**\n         * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n         * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n         * by using id sets, we are able to better match up with content deeper in the DOM.\n         *\n         * Basic algorithm is, for each node in the new content:\n         *\n         * - if we have reached the end of the old parent, append the new content\n         * - if the new content has an id set match with the current insertion point, morph\n         * - search for an id set match\n         * - if id set match found, morph\n         * - otherwise search for a \"soft\" match\n         * - if a soft match is found, morph\n         * - otherwise, prepend the new node before the current insertion point\n         *\n         * The two search algorithms terminate if competing node matches appear to outweigh what can be achieved\n         * with the current node.  See findIdSetMatch() and findSoftMatch() for details.\n         *\n         * @param {Element} newParent the parent element of the new content\n         * @param {Element } oldParent the old content that we are merging the new content into\n         * @param ctx the merge context\n         */\n        function morphChildren(newParent, oldParent, ctx) {\n\n            let nextNewChild = newParent.firstChild;\n            let insertionPoint = oldParent.firstChild;\n            let newChild;\n\n            // run through all the new content\n            while (nextNewChild) {\n\n                newChild = nextNewChild;\n                nextNewChild = newChild.nextSibling;\n\n                // if we are at the end of the exiting parent's children, just append\n                if (insertionPoint == null) {\n                    if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                    oldParent.appendChild(newChild);\n                    ctx.callbacks.afterNodeAdded(newChild);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // if the current node has an id set match then morph\n                if (isIdSetMatch(newChild, insertionPoint, ctx)) {\n                    morphOldNodeTo(insertionPoint, newChild, ctx);\n                    insertionPoint = insertionPoint.nextSibling;\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // otherwise search forward in the existing old children for an id set match\n                let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a potential match, remove the nodes until that point and morph\n                if (idSetMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);\n                    morphOldNodeTo(idSetMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // no id set match found, so scan forward for a soft match for the current node\n                let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a soft match for the current node, morph\n                if (softMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);\n                    morphOldNodeTo(softMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // abandon all hope of morphing, just insert the new child before the insertion point\n                // and move on\n                if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                oldParent.insertBefore(newChild, insertionPoint);\n                ctx.callbacks.afterNodeAdded(newChild);\n                removeIdsFromConsideration(ctx, newChild);\n            }\n\n            // remove any remaining old nodes that didn't match up with new content\n            while (insertionPoint !== null) {\n\n                let tempNode = insertionPoint;\n                insertionPoint = insertionPoint.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n        }\n\n        //=============================================================================\n        // Attribute Syncing Code\n        //=============================================================================\n\n        /**\n         * @param attr {String} the attribute to be mutated\n         * @param to {Element} the element that is going to be updated\n         * @param updateType {(\"update\"|\"remove\")}\n         * @param ctx the merge context\n         * @returns {boolean} true if the attribute should be ignored, false otherwise\n         */\n        function ignoreAttribute(attr, to, updateType, ctx) {\n            if(attr === 'value' && ctx.ignoreActiveValue && to === document.activeElement){\n                return true;\n            }\n            return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;\n        }\n\n        /**\n         * syncs a given node with another node, copying over all attributes and\n         * inner element state from the 'from' node to the 'to' node\n         *\n         * @param {Element} from the element to copy attributes & state from\n         * @param {Element} to the element to copy attributes & state to\n         * @param ctx the merge context\n         */\n        function syncNodeFrom(from, to, ctx) {\n            let type = from.nodeType\n\n            // if is an element type, sync the attributes from the\n            // new node into the new node\n            if (type === 1 /* element type */) {\n                const fromAttributes = from.attributes;\n                const toAttributes = to.attributes;\n                for (const fromAttribute of fromAttributes) {\n                    if (ignoreAttribute(fromAttribute.name, to, 'update', ctx)) {\n                        continue;\n                    }\n\n                    try {\n                        if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {\n                            to.setAttribute(fromAttribute.name, fromAttribute.value);\n                        }\n                    } catch (error) {\n                        // dux fix\n                        console.error('Error setting attribute:', {\n                            badNode: to,\n                            badAttribute: fromAttribute,\n                            error: error.message,\n                        });\n                    }\n                }\n                // iterate backwards to avoid skipping over items when a delete occurs\n                for (let i = toAttributes.length - 1; 0 <= i; i--) {\n                    const toAttribute = toAttributes[i];\n                    if (ignoreAttribute(toAttribute.name, to, 'remove', ctx)) {\n                        continue;\n                    }\n                    if (!from.hasAttribute(toAttribute.name)) {\n                        to.removeAttribute(toAttribute.name);\n                    }\n                }\n            }\n\n            // sync text nodes\n            if (type === 8 /* comment */ || type === 3 /* text */) {\n                if (to.nodeValue !== from.nodeValue) {\n                    to.nodeValue = from.nodeValue;\n                }\n            }\n\n            if (!ignoreValueOfActiveElement(to, ctx)) {\n                // sync input values\n                syncInputValue(from, to, ctx);\n            }\n        }\n\n        /**\n         * @param from {Element} element to sync the value from\n         * @param to {Element} element to sync the value to\n         * @param attributeName {String} the attribute name\n         * @param ctx the merge context\n         */\n        function syncBooleanAttribute(from, to, attributeName, ctx) {\n            if (from[attributeName] !== to[attributeName]) {\n                let ignoreUpdate = ignoreAttribute(attributeName, to, 'update', ctx);\n                if (!ignoreUpdate) {\n                    to[attributeName] = from[attributeName];\n                }\n                if (from[attributeName]) {\n                    if (!ignoreUpdate) {\n                        to.setAttribute(attributeName, from[attributeName]);\n                    }\n                } else {\n                    if (!ignoreAttribute(attributeName, to, 'remove', ctx)) {\n                        to.removeAttribute(attributeName);\n                    }\n                }\n            }\n        }\n\n        /**\n         * NB: many bothans died to bring us information:\n         *\n         *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n         *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n         *\n         * @param from {Element} the element to sync the input value from\n         * @param to {Element} the element to sync the input value to\n         * @param ctx the merge context\n         */\n        function syncInputValue(from, to, ctx) {\n            if (from instanceof HTMLInputElement &&\n                to instanceof HTMLInputElement &&\n                from.type !== 'file') {\n\n                let fromValue = from.value;\n                let toValue = to.value;\n\n                // sync boolean attributes\n                syncBooleanAttribute(from, to, 'checked', ctx);\n                syncBooleanAttribute(from, to, 'disabled', ctx);\n\n                if (!from.hasAttribute('value')) {\n                    if (!ignoreAttribute('value', to, 'remove', ctx)) {\n                        to.value = '';\n                        to.removeAttribute('value');\n                    }\n                } else if (fromValue !== toValue) {\n                    if (!ignoreAttribute('value', to, 'update', ctx)) {\n                        to.setAttribute('value', fromValue);\n                        to.value = fromValue;\n                    }\n                }\n            } else if (from instanceof HTMLOptionElement) {\n                syncBooleanAttribute(from, to, 'selected', ctx)\n            } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {\n                let fromValue = from.value;\n                let toValue = to.value;\n                if (ignoreAttribute('value', to, 'update', ctx)) {\n                    return;\n                }\n                if (fromValue !== toValue) {\n                    to.value = fromValue;\n                }\n                if (to.firstChild && to.firstChild.nodeValue !== fromValue) {\n                    to.firstChild.nodeValue = fromValue\n                }\n            }\n        }\n\n        //=============================================================================\n        // the HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n        //=============================================================================\n        function handleHeadElement(newHeadTag, currentHead, ctx) {\n\n            let added = []\n            let removed = []\n            let preserved = []\n            let nodesToAppend = []\n\n            let headMergeStyle = ctx.head.style;\n\n            // put all new head elements into a Map, by their outerHTML\n            let srcToNewHeadNodes = new Map();\n            for (const newHeadChild of newHeadTag.children) {\n                srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n            }\n\n            // for each elt in the current head\n            for (const currentHeadElt of currentHead.children) {\n\n                // If the current head element is in the map\n                let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n                let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n                let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n                if (inNewContent || isPreserved) {\n                    if (isReAppended) {\n                        // remove the current version and let the new version replace it and re-execute\n                        removed.push(currentHeadElt);\n                    } else {\n                        // this element already exists and should not be re-appended, so remove it from\n                        // the new content map, preserving it in the DOM\n                        srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n                        preserved.push(currentHeadElt);\n                    }\n                } else {\n                    if (headMergeStyle === \"append\") {\n                        // we are appending and this existing element is not new content\n                        // so if and only if it is marked for re-append do we do anything\n                        if (isReAppended) {\n                            removed.push(currentHeadElt);\n                            nodesToAppend.push(currentHeadElt);\n                        }\n                    } else {\n                        // if this is a merge, we remove this content since it is not in the new head\n                        if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n                            removed.push(currentHeadElt);\n                        }\n                    }\n                }\n            }\n\n            // Push the remaining new head elements in the Map into the\n            // nodes to append to the head tag\n            nodesToAppend.push(...srcToNewHeadNodes.values());\n            log(\"to append: \", nodesToAppend);\n\n            let promises = [];\n            for (const newNode of nodesToAppend) {\n                log(\"adding: \", newNode);\n                let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;\n                log(newElt);\n                if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n                    if (newElt.href || newElt.src) {\n                        let resolve = null;\n                        let promise = new Promise(function (_resolve) {\n                            resolve = _resolve;\n                        });\n                        newElt.addEventListener('load', function () {\n                            resolve();\n                        });\n                        promises.push(promise);\n                    }\n                    currentHead.appendChild(newElt);\n                    ctx.callbacks.afterNodeAdded(newElt);\n                    added.push(newElt);\n                }\n            }\n\n            // remove all removed elements, after we have appended the new elements to avoid\n            // additional network requests for things like style sheets\n            for (const removedElement of removed) {\n                if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n                    currentHead.removeChild(removedElement);\n                    ctx.callbacks.afterNodeRemoved(removedElement);\n                }\n            }\n\n            ctx.head.afterHeadMorphed(currentHead, {added: added, kept: preserved, removed: removed});\n            return promises;\n        }\n\n        //=============================================================================\n        // Misc\n        //=============================================================================\n\n        function log() {\n            //console.log(arguments);\n        }\n\n        function noOp() {\n        }\n\n        /*\n          Deep merges the config object and the Idiomoroph.defaults object to\n          produce a final configuration object\n         */\n        function mergeDefaults(config) {\n            let finalConfig = {};\n            // copy top level stuff into final config\n            Object.assign(finalConfig, defaults);\n            Object.assign(finalConfig, config);\n\n            // copy callbacks into final config (do this to deep merge the callbacks)\n            finalConfig.callbacks = {};\n            Object.assign(finalConfig.callbacks, defaults.callbacks);\n            Object.assign(finalConfig.callbacks, config.callbacks);\n\n            // copy head config into final config  (do this to deep merge the head)\n            finalConfig.head = {};\n            Object.assign(finalConfig.head, defaults.head);\n            Object.assign(finalConfig.head, config.head);\n            return finalConfig;\n        }\n\n        function createMorphContext(oldNode, newContent, config) {\n            config = mergeDefaults(config);\n            return {\n                target: oldNode,\n                newContent: newContent,\n                config: config,\n                morphStyle: config.morphStyle,\n                ignoreActive: config.ignoreActive,\n                ignoreActiveValue: config.ignoreActiveValue,\n                idMap: createIdMap(oldNode, newContent),\n                deadIds: new Set(),\n                callbacks: config.callbacks,\n                head: config.head\n            }\n        }\n\n        function isIdSetMatch(node1, node2, ctx) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {\n                if (node1.id !== \"\" && node1.id === node2.id) {\n                    return true;\n                } else {\n                    return getIdIntersectionCount(ctx, node1, node2) > 0;\n                }\n            }\n            return false;\n        }\n\n        function isSoftMatch(node1, node2) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName\n        }\n\n        function removeNodesBetween(startInclusive, endExclusive, ctx) {\n            while (startInclusive !== endExclusive) {\n                let tempNode = startInclusive;\n                startInclusive = startInclusive.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n            removeIdsFromConsideration(ctx, endExclusive);\n            return endExclusive.nextSibling;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential id match\n        // for the newChild.  We stop if we find a potential id match for the new child OR\n        // if the number of potential id matches we are discarding is greater than the\n        // potential id matches for the new child\n        //=============================================================================\n        function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            // max id matches we are willing to discard in our search\n            let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);\n\n            let potentialMatch = null;\n\n            // only search forward if there is a possibility of an id match\n            if (newChildPotentialIdCount > 0) {\n                let potentialMatch = insertionPoint;\n                // if there is a possibility of an id match, scan forward\n                // keep track of the potential id match count we are discarding (the\n                // newChildPotentialIdCount must be greater than this to make it likely\n                // worth it)\n                let otherMatchCount = 0;\n                while (potentialMatch != null) {\n\n                    // If we have an id match, return the current potential match\n                    if (isIdSetMatch(newChild, potentialMatch, ctx)) {\n                        return potentialMatch;\n                    }\n\n                    // computer the other potential matches of this new content\n                    otherMatchCount += getIdIntersectionCount(ctx, potentialMatch, newContent);\n                    if (otherMatchCount > newChildPotentialIdCount) {\n                        // if we have more potential id matches in _other_ content, we\n                        // do not have a good candidate for an id match, so return null\n                        return null;\n                    }\n\n                    // advanced to the next old content child\n                    potentialMatch = potentialMatch.nextSibling;\n                }\n            }\n            return potentialMatch;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential soft match\n        // for the newChild.  We stop if we find a potential soft match for the new child OR\n        // if we find a potential id match in the old parents children OR if we find two\n        // potential soft matches for the next two pieces of new content\n        //=============================================================================\n        function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            let potentialSoftMatch = insertionPoint;\n            let nextSibling = newChild.nextSibling;\n            let siblingSoftMatchCount = 0;\n\n            while (potentialSoftMatch != null) {\n\n                if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {\n                    // the current potential soft match has a potential id set match with the remaining new\n                    // content so bail out of looking\n                    return null;\n                }\n\n                // if we have a soft match with the current node, return it\n                if (isSoftMatch(newChild, potentialSoftMatch)) {\n                    return potentialSoftMatch;\n                }\n\n                if (isSoftMatch(nextSibling, potentialSoftMatch)) {\n                    // the next new node has a soft match with this node, so\n                    // increment the count of future soft matches\n                    siblingSoftMatchCount++;\n                    nextSibling = nextSibling.nextSibling;\n\n                    // If there are two future soft matches, bail to allow the siblings to soft match\n                    // so that we don't consume future soft matches for the sake of the current node\n                    if (siblingSoftMatchCount >= 2) {\n                        return null;\n                    }\n                }\n\n                // advanced to the next old content child\n                potentialSoftMatch = potentialSoftMatch.nextSibling;\n            }\n\n            return potentialSoftMatch;\n        }\n\n        function parseContent(newContent) {\n            let parser = new DOMParser();\n\n            // remove svgs to avoid false-positive matches on head, etc.\n            let contentWithSvgsRemoved = newContent.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim, '');\n\n            // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n            if (contentWithSvgsRemoved.match(/<\\/html>/) || contentWithSvgsRemoved.match(/<\\/head>/) || contentWithSvgsRemoved.match(/<\\/body>/)) {\n                let content = parser.parseFromString(newContent, \"text/html\");\n                // if it is a full HTML document, return the document itself as the parent container\n                if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n                    content.generatedByIdiomorph = true;\n                    return content;\n                } else {\n                    // otherwise return the html element as the parent container\n                    let htmlElement = content.firstChild;\n                    if (htmlElement) {\n                        htmlElement.generatedByIdiomorph = true;\n                        return htmlElement;\n                    } else {\n                        return null;\n                    }\n                }\n            } else {\n                // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n                // deal with touchy tags like tr, tbody, etc.\n                let responseDoc = parser.parseFromString(\"<body><template>\" + newContent + \"</template></body>\", \"text/html\");\n                let content = responseDoc.body.querySelector('template').content;\n                content.generatedByIdiomorph = true;\n                return content\n            }\n        }\n\n        function normalizeContent(newContent) {\n            if (newContent == null) {\n                // noinspection UnnecessaryLocalVariableJS\n                const dummyParent = document.createElement('div');\n                return dummyParent;\n            } else if (newContent.generatedByIdiomorph) {\n                // the template tag created by idiomorph parsing can serve as a dummy parent\n                return newContent;\n            } else if (newContent instanceof Node) {\n                // a single node is added as a child to a dummy parent\n                const dummyParent = document.createElement('div');\n                dummyParent.append(newContent);\n                return dummyParent;\n            } else {\n                // all nodes in the array or HTMLElement collection are consolidated under\n                // a single dummy parent element\n                const dummyParent = document.createElement('div');\n                for (const elt of [...newContent]) {\n                    dummyParent.append(elt);\n                }\n                return dummyParent;\n            }\n        }\n\n        function insertSiblings(previousSibling, morphedNode, nextSibling) {\n            let stack = []\n            let added = []\n            while (previousSibling != null) {\n                stack.push(previousSibling);\n                previousSibling = previousSibling.previousSibling;\n            }\n            while (stack.length > 0) {\n                let node = stack.pop();\n                added.push(node); // push added preceding siblings on in order and insert\n                morphedNode.parentElement.insertBefore(node, morphedNode);\n            }\n            added.push(morphedNode);\n            while (nextSibling != null) {\n                stack.push(nextSibling);\n                added.push(nextSibling); // here we are going in order, so push on as we scan, rather than add\n                nextSibling = nextSibling.nextSibling;\n            }\n            while (stack.length > 0) {\n                morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);\n            }\n            return added;\n        }\n\n        function findBestNodeMatch(newContent, oldNode, ctx) {\n            let currentElement;\n            currentElement = newContent.firstChild;\n            let bestElement = currentElement;\n            let score = 0;\n            while (currentElement) {\n                let newScore = scoreElement(currentElement, oldNode, ctx);\n                if (newScore > score) {\n                    bestElement = currentElement;\n                    score = newScore;\n                }\n                currentElement = currentElement.nextSibling;\n            }\n            return bestElement;\n        }\n\n        function scoreElement(node1, node2, ctx) {\n            if (isSoftMatch(node1, node2)) {\n                return .5 + getIdIntersectionCount(ctx, node1, node2);\n            }\n            return 0;\n        }\n\n        function removeNode(tempNode, ctx) {\n            removeIdsFromConsideration(ctx, tempNode)\n            if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;\n\n            tempNode.remove();\n            ctx.callbacks.afterNodeRemoved(tempNode);\n        }\n\n        //=============================================================================\n        // ID Set Functions\n        //=============================================================================\n\n        function isIdInConsideration(ctx, id) {\n            return !ctx.deadIds.has(id);\n        }\n\n        function idIsWithinNode(ctx, id, targetNode) {\n            let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;\n            return idSet.has(id);\n        }\n\n        function removeIdsFromConsideration(ctx, node) {\n            let idSet = ctx.idMap.get(node) || EMPTY_SET;\n            for (const id of idSet) {\n                ctx.deadIds.add(id);\n            }\n        }\n\n        function getIdIntersectionCount(ctx, node1, node2) {\n            let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;\n            let matchCount = 0;\n            for (const id of sourceSet) {\n                // a potential match is an id in the source and potentialIdsSet, but\n                // that has not already been merged into the DOM\n                if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {\n                    ++matchCount;\n                }\n            }\n            return matchCount;\n        }\n\n        /**\n         * A bottom up algorithm that finds all elements with ids inside of the node\n         * argument and populates id sets for those nodes and all their parents, generating\n         * a set of ids contained within all nodes for the entire hierarchy in the DOM\n         *\n         * @param node {Element}\n         * @param {Map<Node, Set<String>>} idMap\n         */\n        function populateIdMapForNode(node, idMap) {\n            let nodeParent = node.parentElement;\n            // find all elements with an id property\n            let idElements = node.querySelectorAll('[id]');\n            for (const elt of idElements) {\n                let current = elt;\n                // walk up the parent hierarchy of that element, adding the id\n                // of element to the parent's id set\n                while (current !== nodeParent && current != null) {\n                    let idSet = idMap.get(current);\n                    // if the id set doesn't exist, create it and insert it in the  map\n                    if (idSet == null) {\n                        idSet = new Set();\n                        idMap.set(current, idSet);\n                    }\n                    idSet.add(elt.id);\n                    current = current.parentElement;\n                }\n            }\n        }\n\n        /**\n         * This function computes a map of nodes to all ids contained within that node (inclusive of the\n         * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n         * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n         * to contribute to a parent nodes matching.\n         *\n         * @param {Element} oldContent  the old content that will be morphed\n         * @param {Element} newContent  the new content to morph to\n         * @returns {Map<Node, Set<String>>} a map of nodes to id sets for the\n         */\n        function createIdMap(oldContent, newContent) {\n            let idMap = new Map();\n            populateIdMapForNode(oldContent, idMap);\n            populateIdMapForNode(newContent, idMap);\n            return idMap;\n        }\n\n        //=============================================================================\n        // This is what ends up becoming the Idiomorph global object\n        //=============================================================================\n        return {\n            morph,\n            defaults\n        }\n    })();\n\nexport {Idiomorph};\n", "// pretty print HTML\nconst log_pretty_print = (html) => {\n  const parts = html\n    .split(/(<\\/?[^>]+>)/g)\n    .map(p => p.trim())\n    .filter(p => p);\n\n  let indent = 0;\n  const lines = [];\n\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i];\n    const nextPart = parts[i + 1];\n    const nextNextPart = parts[i + 2];\n\n    // Check if it's a tag\n    if (part.startsWith('<')) {\n      // Check if this is an opening tag followed by text and then its closing tag\n      if (!part.startsWith('</') && !part.endsWith('/>') && nextPart && !nextPart.startsWith('<') && nextNextPart && nextNextPart.startsWith('</')) {\n        // Combine them on one line\n        const actualIndent = Math.max(0, indent);\n        lines.push('  '.repeat(actualIndent) + part + nextPart + nextNextPart);\n        i += 2; // Skip the next two parts\n      }\n      // Closing tag\n      else if (part.startsWith('</')) {\n        indent--;\n        const actualIndent = Math.max(0, indent);\n        lines.push('  '.repeat(actualIndent) + part);\n      }\n      // Self-closing tag\n      else if (part.endsWith('/>') || part.includes(' />')) {\n        const actualIndent = Math.max(0, indent);\n        lines.push('  '.repeat(actualIndent) + part);\n      }\n      // Opening tag\n      else {\n        const actualIndent = Math.max(0, indent);\n        lines.push('  '.repeat(actualIndent) + part);\n        indent++;\n      }\n    }\n    // Text node\n    else if (part) {\n      const actualIndent = Math.max(0, indent);\n      lines.push('  '.repeat(actualIndent) + part);\n    }\n  }\n\n  return lines.join('\\n');\n}\n\nconst LOG = (() => {\n  const logs = [];\n  const logTypes = []; // Track the original type of each log\n  let currentIndex = 0;\n  let renderContent = null; // Will hold the render function\n\n  // Add ESC key handler and arrow key navigation\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      const dialog = document.getElementById('dump-dialog');\n      const button = document.getElementById('log-reopen-button');\n\n      if (dialog) {\n        // Close dialog\n        dialog.remove();\n        createLogButton();\n      } else if (button) {\n        // Open dialog\n        button.remove();\n        showLogDialog();\n      }\n    } else if (e.key === 'ArrowLeft' || e.key === 'ArrowRight' || e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      const dialog = document.getElementById('dump-dialog');\n      if (dialog && logs.length > 0) {\n        e.preventDefault();\n        if (e.key === 'ArrowLeft' && currentIndex > 0) {\n          currentIndex--;\n          localStorage.setItem('_LOG_INDEX', currentIndex);\n          renderContent();\n        } else if (e.key === 'ArrowRight' && currentIndex < logs.length - 1) {\n          currentIndex++;\n          localStorage.setItem('_LOG_INDEX', currentIndex);\n          renderContent();\n        } else if (e.key === 'ArrowUp' && currentIndex > 0) {\n          currentIndex = Math.max(0, currentIndex - 5);\n          localStorage.setItem('_LOG_INDEX', currentIndex);\n          renderContent();\n        } else if (e.key === 'ArrowDown' && currentIndex < logs.length - 1) {\n          currentIndex = Math.min(logs.length - 1, currentIndex + 5);\n          localStorage.setItem('_LOG_INDEX', currentIndex);\n          renderContent();\n        }\n      }\n    }\n  });\n\n  const createLogButton = () => {\n    let btn = document.getElementById('log-reopen-button');\n    if (!btn) {\n      btn = document.body.appendChild(document.createElement('button'));\n      btn.id = 'log-reopen-button';\n      btn.innerHTML = '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" style=\"vertical-align:middle;margin-right:4px\"><path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path><polyline points=\"14 2 14 8 20 8\"></polyline><line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line><line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line><polyline points=\"10 9 9 9 8 9\"></polyline></svg>LOG';\n      btn.style.cssText =\n        'position:fixed; top: 10px; right: 10px;' +\n        'padding:10px 20px;background:#ff3333;color:#fff;border:none;' +\n        'cursor:pointer;font:14px/1.4 monospace;z-index:2147483647;' +\n        'border-radius:8px;display:flex;align-items:center;' +\n        'opacity:1;visibility:visible;box-shadow:0 4px 12px rgba(255,51,51,0.3)';\n      btn.onclick = () => {\n        btn.remove();\n        showLogDialog();\n      };\n    }\n  };\n\n  const showLogDialog = () => {\n    let d = document.getElementById('dump-dialog');\n    if (!d) {\n      d = document.body.appendChild(document.createElement('div'));\n      d.id = 'dump-dialog';\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      d.style.cssText =\n        'position:absolute; top:' + (scrollTop + 20) + 'px; left: 20px; right:20px;' +\n        'background:#fff; border:1px solid #333; box-shadow:0 0 10px rgba(0,0,0,0.5);' +\n        'padding:20px; overflow:auto; z-index:2147483646; font:13px/1.4 monospace;' +\n        'white-space:pre; display:block; opacity:1; visibility:visible';\n    }\n\n    // Check if we have a saved index and it's still valid\n    const savedIndex = parseInt(localStorage.getItem('_LOG_INDEX'));\n    if (!isNaN(savedIndex) && savedIndex >= 0 && savedIndex < logs.length) {\n      currentIndex = savedIndex;\n    } else {\n      currentIndex = logs.length - 1;\n    }\n\n    renderContent = () => {\n      const buttons = logs.map((_, i) => {\n        let bgColor = '#f0f0f0'; // default\n        if (i !== currentIndex) {\n          if (logTypes[i] === 'object') {\n            bgColor = '#d6e3ef'; // super light blue\n          } else if (logTypes[i] === 'array') {\n            bgColor = '#d8d5ef'; // super light indigo\n          }\n        }\n        return `<button style=\"font-size: 14px; font-weight: 400; padding:2px 6px; margin: 0 2px 2px 0;cursor:pointer;background:${i === currentIndex ? '#333' : bgColor};color:${i === currentIndex ? '#fff' : '#000'}\" data-index=\"${i}\">${i + 1}</button>`\n      }).join('');\n\n      d.innerHTML =\n        '<div style=\"display:flex;flex-direction:column;height:100%\">' +\n        '<div style=\"display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px\">' +\n        '<div style=\"display:flex;flex-wrap:wrap;gap:4px;flex:1;margin-right:10px\">' + buttons + '</div>' +\n        '<button style=\"padding:4px 8px;cursor:pointer;flex-shrink:0\">&times;</button>' +\n        '</div>' +\n        '<xmp style=\"font-family:monospace;flex:1;overflow:auto;margin:0;padding:0;color:#000;background:#fff;font-size:14px;line-height:22px\">' + logs[currentIndex] + '</xmp>' +\n        '</div>';\n\n      d.querySelector('button[style*=\"flex-shrink:0\"]').onclick = () => {\n        d.remove();\n        createLogButton();\n      };\n\n      d.querySelectorAll('button[data-index]').forEach(btn => {\n        btn.onclick = () => {\n          currentIndex = parseInt(btn.dataset.index);\n          localStorage.setItem('_LOG_INDEX', currentIndex);\n          renderContent();\n        };\n      });\n    };\n\n    renderContent();\n  };\n\n  return o => {\n    if (!document.body) {\n      window.requestAnimationFrame( () => LOG(o) )\n      return\n    }\n\n    // Store the original type\n    let originalType = typeof o;\n\n    if (o instanceof Node) {\n      if (o.nodeType === Node.TEXT_NODE) {\n        o = o.textContent || String(o)\n      } else {\n        o = log_pretty_print(o.outerHTML)\n      }\n    }\n\n    if (o === undefined) { o = 'undefined' }\n    if (o === null) { o = 'null' }\n\n    if (Array.isArray(o)) {\n      originalType = 'array';\n    } else if (typeof o === 'object' && o !== null) {\n      originalType = 'object';\n    }\n\n    if (typeof o != 'string') {\n      o = JSON.stringify(o, (key, value) => {\n        if (typeof value === 'function') {\n          return String(value);\n        }\n        return value;\n      }, 2).replaceAll('<', '&lt;')\n    }\n\n    o = o.trim()\n\n    logs.push(o + `\\n\\ntype: ${originalType}`);\n    logTypes.push(originalType);\n\n    // Check if log dialog is open by checking for element\n    const isOpen = !!document.getElementById('dump-dialog');\n\n    if (!isOpen) {\n      // Show log dialog by default\n      showLogDialog();\n    } else {\n      // Update current index to the new log and refresh\n      currentIndex = logs.length - 1;\n      localStorage.setItem('_LOG_INDEX', currentIndex);\n      if (renderContent) {\n        renderContent();\n      }\n    }\n  };\n})();\n\nif (typeof window !== 'undefined' && !window.LOG) {\n  window.LOG = LOG\n}\n\nexport default LOG\n", "// Highlight all Fez elements with their names\nconst highlightAll = () => {\n  // Only work if Fez.DEV is true OR (port is above 2999 and Fez.DEV is not false)\n  const port = parseInt(window.location.port) || 80;\n  if (!(Fez.DEV === true || (port > 2999 && Fez.DEV !== false))) return;\n\n  // Check if highlights already exist\n  const existingHighlights = document.querySelectorAll('.fez-highlight-overlay');\n\n  if (existingHighlights.length > 0) {\n    // Remove existing highlights\n    existingHighlights.forEach(el => el.remove());\n    return;\n  }\n\n  // Find all Fez and Svelte elements\n  const allElements = document.querySelectorAll('.fez, .svelte');\n\n  allElements.forEach(el => {\n    let componentName = null;\n    let componentType = null;\n\n    // Check for Fez component\n    if (el.classList.contains('fez') && el.fez && el.fez.fezName) {\n      componentName = el.fez.fezName;\n      componentType = 'fez';\n    }\n    // Check for Svelte component\n    else if (el.classList.contains('svelte') && el.svelte && el.svelte.svelteName) {\n      componentName = el.svelte.svelteName;\n      componentType = 'svelte';\n    }\n\n    if (componentName) {\n      // Create overlay div\n      const overlay = document.createElement('div');\n      overlay.className = 'fez-highlight-overlay';\n\n      // Get element position\n      const rect = el.getBoundingClientRect();\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n\n      // Style the overlay\n      overlay.style.cssText = `\n        position: absolute;\n        top: ${rect.top + scrollTop}px;\n        left: ${rect.left + scrollLeft}px;\n        width: ${rect.width}px;\n        height: ${rect.height}px;\n        border: 1px solid ${componentType === 'svelte' ? 'blue' : 'red'};\n        pointer-events: none;\n        z-index: 9999;\n      `;\n\n      // Create label for component name\n      const label = document.createElement('div');\n      label.textContent = componentName;\n      label.style.cssText = `\n        position: absolute;\n        top: -20px;\n        left: 0;\n        background: ${componentType === 'svelte' ? 'blue' : 'red'};\n        color: white;\n        padding: 4px 6px 2px 6px;\n        font-size: 14px;\n        font-family: monospace;\n        line-height: 1;\n        white-space: nowrap;\n        cursor: pointer;\n        pointer-events: auto;\n        text-transform: uppercase;\n      `;\n\n      // Add click handler to dump the node\n      label.addEventListener('click', (e) => {\n        e.stopPropagation();\n        Fez.dump(el);\n      });\n\n      overlay.appendChild(label);\n      document.body.appendChild(overlay);\n    }\n  });\n}\n\n// Bind Ctrl+E to highlightAll\ndocument.addEventListener('keydown', (event) => {\n  if ((event.ctrlKey || event.metaKey) && event.key === 'e') {\n    // Check if target is not inside a form\n    if (!event.target.closest('form')) {\n      event.preventDefault();\n      highlightAll();\n    }\n  }\n});\n\nexport default highlightAll\n", "import createTemplate from './lib/template.js'\nimport FezBase from './instance.js'\n\n/**\n * Global mutation observer for reactive attribute changes\n * Watches for attribute changes and triggers component updates\n */\nconst observer = new MutationObserver((mutationsList, _) => {\n  for (const mutation of mutationsList) {\n    if (mutation.type === 'attributes') {\n      const fez = mutation.target.fez\n      const name = mutation.attributeName\n      const value = mutation.target.getAttribute(name)\n\n      if (fez) {\n        fez.props[name] = value\n        fez.onPropsChange(name, value)\n        // console.log(`The [${name}] attribute was modified to [${value}].`);\n      }\n    }\n  }\n});\n\n/**\n * Registers a new custom element with Fez framework\n * @param {string} name - Custom element name (must contain a dash)\n * @param {Class|Object} klass - Component class or configuration object\n * @example\n * Fez('my-component', class {\n *   HTML = '<div>Hello World</div>'\n *   CSS = '.my-component { color: blue; }'\n * })\n */\nexport default function connect(name, klass) {\n  const Fez = globalThis.window?.Fez || globalThis.Fez;\n  // Validate custom element name format (must contain a dash)\n  if (!name.includes('-')) {\n    console.error(`Fez: Invalid custom element name \"${name}\". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`)\n  }\n\n  // Transform simple class definitions into Fez components\n  if (!klass.fezHtmlRoot) {\n    const klassObj = new klass()\n    const newKlass = class extends FezBase {}\n\n    // Copy all properties and methods from the original class\n    const props = Object.getOwnPropertyNames(klassObj)\n      .concat(Object.getOwnPropertyNames(klass.prototype))\n      .filter(el => !['constructor', 'prototype'].includes(el))\n\n    props.forEach(prop => newKlass.prototype[prop] = klassObj[prop])\n\n    // Map component configuration properties\n    if (klassObj.FAST) { newKlass.FAST = klassObj.FAST }           // Global instance reference\n    if (klassObj.GLOBAL) { newKlass.GLOBAL = klassObj.GLOBAL }       // Global instance reference\n    if (klassObj.CSS) { newKlass.css = klassObj.CSS }                // Component styles\n    if (klassObj.HTML) {\n      newKlass.html = closeCustomTags(klassObj.HTML)                 // Component template\n    }\n    if (klassObj.NAME) { newKlass.nodeName = klassObj.NAME }         // Custom DOM node name\n\n    // Auto-mount global components to body\n    if (klassObj.GLOBAL) {\n      document.body.appendChild(document.createElement(name))\n    }\n\n    klass = newKlass\n\n    Fez.log(`${name} compiled`)\n  } else if (klass.html) {\n    // If klass already has html property, process it\n    klass.html = closeCustomTags(klass.html)\n  }\n\n  // Process component template\n  if (klass.html) {\n    let slotTag = klass.SLOT || 'div'\n\n    klass.html = klass.html\n      .replace('<slot', `<${slotTag} class=\"fez-slot\" fez-keep=\"default-slot\"`)\n      .replace('</slot>', `</${slotTag}>`)\n\n    // Compile template function\n    klass.fezHtmlFunc = createTemplate(klass.html)\n  }\n\n  // Register component styles globally (available to all components)\n  if (klass.css) {\n    klass.css = Fez.globalCss(klass.css, {name: name})\n  }\n\n  Fez.classes[name] = klass\n\n  if (!customElements.get(name)) {\n    customElements.define(name, class extends HTMLElement {\n      connectedCallback() {\n        // Fez.onReady(()=>{connectNode(name, this)})\n        // connectNode(name, this)\n        if (useFastRender(this, klass)) {\n          connectNode(name, this)\n        } else {\n          requestAnimationFrame(()=>{\n            connectNode(name, this)\n          })\n        }\n      }\n    })\n  }\n}\n\nfunction useFastRender(node, klass) {\n  const fezFast = node.getAttribute('fez-fast')\n  var isFast = typeof klass.FAST === 'function' ? klass.FAST(node) : klass.FAST\n  if (fezFast || isFast || node.childNodes[0] || node.nextSibling) {\n    return true\n  }\n  else if (fezFast == 'false') {\n    return false\n  }\n  else {\n    return false\n  }\n}\n\n/**\n * Converts self-closing custom tags to full open/close format\n * Required for proper HTML parsing of custom elements\n */\nfunction closeCustomTags(html) {\n  const selfClosingTags = new Set([\n    'area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'source', 'track', 'wbr'\n  ])\n\n  return html.replace(/<([a-z-]+)\\b([^>]*)\\/>/g, (match, tagName, attributes) => {\n    return selfClosingTags.has(tagName) ? match : `<${tagName}${attributes}></${tagName}>`\n  })\n}\n\n/**\n * Initializes a Fez component instance from a DOM node\n * Replaces the custom element with the component's rendered content\n */\nfunction connectNode(name, node) {\n  const klass = Fez.classes[name]\n  const parentNode = node.parentNode\n\n  if (node.isConnected) {\n    const nodeName = typeof klass.nodeName == 'function' ? klass.nodeName(node) : klass.nodeName\n    const newNode = document.createElement(nodeName || 'div')\n\n    newNode.classList.add('fez')\n    newNode.classList.add(`fez-${name}`)\n\n    parentNode.replaceChild(newNode, node);\n\n    const fez = new klass()\n\n    fez.UID = ++Fez.instanceCount\n    Fez.instances.set(fez.UID, fez)\n\n    fez.oldRoot = node\n    fez.fezName = name\n    fez.root = newNode\n    fez.props = klass.getProps(node, newNode)\n    fez.class = klass\n\n    // Move child nodes to preserve DOM event listeners\n    fez.slot(node, newNode)\n\n    newNode.fez = fez\n\n    if (klass.GLOBAL && klass.GLOBAL != true) {\n      window[klass.GLOBAL] = fez\n    }\n\n    if (window.$) {\n      fez.$root = $(newNode)\n    }\n\n    if (fez.props.id) {\n      newNode.setAttribute('id', fez.props.id)\n    }\n\n    // Component lifecycle initialization\n    fez.fezRegister()\n\n    // Call initialization method (init, created, or connect)\n    ;(fez.init || fez.created || fez.connect).bind(fez)(fez.props)\n\n    // Initial render\n    fez.render()\n    fez.firstRender = true\n\n    // Trigger mount lifecycle hook\n    fez.onMount(fez.props)\n\n    if (fez.onSubmit) {\n      const form = fez.root.nodeName == 'FORM' ? fez.root : fez.find('form')\n      form.onsubmit = (e) => {\n        e.preventDefault()\n        fez.onSubmit(fez.formData())\n      }\n    }\n\n    // Set up reactive attribute watching\n    if (fez.onPropsChange) {\n      observer.observe(newNode, {attributes:true})\n\n      // Trigger initial prop change callbacks\n      for (const [key, value] of Object.entries(fez.props)) {\n        fez.onPropsChange(key, value)\n      }\n    }\n  }\n}\n", "const compileToClass = (html) => {\n  const result = { script: '', style: '', html: '', head: '' }\n  const lines = html.split('\\n')\n\n  let currentBlock = []\n  let currentType = ''\n\n  for (var line of lines) {\n    line = line.trim()\n    if (line.startsWith('<script') && !result.script && currentType != 'head') {\n      currentType = 'script';\n    } else if (line.startsWith('<head') && !result.script) { // you must use XMP tag if you want to define <head> tag, and it has to be first\n      currentType = 'head';\n    } else if (line.startsWith('<style')) {\n      currentType = 'style';\n    } else if (line.endsWith('</script>') && currentType === 'script' && !result.script) {\n      result.script = currentBlock.join('\\n');\n      currentBlock = [];\n      currentType = null;\n    } else if (line.endsWith('</style>') && currentType === 'style') {\n      result.style = currentBlock.join('\\n');\n      currentBlock = [];\n      currentType = null;\n    } else if ((line.endsWith('</head>') || line.endsWith('</header>')) && currentType === 'head') {\n      result.head = currentBlock.join('\\n');\n      currentBlock = [];\n      currentType = null;\n    } else if (currentType) {\n      // if (currentType == 'script' && line.startsWith('//')) {\n      //   continue\n      // }\n      currentBlock.push(line);\n    } else {\n      result.html += line + '\\n';\n    }\n  }\n\n  if (result.head) {\n    const container = Fez.domRoot(result.head)\n\n    // Process all children of the container\n    Array.from(container.children).forEach(node => {\n      if (node.tagName === 'SCRIPT') {\n        const script = document.createElement('script')\n        // Copy all attributes\n        Array.from(node.attributes).forEach(attr => {\n          script.setAttribute(attr.name, attr.value)\n        })\n        script.type ||= 'text/javascript'\n\n        if (node.src) {\n          // External script - will load automatically\n          document.head.appendChild(script)\n        } else if (script.type.includes('javascript') || script.type == 'module') {\n          // Inline script - set content and execute\n          script.textContent = node.textContent\n          document.head.appendChild(script)\n        }\n      } else {\n        // For other elements (link, meta, etc.), just append them\n        document.head.appendChild(node.cloneNode(true))\n      }\n    })\n  }\n\n  let klass = result.script\n\n  if (!/class\\s+\\{/.test(klass)) {\n    klass = `class {\\n${klass}\\n}`\n  }\n\n  if (String(result.style).includes(':')) {\n    result.style = Fez.cssMixin(result.style)\n    result.style = result.style.includes(':fez') || /(?:^|\\s)body\\s*\\{/.test(result.style) ? result.style : `:fez {\\n${result.style}\\n}`\n    klass = klass.replace(/\\}\\s*$/, `\\n  CSS = \\`${result.style}\\`\\n}`)\n  }\n\n  if (/\\w/.test(String(result.html))) {\n    // escape backticks in whole template block\n    result.html = result.html.replaceAll('`', '&#x60;')\n    result.html = result.html.replaceAll('$', '\\\\$')\n    klass = klass.replace(/\\}\\s*$/, `\\n  HTML = \\`${result.html}\\`\\n}`)\n  }\n\n  return klass\n}\n\n// Handle single argument cases - compile all, compile node, or compile from URL\nfunction compile_bulk(data) {\n  if (data instanceof Node) {\n    const node = data\n    node.remove()\n\n    const fezName = node.getAttribute('fez')\n\n    // Check if fezName contains dot or slash (indicates URL)\n    if (fezName && (fezName.includes('.') || fezName.includes('/'))) {\n      compile_from_url(fezName)\n      return\n    } else {\n      // Validate fezName format for non-URL names\n      if (fezName && !fezName.includes('-')) {\n        console.error(`Fez: Invalid custom element name \"${fezName}\". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`)\n      }\n      compile(fezName, node.innerHTML)\n      return\n    }\n  }\n  else {\n    let root = data ? Fez.domRoot(data) : document.body\n\n    root.querySelectorAll('template[fez], xmp[fez]').forEach((n) => {\n      compile_bulk(n)\n    })\n\n    return\n  }\n}\n\nfunction compile_from_url(url) {\n  Fez.log(`Loading from ${url}`)\n\n  // Load HTML content via AJAX from URL\n  Fez.fetch(url)\n    .then(htmlContent => {\n      // Check if remote HTML has template/xmp tags with fez attribute\n      const parser = new DOMParser()\n      const doc = parser.parseFromString(htmlContent, 'text/html')\n      const fezElements = doc.querySelectorAll('template[fez], xmp[fez]')\n\n      if (fezElements.length > 0) {\n        // Compile each found fez element\n        fezElements.forEach(el => {\n          const name = el.getAttribute('fez')\n          if (name && !name.includes('-') && !name.includes('.') && !name.includes('/')) {\n            console.error(`Fez: Invalid custom element name \"${name}\". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`)\n          }\n          const content = el.innerHTML\n          compile(name, content)\n        })\n      } else {\n        // No fez elements found, use extracted name from URL\n        const name = url.split('/').pop().split('.')[0]\n        compile(name, htmlContent)\n      }\n    })\n    .catch(error => {\n      console.error(`FEZ template load error for \"${url}\": ${error.message}`)\n    })\n}\n\n// <template fez=\"ui-form\">\n//   <script>\n//     ...\n// Fez.compile()                                  # compile all\n// Fez.compile(templateNode)                      # compile template node or string with template or xmp tags\n// Fez.compile('ui-form', templateNode.innerHTML) # compile string\nfunction compile(tagName, html) {\n  // Handle single argument cases\n  if (arguments.length === 1) {\n    return compile_bulk(tagName)\n  }\n\n  // If html contains </xmp>, send to compile_bulk for processing\n  if (html && html.includes('</xmp>')) {\n    return compile_bulk(html)\n  }\n\n  // Validate element name if it's not a URL\n  if (tagName && !tagName.includes('-') && !tagName.includes('.') && !tagName.includes('/')) {\n    console.error(`Fez: Invalid custom element name \"${tagName}\". Custom element names must contain a dash (e.g., 'my-element', 'ui-button').`)\n  }\n\n  let klass = compileToClass(html)\n  let parts = klass.split(/class\\s+\\{/, 2)\n\n  klass = `${parts[0]};\\n\\nwindow.Fez('${tagName}', class {\\n${parts[1]})`\n\n  // Add tag to global hidden styles container\n  if (tagName) {\n    let styleContainer = document.getElementById('fez-hidden-styles')\n    if (!styleContainer) {\n      styleContainer = document.createElement('style')\n      styleContainer.id = 'fez-hidden-styles'\n      document.head.appendChild(styleContainer)\n    }\n    const allTags = [...Object.keys(Fez.classes), tagName].sort().join(', ')\n    styleContainer.textContent = `${allTags} { display: none; }\\n`\n  }\n\n  // we cant try/catch javascript modules (they use imports)\n  if (klass.includes('import ')) {\n    Fez.head({script: klass})\n\n    // best we can do it inform that node did not compile, so we assume there is an error\n    setTimeout(()=>{\n      if (!Fez.classes[tagName]) {\n        Fez.error(`Template \"${tagName}\" possible compile error. (can be a false positive, it imports are not loaded)`)\n      }\n    }, 2000)\n  } else {\n    try {\n      new Function(klass)()\n    } catch(e) {\n      Fez.error(`Template \"${tagName}\" compile error: ${e.message}`)\n      console.log(klass)\n    }\n  }\n}\n\nexport { compile_from_url }\nexport default compile\n", "// Global state manager with automatic component subscription\n//\n// Components access state via this.globalState proxy which automatically:\n// - Registers component as listener when reading a value\n// - Notifies component when that value changes\n// - Calls onGlobalStateChange(key, value) if defined, then render()\n//\n// Example usage:\n//\n//   class Counter extends FezBase {\n//     increment() {\n//       this.globalState.count = (this.globalState.count || 0) + 1\n//     }\n//\n//     onGlobalStateChange(key, value) {\n//       console.log(`State ${key} changed to ${value}`)\n//     }\n//\n//     render() {\n//       return `<button onclick=\"fez.increment()\">\n//         Count: ${this.globalState.count || 0}\n//       </button>`\n//     }\n//   }\n//\n// External access:\n//   Fez.state.set('count', 10)\n//   Fez.state.get('count') // 10\n\nconst GlobalState = {\n  data: {},\n  listeners: new Map(), // key -> Set of components\n  subscribers: new Map(), // key -> Set of functions (for subscribe method)\n  globalSubscribers: new Set(), // Set of functions that listen to all changes\n\n  notify(key, value, oldValue) {\n    Fez.log(`Global state change for ${key}: ${value} (from ${oldValue})`)\n\n    // Notify component listeners\n    const listeners = this.listeners.get(key)\n    if (listeners) {\n      listeners.forEach(comp => {\n        if (comp.isConnected) {\n          comp.onGlobalStateChange(key, value, oldValue)\n          comp.render()\n        } else {\n          listeners.delete(comp)\n        }\n      })\n    }\n\n    // Notify key-specific subscribers\n    const subscribers = this.subscribers.get(key)\n    if (subscribers) {\n      subscribers.forEach(func => {\n        try {\n          func(value, oldValue, key)\n        } catch (error) {\n          console.error(`Error in subscriber for key ${key}:`, error)\n        }\n      })\n    }\n\n    // Notify global subscribers\n    this.globalSubscribers.forEach(func => {\n      try {\n        func(key, value, oldValue)\n      } catch (error) {\n        console.error(`Error in global subscriber:`, error)\n      }\n    })\n  },\n\n  createProxy(component) {\n    return new Proxy({}, {\n      get: (target, key) => {\n        // Skip if already listening to this key\n        component._globalStateKeys ||= new Set()\n        if (!component._globalStateKeys.has(key)) {\n          component._globalStateKeys.add(key)\n\n          if (!this.listeners.has(key)) {\n            this.listeners.set(key, new Set())\n          }\n          this.listeners.get(key).add(component)\n        }\n\n        return this.data[key]\n      },\n\n      set: (target, key, value) => {\n        const oldValue = this.data[key]\n        if (oldValue !== value) {\n          this.data[key] = value\n          this.notify(key, value, oldValue)\n        }\n        return true\n      }\n    })\n  },\n\n  // Direct methods for use outside components\n  set(key, value) {\n    const oldValue = this.data[key]\n    if (oldValue !== value) {\n      this.data[key] = value\n      this.notify(key, value, oldValue)\n    }\n  },\n\n  get(key) {\n    return this.data[key]\n  },\n\n  // Execute function for each component listening to a key\n  forEach(key, func) {\n    const listeners = this.listeners.get(key)\n    if (listeners) {\n      listeners.forEach(comp => {\n        if (comp.isConnected) {\n          func(comp)\n        } else {\n          listeners.delete(comp)\n        }\n      })\n    }\n  },\n\n  // Subscribe to state changes\n  // Usage: Fez.state.subscribe(func) - listen to all changes\n  //        Fez.state.subscribe(key, func) - listen to specific key changes\n  subscribe(keyOrFunc, func) {\n    if (typeof keyOrFunc === 'function') {\n      // subscribe(func) - global subscription\n      this.globalSubscribers.add(keyOrFunc)\n      return () => this.globalSubscribers.delete(keyOrFunc)\n    } else {\n      // subscribe(key, func) - key-specific subscription\n      const key = keyOrFunc\n      if (!this.subscribers.has(key)) {\n        this.subscribers.set(key, new Set())\n      }\n      this.subscribers.get(key).add(func)\n      return () => {\n        const keySubscribers = this.subscribers.get(key)\n        if (keySubscribers) {\n          keySubscribers.delete(func)\n          if (keySubscribers.size === 0) {\n            this.subscribers.delete(key)\n          }\n        }\n      }\n    }\n  }\n}\n\nexport default GlobalState\n", "// Utility functions that extend Fez\nexport default (Fez) => {\n  // Script from URL\n  //   Fez.head({ js: 'https://example.com/script.js' });\n  // Script with attributes\n  //   Fez.head({ js: 'https://example.com/script.js', type: 'module', async: true });\n  // Script with callback\n  //   Fez.head({ js: 'https://example.com/script.js' }, () => { console.log('loaded') });\n  // Module loading with auto-import to window\n  //   Fez.head({ js: 'https://example.com/module.js', module: 'MyModule' }); // imports and sets window.MyModule\n  // CSS inclusion\n  //   Fez.head({ css: 'https://example.com/styles.css' });\n  // CSS with additional attributes and callback\n  //   Fez.head({ css: 'https://example.com/styles.css', media: 'print' }, () => { console.log('CSS loaded') })\n  // Inline script evaluation\n  //   Fez.head({ script: 'console.log(\"Hello world\")' })\n  // Extract from nodes\n  //   Fez.head(domNode)\n  Fez.head = (config, callback) => {\n    if (config.nodeName) {\n      if (config.nodeName == 'SCRIPT') {\n        Fez.head({script: config.innerText})\n        config.remove()\n      } else {\n        config.querySelectorAll('script').forEach((n) => Fez.head(n) )\n        config.querySelectorAll('template[fez], xmp[fez], script[fez]').forEach((n) => Fez.compile(n) )\n      }\n\n      return\n    }\n\n    if (typeof config !== 'object' || config === null) {\n      throw new Error('head requires an object parameter');\n    }\n\n    let src, attributes = {}, elementType;\n\n    if (config.script) {\n      if (config.script.includes('import ')) {\n        if (callback) {\n          Fez.error('Fez.head callback is not supported when script with import is passed (module context).')\n        }\n\n        // Evaluate inline script in context in the module\n        const script = document.createElement('script');\n        script.type = 'module';\n        script.textContent = config.script;\n        document.head.appendChild(script);\n        requestAnimationFrame(()=>script.remove())\n      } else {\n        try {\n          new Function(config.script)();\n          if (callback) callback();\n        } catch (error) {\n          Fez.error('Error executing script:', error);\n          console.log(config.script);\n        }\n      }\n      return;\n    } else if (config.js) {\n      src = config.js;\n      elementType = 'script';\n      // Copy all properties except 'js' as attributes\n      for (const [key, value] of Object.entries(config)) {\n        if (key !== 'js' && key !== 'module') {\n          attributes[key] = value;\n        }\n      }\n      // Handle module loading\n      if (config.module) {\n        attributes.type = 'module';\n      }\n    } else if (config.css) {\n      src = config.css;\n      elementType = 'link';\n      attributes.rel = 'stylesheet';\n      // Copy all properties except 'css' as attributes\n      for (const [key, value] of Object.entries(config)) {\n        if (key !== 'css') {\n          attributes[key] = value;\n        }\n      }\n    } else {\n      throw new Error('head requires either \"script\", \"js\" or \"css\" property');\n    }\n\n    const existingNode = document.querySelector(`${elementType}[src=\"${src}\"], ${elementType}[href=\"${src}\"]`);\n    if (existingNode) {\n      if (callback) callback();\n      return existingNode;\n    }\n\n    const element = document.createElement(elementType);\n\n    if (elementType === 'link') {\n      element.href = src;\n    } else {\n      element.src = src;\n    }\n\n    for (const [key, value] of Object.entries(attributes)) {\n      element.setAttribute(key, value);\n    }\n\n    if (callback || config.module) {\n      element.onload = () => {\n        // If module name is provided, import it and assign to window\n        if (config.module && elementType === 'script') {\n          import(src).then(module => {\n            window[config.module] = module.default || module[config.module] || module;\n          }).catch(error => {\n            console.error(`Error importing module ${config.module}:`, error);\n          });\n        }\n        if (callback) callback();\n      };\n    }\n\n    document.head.appendChild(element);\n\n    return element;\n  }\n\n  // Fetch wrapper with automatic caching and data handling\n  // Usage:\n  //   Fez.fetch(url) - GET request (default)\n  //   Fez.fetch(url, callback) - GET with callback\n  //   Fez.fetch(url, data) - GET with query params (?foo=bar&baz=qux)\n  //   Fez.fetch(url, data, callback) - GET with query params and callback\n  //   Fez.fetch('POST', url, data) - POST with FormData body (multipart/form-data)\n  //   Fez.fetch('POST', url, data, callback) - POST with FormData and callback\n  // Data object is automatically converted:\n  //   - GET: appended as URL query parameters\n  //   - POST: sent as FormData (multipart/form-data) without custom headers\n  Fez.fetch = function(...args) {\n    // Initialize cache if not exists\n    Fez._fetchCache ||= {};\n\n    let method = 'GET';\n    let url;\n    let callback;\n\n    // Check if first arg is HTTP method (uppercase letters)\n    if (typeof args[0] === 'string' && /^[A-Z]+$/.test(args[0])) {\n      method = args.shift();\n    }\n\n    // URL is required\n    url = args.shift();\n\n    // Check for data/options object\n    let opts = {};\n    let data = null;\n    if (typeof args[0] === 'object') {\n      data = args.shift();\n    }\n\n    // Check for callback function\n    if (typeof args[0] === 'function') {\n      callback = args.shift();\n    }\n\n    // Handle data based on method\n    if (data) {\n      if (method === 'GET') {\n        // For GET, append data as query parameters\n        const params = new URLSearchParams(data);\n        url += (url.includes('?') ? '&' : '?') + params.toString();\n      } else if (method === 'POST') {\n        // For POST, convert to FormData\n        const formData = new FormData();\n        for (const [key, value] of Object.entries(data)) {\n          formData.append(key, value);\n        }\n        opts.body = formData;\n      }\n    }\n\n    // Set method\n    opts.method = method;\n\n    // Create cache key from method, url, and stringified opts\n    const cacheKey = `${method}:${url}:${JSON.stringify(opts)}`;\n\n    // Check cache first\n    if (Fez._fetchCache[cacheKey]) {\n      const cachedData = Fez._fetchCache[cacheKey];\n      Fez.log(`fetch cache hit: ${method} ${url}`);\n      if (callback) {\n        callback(cachedData);\n        return;\n      }\n      return Promise.resolve(cachedData);\n    }\n\n    // Log live fetch\n    Fez.log(`fetch live: ${method} ${url}`);\n\n    // Helper to process and cache response\n    const processResponse = (response) => {\n      if (response.headers.get('content-type')?.includes('application/json')) {\n        return response.json();\n      }\n      return response.text();\n    };\n\n    // If callback provided, execute and handle\n    if (callback) {\n      fetch(url, opts)\n        .then(processResponse)\n        .then(data => {\n          Fez._fetchCache[cacheKey] = data;\n          callback(data);\n        })\n        .catch(error => Fez.onError('fetch', error));\n      return;\n    }\n\n    // Return promise with automatic JSON parsing\n    return fetch(url, opts)\n      .then(processResponse)\n      .then(data => {\n        Fez._fetchCache[cacheKey] = data;\n        return data;\n      });\n  }\n\n  Fez.darkenColor = (color, percent = 20) => {\n    // Convert hex to RGB\n    const num = parseInt(color.replace(\"#\", \"\"), 16)\n    const amt = Math.round(2.55 * percent)\n    const R = (num >> 16) - amt\n    const G = (num >> 8 & 0x00FF) - amt\n    const B = (num & 0x0000FF) - amt\n    return \"#\" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1)\n  }\n\n  Fez.lightenColor = (color, percent = 20) => {\n    // Convert hex to RGB\n    const num = parseInt(color.replace(\"#\", \"\"), 16)\n    const amt = Math.round(2.55 * percent)\n    const R = (num >> 16) + amt\n    const G = (num >> 8 & 0x00FF) + amt\n    const B = (num & 0x0000FF) + amt\n    return \"#\" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1)\n  }\n\n  Fez.htmlEscape = (text) => {\n    if (typeof text == 'string') {\n      text = text\n        // .replaceAll('&', \"&amp;\")\n        .replace(/font-family\\s*:\\s*(?:&[^;]+;|[^;])*?;/gi, '')\n        .replaceAll(\"&\", '&amp;')\n        .replaceAll(\"'\", '&apos;')\n        .replaceAll('\"', '&quot;')\n        .replaceAll('<', '&lt;')\n        .replaceAll('>', '&gt;')\n        // .replaceAll('@', '&#64;') // needed for template escaping\n\n      return text\n    } else {\n      return text === undefined ? '' : text\n    }\n  }\n\n  // create dom root and return it\n  Fez.domRoot = (data, name = 'div') => {\n    if (data instanceof Node) {\n      return data\n    } else {\n      const root = document.createElement(name)\n      root.innerHTML = data\n      return root\n    }\n  }\n\n  // add class by name to node and remove it from siblings\n  Fez.activateNode = (node, klass = 'active') => {\n    Array.from(node.parentElement.children).forEach(child => {\n      child.classList.remove(klass)\n    })\n    node.classList.add(klass)\n  }\n\n  Fez.isTrue = (val) => {\n    return ['1', 'true', 'on'].includes(String(val).toLowerCase())\n  }\n\n  // Resolve a function from a string or function reference\n  Fez.getFunction = (pointer) => {\n    if (!pointer) {\n      return ()=>{}\n    }\n    else if (typeof pointer === 'function') {\n      return pointer;\n    }\n    else if (typeof pointer === 'string') {\n      // Check if it's a function expression (arrow function or function keyword)\n      // Arrow function: (args) => or args =>\n      const arrowFuncPattern = /^\\s*\\(?\\s*\\w+(\\s*,\\s*\\w+)*\\s*\\)?\\s*=>/;\n      const functionPattern = /^\\s*function\\s*\\(/;\n\n      if (arrowFuncPattern.test(pointer) || functionPattern.test(pointer)) {\n        return new Function('return ' + pointer)();\n      } else if (pointer.includes('.') && !pointer.includes('(')) {\n        // It's a property access like \"this.focus\" - return a function that calls it\n        return new Function(`return function() { return ${pointer}(); }`);\n      } else {\n        // It's a function body\n        return new Function(pointer);\n      }\n    }\n  }\n\n  // Execute a function when DOM is ready or immediately if already loaded\n  Fez.onReady = (callback) => {\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', ()=>{\n        callback()\n      }, { once: true })\n    } else {\n      callback()\n    }\n  }\n\n  // get unique id from string\n  Fez.fnv1 = (str) => {\n    var FNV_OFFSET_BASIS, FNV_PRIME, hash, i, j, ref;\n    FNV_OFFSET_BASIS = 2166136261;\n    FNV_PRIME = 16777619;\n    hash = FNV_OFFSET_BASIS;\n    for (i = j = 0, ref = str.length - 1; (0 <= ref ? j <= ref : j >= ref); i = 0 <= ref ? ++j : --j) {\n      hash ^= str.charCodeAt(i);\n      hash *= FNV_PRIME;\n    }\n    return hash.toString(36).replaceAll('-', '');\n  }\n\n  Fez.tag = (tag, opts = {}, html = '') => {\n    const json = encodeURIComponent(JSON.stringify(opts))\n    return `<${tag} data-props=\"${json}\">${html}</${tag}>`\n    // const json = JSON.stringify(opts, null, 2)\n    // const data = `<script type=\"text/template\">${json}</script><${tag} data-json-template=\"true\">${html}</${tag}>`\n    // return data\n  }\n\n  // execute function until it returns true\n  Fez.untilTrue = (func, pingRate) => {\n    pingRate ||= 200\n\n    if (!func()) {\n      setTimeout(()=>{\n        Fez.untilTrue(func, pingRate)\n      } ,pingRate)\n    }\n  }\n\n  // throttle function calls\n  Fez.throttle = (func, delay = 200) => {\n    let lastRun = 0;\n    let timeout;\n\n    return function(...args) {\n      const now = Date.now();\n\n      if (now - lastRun >= delay) {\n        func.apply(this, args);\n        lastRun = now;\n      } else {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n          func.apply(this, args);\n          lastRun = Date.now();\n        }, delay - (now - lastRun));\n      }\n    };\n  }\n\n  // const firstTimeHash = new Map()\n  // Fez.firstTime = (key, func) => {\n  //   if ( !firstTimeHash.get(key) ) {\n  //     firstTimeHash.set(key, true)\n\n  //     if (func) {\n  //       func()\n  //     }\n\n  //     return true\n  //   }\n\n  //   return false\n  // }\n}\n", "// define custom style macro - simple scss mixin\n// :mobile { ... } -> @media (max-width:  768px) { ... }\n// @include mobile { ... } -> @media (max-width:  768px) { ... }\n// demo/fez/ui-style.fez\n\nconst CssMixins = {}\n\nexport default (Fez) => {\n  Fez.cssMixin = (name, content) => {\n    if (content) {\n      CssMixins[name] = content\n    } else {\n      Object.entries(CssMixins).forEach(([key, val])=>{\n        name = name.replaceAll(`:${key} `, `${val} `)\n        name = name.replaceAll(`@include ${key} `, `${val} `)\n      })\n\n      return name\n    }\n  }\n\n  Fez.cssMixin('mobile', '@media (max-width: 767px)')\n  Fez.cssMixin('tablet', '@media (min-width: 768px) and (max-width: 1023px)')\n  Fez.cssMixin('desktop', '@media (min-width:  1200px)')\n}\n", "// runtime scss\nimport Gobber from './vendor/gobber.js'\n\n// morph dom from one state to another\nimport { Idiomorph } from './vendor/idiomorph.js'\n\nimport objectDump from './utils/dump.js'\nimport highlightAll from './utils/highlight_all.js'\nimport connect from './connect.js'\nimport compile from './compile.js'\nimport state from './lib/global-state.js'\n\n// Fez('ui-slider')                             # first slider\n// Fez('ui-slider', (n)=>alert(n))              # find all and execute\n// Fez(this, 'ui-slider')                       # first parent ui-slider\n// Fez('ui-slider', class { init() { ... }}) # create Fez dom node\nconst Fez = (name, klass) => {\n  if(typeof name === 'number') {\n    const fez = Fez.instances.get(name)\n    if (fez) {\n      return fez\n    } else {\n      Fez.error(`Instance with UID \"${name}\" not found.`)\n    }\n  }\n  else if (name) {\n    if (klass) {\n      const isPureFn = typeof klass === 'function' && !/^\\s*class/.test(klass.toString()) && !/\\b(this|new)\\b/.test(klass.toString())\n\n      if (isPureFn) {\n        const list = Array\n          .from(document.querySelectorAll(`.fez.fez-${name}`))\n          .filter( n => n.fez )\n\n        list.forEach( el => klass(el.fez) )\n        return list\n      } else if (typeof klass != 'function') {\n        return Fez.find(name, klass)\n      } else {\n        return connect(name, klass)\n      }\n    } else {\n      const node = name.nodeName ? name.closest('.fez') : (\n        document.querySelector( name.includes('#') ? name : `.fez.fez-${name}` )\n      )\n      if (node) {\n        if (node.fez) {\n          return node.fez\n        } else {\n          Fez.error(`node \"${name}\" has no Fez attached.`)\n        }\n      } else {\n        Fez.error(`node \"${name}\" not found.`)\n      }\n    }\n  } else {\n    Fez.error('Fez() ?')\n  }\n}\n\nFez.classes = {}\nFez.instanceCount = 0\nFez.instances = new Map()\n\nFez.find = (onode, name) => {\n  let node = onode\n\n  if (typeof node == 'string') {\n    node = document.body.querySelector(node)\n  }\n\n  if (typeof node.val == 'function') {\n    node = node[0]\n  }\n\n  const klass = name ? `.fez.fez-${name}` : '.fez'\n\n  const closestNode = node.closest(klass)\n  if (closestNode && closestNode.fez) {\n    return closestNode.fez\n  } else {\n    console.error('Fez node connector not found', onode, node)\n  }\n}\n\nFez.cssClass = (text) => {\n  return Gobber.css(text)\n}\n\nFez.globalCss = (cssClass, opts = {}) => {\n  if (typeof cssClass === 'function') {\n    cssClass = cssClass()\n  }\n\n  if (cssClass.includes(':')) {\n    let text = cssClass\n      .split(\"\\n\")\n      .filter(line => !(/^\\s*\\/\\//.test(line)))\n      .join(\"\\n\")\n\n    if (opts.wrap) {\n      text = `:fez { ${text} }`\n    }\n\n    text = text.replace(/\\:fez|\\:host/, `.fez.fez-${opts.name}`)\n\n    cssClass = Fez.cssClass(text)\n  }\n\n  Fez.onReady(() => {\n    document.body.parentElement.classList.add(cssClass)\n  })\n\n  return cssClass\n}\n\nFez.info = () => {\n  console.log('Fez components:', Object.keys(Fez.classes || {}))\n}\n\nFez.morphdom = (target, newNode, opts = {}) => {\n  Array.from(target.attributes).forEach(attr => {\n    newNode.setAttribute(attr.name, attr.value)\n  })\n\n  Idiomorph.morph(target, newNode, {\n    morphStyle: 'outerHTML'\n  })\n\n  // remove whitespace on next node, if exists (you never want this)\n  const nextSibling = target.nextSibling\n  if (nextSibling?.nodeType === Node.TEXT_NODE && nextSibling.textContent.trim() === '') {\n    nextSibling.remove();\n  }\n}\n\nFez._globalSubs ||= new Map()\n\nFez.publish = (channel, ...args) => {\n  Fez._subs ||= {}\n  Fez._subs[channel] ||= []\n  Fez._subs[channel].forEach((el) => {\n    el[1].bind(el[0])(...args)\n  })\n\n  // Trigger global subscriptions\n  const subs = Fez._globalSubs.get(channel)\n  if (subs) {\n    subs.forEach((sub) => {\n      if (sub.node.isConnected) {\n        sub.callback.call(sub.node, ...args)\n      } else {\n        // Remove disconnected nodes from subscriptions\n        subs.delete(sub)\n      }\n    })\n  }\n}\n\nFez.subscribe = (node, eventName, callback) => {\n  // If second arg is function, shift arguments\n  if (typeof eventName === 'function') {\n    callback = eventName\n    eventName = node\n    node = document.body\n  }\n  \n  // Handle string selectors\n  if (typeof node === 'string') {\n    node = document.querySelector(node)\n  }\n  \n  if (!Fez._globalSubs.has(eventName)) {\n    Fez._globalSubs.set(eventName, new Set())\n  }\n  \n  const subs = Fez._globalSubs.get(eventName)\n  \n  // Remove existing subscription for same node and callback\n  subs.forEach(sub => {\n    if (sub.node === node && sub.callback === callback) {\n      subs.delete(sub)\n    }\n  })\n  \n  const subscription = { node, callback }\n  subs.add(subscription)\n  \n  // Return unsubscribe function\n  return () => {\n    subs.delete(subscription)\n  }\n}\n\nFez.error = (text, show) => {\n  text = `Fez: ${text}`\n  console.error(text)\n  if (show) {\n    return `<span style=\"border: 1px solid red; font-size: 14px; padding: 3px 7px; background: #fee; border-radius: 4px;\">${text}</span>`\n  }\n}\n\nFez.log = (text) => {\n  if (Fez.LOG === true) {\n    text = String(text).substring(0, 180)\n    console.log(`Fez: ${text}`)\n  }\n}\n\nFez.onError = (kind, message) => {\n  // Ensure kind is always a string\n  if (typeof kind !== 'string') {\n    throw new Error('Fez.onError: kind must be a string');\n  }\n\n  console.error(`${kind}: ${message.toString()}`);\n}\n\n// work with tmp store\nFez.store = {\n  store: new Map(),\n  counter: 0,\n\n  set(value) {\n    const key = this.counter++;\n    this.store.set(key, value);\n    return key;\n  },\n\n  get(key) {\n    return this.store.get(key);\n  },\n\n  delete(key) {\n    const value = this.store.get(key);\n    this.store.delete(key)\n    return value;\n  }\n};\n\n// Load utility functions\nimport addUtilities from './utility.js'\nimport cssMixin from './utils/css_mixin.js'\naddUtilities(Fez)\ncssMixin(Fez)\n\nFez.compile = compile\nFez.state = state\nFez.dump = objectDump\nFez.dump = highlightAll\n\nFez.onReady(() => {\n  Fez.log('Fez.LOG === true, logging enabled.')\n})\n\nexport default Fez\n", "// base class for custom dom objects\nimport FezBase from './fez/instance.js'\nif (typeof window !== 'undefined') window.FezBase = FezBase\n\n// base class for custom dom objects\nimport Fez from './fez/root.js'\nif (typeof window !== 'undefined') window.Fez = Fez\n\n// Load defaults after Fez is properly initialized\nimport('./fez/defaults.js')\n\n// clear all unattached nodes\nsetInterval(() => {\n  for (const [key, el] of Fez.instances) {\n    if (!el?.isConnected) {\n      // Fez.error(`Found junk instance that is not connected ${el.fezName}`)\n      el.fez?.fezOnDestroy()\n      Fez.instances.delete(key)\n    }\n  }\n}, 5_000)\n\n// define Fez observer\nconst observer = new MutationObserver((mutations) => {\n  for (const { addedNodes, removedNodes } of mutations) {\n    addedNodes.forEach((node) => {\n      if (node.nodeType !== 1) return; // only elements\n\n      if (node.matches('template[fez], xmp[fez], script[fez]')) {\n        Fez.compile(node);\n        node.remove();\n      }\n\n      if (node.querySelectorAll) {\n        const nestedTemplates = node.querySelectorAll('template[fez], xmp[fez], script[fez]');\n        nestedTemplates.forEach(template => {\n          Fez.compile(template);\n          template.remove();\n        });\n      }\n    });\n\n    removedNodes.forEach((node) => {\n      if (node.nodeType === 1 && node.querySelectorAll) {\n        const fezElements = node.querySelectorAll('.fez, :scope.fez');\n        fezElements\n          .forEach(el => {\n            if (el.fez && el.root) {\n              Fez.instances.delete(el.fez.UID)\n              el.fez.fezOnDestroy()\n            }\n          });\n      }\n    });\n  }\n});\n\n// start observing the whole document\nobserver.observe(document.documentElement, {\n  childList: true,\n  subtree: true\n});\n\nexport default Fez\nexport { Fez }\n"],
  "mappings": "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",
  "names": ["defaults_exports", "__export", "loadDefaults", "init_defaults", "__esmMin", "props", "tag", "data", "dom", "html", "nodeName", "el", "memoStore", "storedNode", "contentNode", "n", "name", "attrs", "data", "parts", "c", "node", "k", "v", "value", "parseBlock", "data", "ifStack", "el", "prefix", "createTemplate", "text", "opts", "match", "p1", "p2", "p3", "blocks", "_", "name", "block", "m1", "m2", "result", "content", "funcBody", "tplFunc", "o", "e", "FezBase", "node", "newNode", "attrs", "attr", "key", "val", "newVal", "e", "data", "formNode", "formData", "formObject", "value", "n", "name", "v", "klass", "callback", "eventName", "func", "delay", "throttledFunc", "el", "observer", "source", "target", "isSlot", "channel", "args", "handle_publish", "component", "sub", "comp", "parent", "text", "base", "template", "nodeName", "renderedTpl", "createTemplate", "fetchAttr", "classes", "lastClass", "c", "isCb", "newEl", "oldEl", "child", "newMemoEl", "newMemoElKey", "storedNode", "oldMemoEl", "oldMemoElKey", "selector", "tpl", "tick", "intervalID", "children", "tmpContainer", "method", "inNode", "nodes", "obj", "handler", "o", "k", "oldValue", "createReactive", "property", "receiver", "currentValue", "result", "e", "t", "a", "r", "l", "s", "n", "o", "c", "i", "p", "u", "d", "f", "g", "b", "m", "h", "y", "gobber_default", "Idiomorph", "EMPTY_SET", "defaults", "noOp", "elt", "morph", "oldNode", "newContent", "config", "parseContent", "normalizedContent", "normalizeContent", "ctx", "createMorphContext", "morphNormalizedContent", "normalizedNewContent", "oldHead", "newHead", "promises", "handleHeadElement", "morphChildren", "bestMatch", "findBestNodeMatch", "previousSibling", "nextSibling", "morphedNode", "morphOldNodeTo", "insertSiblings", "ignoreValueOfActiveElement", "possibleActiveElement", "isSoftMatch", "syncNodeFrom", "newParent", "oldParent", "nextNewChild", "insertionPoint", "newChild", "removeIdsFromConsideration", "isIdSetMatch", "idSetMatch", "findIdSetMatch", "removeNodesBetween", "softMatch", "findSoftMatch", "tempNode", "removeNode", "ignoreAttribute", "attr", "to", "updateType", "from", "type", "fromAttributes", "toAttributes", "fromAttribute", "error", "i", "toAttribute", "syncInputValue", "syncBooleanAttribute", "attributeName", "ignoreUpdate", "fromValue", "toValue", "newHeadTag", "currentHead", "added", "removed", "preserved", "nodesToAppend", "headMergeStyle", "srcToNewHeadNodes", "newHeadChild", "currentHeadElt", "inNewContent", "isReAppended", "isPreserved", "newNode", "newElt", "resolve", "promise", "_resolve", "removedElement", "log", "mergeDefaults", "finalConfig", "createIdMap", "node1", "node2", "getIdIntersectionCount", "startInclusive", "endExclusive", "newChildPotentialIdCount", "potentialMatch", "otherMatchCount", "potentialSoftMatch", "siblingSoftMatchCount", "parser", "contentWithSvgsRemoved", "content", "htmlElement", "dummyParent", "stack", "node", "currentElement", "bestElement", "score", "newScore", "scoreElement", "isIdInConsideration", "id", "idIsWithinNode", "targetNode", "idSet", "sourceSet", "matchCount", "populateIdMapForNode", "idMap", "nodeParent", "idElements", "current", "oldContent", "log_pretty_print", "html", "parts", "p", "indent", "lines", "i", "part", "nextPart", "nextNextPart", "actualIndent", "LOG", "logs", "logTypes", "currentIndex", "renderContent", "e", "dialog", "button", "createLogButton", "showLogDialog", "btn", "d", "scrollTop", "savedIndex", "buttons", "_", "bgColor", "originalType", "key", "value", "dump_default", "highlightAll", "port", "existingHighlights", "el", "componentName", "componentType", "overlay", "rect", "scrollTop", "scrollLeft", "label", "e", "event", "highlight_all_default", "observer", "mutationsList", "_", "mutation", "fez", "name", "value", "connect", "klass", "Fez", "closeCustomTags", "klassObj", "newKlass", "FezBase", "el", "prop", "slotTag", "createTemplate", "useFastRender", "connectNode", "node", "fezFast", "isFast", "html", "selfClosingTags", "match", "tagName", "attributes", "parentNode", "nodeName", "newNode", "form", "e", "key", "compileToClass", "html", "result", "lines", "currentBlock", "currentType", "line", "container", "node", "script", "attr", "klass", "compile_bulk", "data", "fezName", "compile_from_url", "compile", "n", "url", "htmlContent", "fezElements", "el", "name", "content", "error", "tagName", "parts", "styleContainer", "allTags", "e", "compile_default", "compile", "GlobalState", "key", "value", "oldValue", "listeners", "comp", "subscribers", "func", "error", "component", "target", "keyOrFunc", "keySubscribers", "global_state_default", "utility_default", "Fez", "config", "callback", "n", "src", "attributes", "elementType", "script", "error", "key", "value", "existingNode", "element", "module", "args", "method", "url", "opts", "data", "params", "formData", "cacheKey", "cachedData", "processResponse", "response", "color", "percent", "num", "amt", "R", "G", "B", "text", "name", "root", "node", "klass", "child", "val", "pointer", "arrowFuncPattern", "functionPattern", "str", "FNV_OFFSET_BASIS", "FNV_PRIME", "hash", "j", "ref", "tag", "html", "json", "func", "pingRate", "delay", "lastRun", "timeout", "now", "CssMixins", "css_mixin_default", "Fez", "name", "content", "key", "val", "Fez", "name", "klass", "fez", "list", "el", "connect", "node", "onode", "closestNode", "text", "gobber_default", "cssClass", "opts", "line", "target", "newNode", "attr", "Idiomorph", "nextSibling", "channel", "args", "subs", "sub", "eventName", "callback", "subscription", "show", "kind", "message", "value", "key", "utility_default", "css_mixin_default", "compile_default", "global_state_default", "dump_default", "highlight_all_default", "root_default", "FezBase", "root_default", "key", "el", "observer", "mutations", "addedNodes", "removedNodes", "node", "template", "fez_default"]
}
