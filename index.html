

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test</title>
  <link rel="icon" href="./demo/fez.png">
  <link rel="stylesheet" href="./demo/main.css" />
  <link rel="stylesheet" href="./demo/hjs-theme.css" />
  <link rel="stylesheet" href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
  <script src="./dist/fez.js"></script>
  <script>
    hljs.highlightAll();
    hljs.addPlugin(new CopyButtonPlugin());
  </script>
  <script>
    function timeSince(date) {
        const now = new Date();
        const secondsPast = (now.getTime() - new Date(date).getTime()) / 1000;

        if (secondsPast < 60) {
            return `just now`;
        }
        if (secondsPast < 3600) { // less than 60 minutes
            const minutes = Math.floor(secondsPast / 60);
            return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;
        }
        if (secondsPast < 86400) { // less than 24 hours
            const hours = Math.floor(secondsPast / 3600);
            return `${hours} hour${hours > 1 ? 's' : ''} ago`;
        }
        if (secondsPast < 2592000) { // less than 30 days
            const days = Math.floor(secondsPast / 86400);
            return `${days} day${days > 1 ? 's' : ''} ago`;
        }
        if (secondsPast < 31536000) { // less than 12 months
            const months = Math.floor(secondsPast / 2592000);
            return `${months} month${months > 1 ? 's' : ''} ago`;
        }
        const years = Math.floor(secondsPast / 31536000);
        return `${years} year${years > 1 ? 's' : ''} ago`;
    }

    window.L = console.log
</script>
</head>
<body>
  <img src="./demo/fez.png" style="height: 128px; float: right; margin-bottom: -100px;" />
  <h1>
    Fez demo components
    &sdot;
    <a target="playground" href="https://jsitor.com/QoResUvMc">playground</a>
    &sdot;
    <a target="repo" href="https://github.com/dux/fez">GitHub repo</a>
  </h1>

  <p>Fez was created by <a href="https://github.com/dux/">@dux</a> in 2024. Latest update was <script>document.write(timeSince('Sat Jan 25 01:31:38 2025 +0100'))</script>.

  
      <script src="./demo/fez/clock.js"></script>
      <h2>
        ui-clock
        &sdot;
        <small>featuturing SVG generation & reactive store</small>
      </h2>

      <div class="flex">
        <div class="body">
           <ui-clock></ui-clock>

        </div>
        <div>
          <div class="relative">
            <pre>
              <code class="language-html" id="fez-clock-html">
&lt;ui-clock>&lt;/ui-clock>

</code>
            <pre>
          </div>

          <div class="relative">
            <pre>
              <code class="language-javascript" id="fez-clock-js">
Fez('ui-clock', class {
  HTML = `
    &lt;svg viewBox="-50 -50 100 100">
      &lt;circle class="clock-face" r="48" />

     &lt;!-- markers -->
      {{#each [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55] as minute}}
        &lt;line class="major" y1="35" y2="45" transform="rotate({{30 * minute}})" />

        {{#each [1, 2, 3, 4] as offset}}
          &lt;line class="minor" y1="42" y2="45" transform="rotate({{6 * (minute + offset)}})" />
        {{/each}}
      {{/each}}

      &lt;!-- hour hand -->
      &lt;line class="hour" y1="2" y2="-20" transform="rotate({{30 * @state.hours + @state.minutes / 2}})" />

      &lt;!-- minute hand -->
      &lt;line class="minute" y1="4" y2="-30" transform="rotate({{6 * @state.minutes + @state.seconds / 10}})" />

      &lt;!-- second hand -->
      &lt;g transform="rotate({{6 * @state.seconds}})">
        &lt;line class="second" y1="10" y2="-38" />
        &lt;line class="second-counterweight" y1="10" y2="2" />
      &lt;/g>
    &lt;/svg>
  `

  css = `
    input {
      border: 3px solid red !important;
    }

    svg {
      width: 100%;
      height: 100%;
    }

    .clock-face {
      stroke: #333;
      fill: white;
    }

    .minor {
      stroke: #999;
      stroke-width: 0.5;
    }

    .major {
      stroke: #333;
      stroke-width: 1;
    }

    .hour {
      stroke: #333;
    }

    .minute {
      stroke: #666;
    }

    .second,
    .second-counterweight {
      stroke: rgb(180, 0, 0);
    }

    .second-counterweight {
      stroke-width: 3;
    }
  `

  setVars() {
    let time = new Date();
    this.state.time = time
    this.state.hours = time.getHours();
    this.state.minutes = time.getMinutes();
    this.state.seconds = time.getSeconds();
  }

  connect() {
    this.setVars()
    this.setInterval(this.setVars, 1000)
  }
})

              </code>
            </pre>
          </div>

        </div>
      </div>
    
</body>
</html>

