
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test</title>
  <link rel="icon" href="./demo/fez.png">
  <link rel="stylesheet" href="./demo/main.css" />
  <link rel="stylesheet" href="./demo/hjs-theme.css" />
  <link rel="stylesheet" href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
  <script src="./dist/fez.js"></script>
  <script>
    hljs.addPlugin(new CopyButtonPlugin({autohide: false}));
  </script>
  <script>
    function timeSince(date) {
        const now = new Date();
        const secondsPast = (now.getTime() - new Date(date).getTime()) / 1000;

        if (secondsPast < 60) {
            return `just now`;
        }
        if (secondsPast < 3600) { // less than 60 minutes
            const minutes = Math.floor(secondsPast / 60);
            return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;
        }
        if (secondsPast < 86400) { // less than 24 hours
            const hours = Math.floor(secondsPast / 3600);
            return `${hours} hour${hours > 1 ? 's' : ''} ago`;
        }
        if (secondsPast < 2592000) { // less than 30 days
            const days = Math.floor(secondsPast / 86400);
            return `${days} day${days > 1 ? 's' : ''} ago`;
        }
        if (secondsPast < 31536000) { // less than 12 months
            const months = Math.floor(secondsPast / 2592000);
            return `${months} month${months > 1 ? 's' : ''} ago`;
        }
        const years = Math.floor(secondsPast / 31536000);
        return `${years} year${years > 1 ? 's' : ''} ago`;
    }

    window.L = console.log
</script>
</head>
<body>
  <img src="./demo/fez.png" style="height: 128px; float: right; margin-bottom: -100px;" />
  <h1>
    Fez demo components
    &sdot;
    <a target="playground" href="https://jsbin.com/nitihel/edit?html,output">playground</a>
    &sdot;
    <a target="repo" href="https://github.com/dux/fez">GitHub repo</a>
  </h1>

  <app-info small="Seller line generated by OpenAI o1">
    Fez is jQuery for web components - create svelte like reactive components, directly in your HTML with zero build steps.
  </app-info>

  <app-info small="Seller line generated by Claude Sonet 3.5">
    jQuery taught us simplicity, we added Svelte's elegance, just drop in and code!
  </app-info>

  <p>Fez was created by <a href="https://github.com/dux/">@dux</a> in 2024. Latest update was <script>document.write(timeSince('Thu Jan 30 01:16:26 2025 +0100'))</script>.

  <h2>How FEZ feels and works?</h2>

  <p>Component model is similar to <code>Vue</code> or <code>Svelte</code>, but there is no compile step. You work on HTML doc as it is was allready monuted to root. Render pages from server, and just use custom HTML tags you have created, as you would use any other HTML tag.</p>

  <ul>
    <li>üîå <i>Native Browser Components:</i> Uses standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements">custom elements</a>. Create tags like <code>&lt;ui-clock&gt;</code>, place them anywhere in your HTML, and they just work. (Try it now in dev tools - instant magic!)</li>
    <li>‚ö° <i>Zero Build Step Hassle:</i> Works directly in the browser with a tiny runtime (20kb raw, 6kb zipped - smaller than most cat GIFs).</li>
    <li>üîÑ <i>Smart State Management:</i> Automatically re-renders components using <a href="https://github.com/bigskysoftware/idiomorph">Idiomorph</a> for efficient DOM updates when data changes.</li>
    <li>üìú <i>Flexible Templating:</i> Choose between HTML-like templates (similar to <a href="https://dev.to/cloudcannon/templating-in-sveltekit-3ikm">Svelte</a>) or programmatic <a href="https://github.com/dux/fez/blob/main/src/vendor/n.js">node building</a>.</li>
    <li>üé® <i>CSS Superpowers:</i> Built-in SCSS support via <a href="https://goober.js.org/">Goober</a> with scoped/global styles and dynamic values.</li>
    <li>ü§ù <i>Familiar Syntax:</i> Supports Svelte-style <code>use</code>/<code>bind</code> and Vue-like <code>:attribute</code> bindings.</li>
    <li>üí° <i>Stateful Slots:</i> Preserves slot content state during re-renders - form inputs stay filled, components keep their data.</li>
    <li>üì° <i>Component Communication:</i> Straightforward parent-child interactions without complex state management.</li>
    <li>üîî <i>Event System:</i> Built-in pub/sub pattern for cross-component messaging.</li>
    <li>‚è≥ <i>Lifecycle Control:</i> Hooks like <code>onMount</code>, <code>beforeRender</code>, and <code>onPropsChange</code> for precise timing.</li>
  </ul>

  <h2>How to build your first component</h2>

  <p>Lets build simple counter</p>

  <ol>
    <li>Add Fez JS (to HEAD)
      <xmp>
<script src="https://dux.github.io/fez/dist/fez.js"></script>
      </xmp>
    </li>
    <li>
      Create ex-counter component

      <xmp id="demo-counter">
<template fez="ex-counter">
  <script>
    connect() {
      this.state.count = 0
    }

    more() {
      this.state.count += this.state.count > 9 ? 0 : 1
    }
  </script>

  <style>
    span {
      margin: 0 10px;
      color: blue;
    }
  </style>

  <button onclick="@state.count -= 1">-</button>
  <span>
    {{ @state.count }}
  </span>
  <button onclick="@more()">+</button>
  {{#if @state.count > 0}}
    <span>&mdash;</span>
    {{#if @state.count % 2 }} odd {{:else}} even {{/if}}
  {{/if}}
</template>

      </xmp>
<template fez="ex-counter">
  <script>
    connect() {
      this.state.count = 0
    }

    more() {
      this.state.count += this.state.count > 9 ? 0 : 1
    }
  </script>

  <style>
    span {
      margin: 0 10px;
      color: blue;
    }
  </style>

  <button onclick="@state.count -= 1">-</button>
  <span>
    {{ @state.count }}
  </span>
  <button onclick="@more()">+</button>
  {{#if @state.count > 0}}
    <span>&mdash;</span>
    {{#if @state.count % 2 }} odd {{:else}} even {{/if}}
  {{/if}}
</template>

    </li>
    <li>
      Place ex-counter anywhere in BODY
      <xmp>
<ex-counter></ex-counter>
      </xmp>
    </li>
    <li>
      <p>That is it! Edit this demo on <a target="codepen" href="https://jsbin.com/nitihel/edit?html,output">CodePen</a></p>
      <ex-counter id="main-counter"></ex-counter>
    </li>
  </ol>

  <template fez="app-editor">
  <script>
    getSource() {
      return this.codeNode.textContent
    }

    connect(props) {
      props.language ||= 'html'
      this.source = this.root.innerHTML
    }

    onMount() {
      this.codeNode = this.find('code')
      this.codeNode.innerHTML = this.source.trim()
      hljs.highlightElement(this.codeNode);
    }
  </script>

  <style>
    code {
      padding: 10px;
    }

    .hljs-copy-button {
      overflow: visible;
      left: -5px;
      top: 30px;
    }
  </style>

  <div class="relative">
    <pre>
      {{#if @props.file}}
        <div style="margin-bottom: -10px;">
          {{ @props.file }} &sdot; <span style="cursor: pointer;" onclick="applyChanges('{{ @props.name }}')">Save</span>
        </div>
      {{/if}}
      <code class="language-js" contenteditable="true"></code>
    </pre>
  </div>
</template>

<template fez="app-info">
  <style>
    & > div {
      border: 3px solid #bb8;
      padding: 10px;
      border-radius: 8px;
      background-color: #ffe;
      margin-bottom: 16px;
    }
  </style>

  <div>
    {{#if @props.small}}
      <p>
        <small>{{ @props.small }}</small>
      </p>
    {{/if}}

    <slot />
  </div>
</template>


  <template fez="ui-clock"><script>
  randomColor() {
    const colors = ['red', 'green', 'blue', 'magenta', 'teal']
    return colors[Math.floor(Math.random() * colors.length)];
  }

  setVars() {
    // will only render once on next tick
    let time = new Date((new Date()).getTime() - this.offsetHours * 60 * 60 * 1000)
    this.state.hours = time.getHours()
    this.state.minutes = time.getMinutes()
    this.state.seconds = time.getSeconds()
    this.state.color = this.randomColor()
  }

  connect() {
    this.offsetHours = parseFloat(this.props.utc || 0)
    this.setVars()
    this.setInterval(this.setVars, 1000)
  }

  onDestroy() {
    console.log(`By from ${this.fezName} - ${this.props.city}`)
  }
</script>

<style>
  input {
    border: 3px solid red !important;
  }

  svg {
    width: 100%;
    height: 100%;
  }

  .clock-face {
    stroke: #333;
    fill: white;
  }

  .minor {
    stroke: #999;
    stroke-width: 0.5;
  }

  .major {
    stroke: #333;
    stroke-width: 1;
  }

  .hour {
    stroke: #333;
    stroke-width: 1.5;
  }

  .minute {
    stroke: #666;
  }

  .second, .second-counterweight {
    stroke: var(--color);
  }

  .second-counterweight {
    stroke-width: 3;
  }
</style>

<svg viewBox="-50 -50 100 100" style="--color: {{ @state.color }}">
  <circle class="clock-face" r="48" />

  <!-- markers -->
  {{#each [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55] as minute}}
    <line class="major" y1="35" y2="45" transform="rotate({{30 * minute}})" />

    {{#each [1, 2, 3, 4] as offset}}
      <line class="minor" y1="42" y2="45" transform="rotate({{6 * (minute + offset)}})" />
    {{/each}}
  {{/each}}

  <!-- hour hand -->
  <line class="hour" y1="2" y2="-20" transform="rotate({{30 * @state.hours + @state.minutes / 2}})" />

  <!-- minute hand -->
  <line class="minute" y1="4" y2="-30" transform="rotate({{6 * @state.minutes + @state.seconds / 10}})" />

  <!-- second hand -->
  <g transform="rotate({{6 * @state.seconds}})">
    <line class="second" y1="10" y2="-38" />
    <line class="second-counterweight" y1="10" y2="2" />
  </g>

  <!-- City text -->
  {{#if @props.city }}
    <text x="0" y="-17" text-anchor="middle" dominant-baseline="middle" style="font-size: 10px; fill: #111;">
      {{ @props.city }}
    </text>
  {{/if}}
</svg>
</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-clock</h2>
        <div class="info">
  <ul>
    <li>SVG generation</li>
    <li>reactive store - any update to <code>this.state</code> object triggers re-render.</li>
    <li>DOM morph updates - update only changed nodes and attributes</li>
    <li>dynamic styes (seconds line color)</li>
    <li><code>onDestroy() { ... }</code> - execute code when component is removed from DOM</li>
  </ul>
</div>

        <div id="body-clock" style="padding-bottom: 20px;">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
  <div>
    <ui-clock city="Zageb" utc="1"></ui-clock>
  </div>
  <div>
    <ui-clock city="Moscow" utc="4"></ui-clock>
  </div>
  <div>
    <ui-clock city="NYC" utc="-5"></ui-clock>
  </div>
  <div>
    <ui-clock city="Mumbai" utc="5.5"></ui-clock>
  </div>
  <div>
    <ui-clock city="Sydney" utc="10"></ui-clock>
  </div>
</div>




        </div>

        <app-editor name="clock" id="html-clock" file="./demo/fez/clock.html" language="html">
           &lt;div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
  &lt;div>
    &lt;ui-clock city="Zageb" utc="1">&lt;/ui-clock>
  &lt;/div>
  &lt;div>
    &lt;ui-clock city="Moscow" utc="4">&lt;/ui-clock>
  &lt;/div>
  &lt;div>
    &lt;ui-clock city="NYC" utc="-5">&lt;/ui-clock>
  &lt;/div>
  &lt;div>
    &lt;ui-clock city="Mumbai" utc="5.5">&lt;/ui-clock>
  &lt;/div>
  &lt;div>
    &lt;ui-clock city="Sydney" utc="10">&lt;/ui-clock>
  &lt;/div>
&lt;/div>




        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-clock" file="./demo/fez/clock.fez" name="clock">
           &lt;script>
  randomColor() {
    const colors = ['red', 'green', 'blue', 'magenta', 'teal']
    return colors[Math.floor(Math.random() * colors.length)];
  }

  setVars() {
    // will only render once on next tick
    let time = new Date((new Date()).getTime() - this.offsetHours * 60 * 60 * 1000)
    this.state.hours = time.getHours()
    this.state.minutes = time.getMinutes()
    this.state.seconds = time.getSeconds()
    this.state.color = this.randomColor()
  }

  connect() {
    this.offsetHours = parseFloat(this.props.utc || 0)
    this.setVars()
    this.setInterval(this.setVars, 1000)
  }

  onDestroy() {
    console.log(`By from ${this.fezName} - ${this.props.city}`)
  }
&lt;/script>

&lt;style>
  input {
    border: 3px solid red !important;
  }

  svg {
    width: 100%;
    height: 100%;
  }

  .clock-face {
    stroke: #333;
    fill: white;
  }

  .minor {
    stroke: #999;
    stroke-width: 0.5;
  }

  .major {
    stroke: #333;
    stroke-width: 1;
  }

  .hour {
    stroke: #333;
    stroke-width: 1.5;
  }

  .minute {
    stroke: #666;
  }

  .second, .second-counterweight {
    stroke: var(--color);
  }

  .second-counterweight {
    stroke-width: 3;
  }
&lt;/style>

&lt;svg viewBox="-50 -50 100 100" style="--color: {{ @state.color }}">
  &lt;circle class="clock-face" r="48" />

  &lt;!-- markers -->
  {{#each [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55] as minute}}
    &lt;line class="major" y1="35" y2="45" transform="rotate({{30 * minute}})" />

    {{#each [1, 2, 3, 4] as offset}}
      &lt;line class="minor" y1="42" y2="45" transform="rotate({{6 * (minute + offset)}})" />
    {{/each}}
  {{/each}}

  &lt;!-- hour hand -->
  &lt;line class="hour" y1="2" y2="-20" transform="rotate({{30 * @state.hours + @state.minutes / 2}})" />

  &lt;!-- minute hand -->
  &lt;line class="minute" y1="4" y2="-30" transform="rotate({{6 * @state.minutes + @state.seconds / 10}})" />

  &lt;!-- second hand -->
  &lt;g transform="rotate({{6 * @state.seconds}})">
    &lt;line class="second" y1="10" y2="-38" />
    &lt;line class="second-counterweight" y1="10" y2="2" />
  &lt;/g>

  &lt;!-- City text -->
  {{#if @props.city }}
    &lt;text x="0" y="-17" text-anchor="middle" dominant-baseline="middle" style="font-size: 10px; fill: #111;">
      {{ @props.city }}
    &lt;/text>
  {{/if}}
&lt;/svg>

        </app-editor>
      </div>
    </div>
  
  <template fez="ui-todo"><script>
  clearCompleted() {
    this.state.tasks = this.state.tasks.filter((t) => !t.done)
  }

  removeTask(index) {
    this.state.tasks = this.state.tasks.filter((_, i) => i !== index);
  }

  addTask() {
    // no need to force update template, this is automatic because we are using reactiveStore()
    this.counter ||= 0
    this.state.tasks.push({
      name: `new task ${++this.counter}`,
      done: false,
      animate: true
    })
  }

  animate(node) {
    // same as in Svelte, uf you define fez-use="methodName", method will be called when node is added to dom.
    // in this case, we animate show new node

    $(node)
      .css('display', 'block')
      .animate({height: '33px', opacity: 1}, 200, () => {
        delete this.state.tasks[this.state.tasks.length-1].animate
        $(node).css('height', 'auto')
      })
  }

  connect() {
    this.state.tasks = [
      {name: 'First task', done: false},
      {name: 'Second task', done: false},
      {name: 'Third task', done: true },
    ]
  }
</script>

<h3>Tasks</h3>
{{#if !@state.tasks[0] }}
  <p>No tasks found</p>
{{/if}}

{{#for task, index in @state.tasks}}
  {{#if task.animate}} <!-- this is fine because this is string templating -->
    <p fez-use="animate" style="display: none; height: 0px; opacity: 0;">
  {{:else}}
    <p>
  {{/if}}
    <input
      type="text"
      fez-bind="state.tasks[{{index}}].name"
      style="{{ task.done ? 'background-color: #ccc;' : '' }}"
    />
    &sdot;
    <input
      type="checkbox"
      fez-bind="state.tasks[{{index}}].done"
    />
    &sdot;
    <button onclick="@removeTask({{ index }})">&times;</button>
  </p>
{{/for}}
<p>
  <button onclick="@addTask()">add task</button>
  &sdot;
  <button onclick="@clearCompleted()">clear completed</button>
</p>
<pre class="code">{{ JSON.stringify(this.state.tasks, null, 2) }}</pre>
<p>If you want to preserve state in templates, wrap content in "fez-slot"</p>
<p>Refresh: {{Math.random()}}</p>
<p class="fez-slot">
  Do not refresh: {{Math.random()}}.
</p>
</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-todo</h2>
        <div class="info">
  <ul>
    <li>fully <b>rective state</b></li>
    <li><b>fez-bind</b> - two way binding of input element</li>
    <li><b>fez-use</b> - when node is added to dom, call described function and pass node as reference (inspired by Svelte)</li>
  </ul>
</div>

        <div id="body-todo" style="padding-bottom: 20px;">
          <ui-todo></ui-todo>

        </div>

        <app-editor name="todo" id="html-todo" file="./demo/fez/todo.html" language="html">
           &lt;ui-todo>&lt;/ui-todo>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-todo" file="./demo/fez/todo.fez" name="todo">
           &lt;script>
  clearCompleted() {
    this.state.tasks = this.state.tasks.filter((t) => !t.done)
  }

  removeTask(index) {
    this.state.tasks = this.state.tasks.filter((_, i) => i !== index);
  }

  addTask() {
    // no need to force update template, this is automatic because we are using reactiveStore()
    this.counter ||= 0
    this.state.tasks.push({
      name: `new task ${++this.counter}`,
      done: false,
      animate: true
    })
  }

  animate(node) {
    // same as in Svelte, uf you define fez-use="methodName", method will be called when node is added to dom.
    // in this case, we animate show new node

    $(node)
      .css('display', 'block')
      .animate({height: '33px', opacity: 1}, 200, () => {
        delete this.state.tasks[this.state.tasks.length-1].animate
        $(node).css('height', 'auto')
      })
  }

  connect() {
    this.state.tasks = [
      {name: 'First task', done: false},
      {name: 'Second task', done: false},
      {name: 'Third task', done: true },
    ]
  }
&lt;/script>

&lt;h3>Tasks&lt;/h3>
{{#if !@state.tasks[0] }}
  &lt;p>No tasks found&lt;/p>
{{/if}}

{{#for task, index in @state.tasks}}
  {{#if task.animate}} &lt;!-- this is fine because this is string templating -->
    &lt;p fez-use="animate" style="display: none; height: 0px; opacity: 0;">
  {{:else}}
    &lt;p>
  {{/if}}
    &lt;input
      type="text"
      fez-bind="state.tasks[{{index}}].name"
      style="{{ task.done ? 'background-color: #ccc;' : '' }}"
    />
    &sdot;
    &lt;input
      type="checkbox"
      fez-bind="state.tasks[{{index}}].done"
    />
    &sdot;
    &lt;button onclick="@removeTask({{ index }})">&times;&lt;/button>
  &lt;/p>
{{/for}}
&lt;p>
  &lt;button onclick="@addTask()">add task&lt;/button>
  &sdot;
  &lt;button onclick="@clearCompleted()">clear completed&lt;/button>
&lt;/p>
&lt;pre class="code">{{ JSON.stringify(this.state.tasks, null, 2) }}&lt;/pre>
&lt;p>If you want to preserve state in templates, wrap content in "fez-slot"&lt;/p>
&lt;p>Refresh: {{Math.random()}}&lt;/p>
&lt;p class="fez-slot">
  Do not refresh: {{Math.random()}}.
&lt;/p>

        </app-editor>
      </div>
    </div>
  
  <template fez="ui-form"><script>
  NAME = 'form'

  // if you define onSubmit, you will get submited form data object
  // and event.preventDefault will allready be applied
  onSubmit(data) {
    this.props.ping(data)
  }
</script>

<style>
  border: 2px solid green;
  border-radius: 5px;
  padding: 15px;
  margin: 15px 0;

  label {
    display: block;
    cursor: pointer;
    margin-bottom: 5px;
  }

  select option {
    font-size: 16px;
  }
</style>
</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-form</h2>
        <div class="info">
  <ul>
    <li>form helper - <code>this.formData()</code>. Get form data as object.</li>
    <li>form helper - <code>this.onSubmit()</code>. If present, auto bind form and get form data as object</li>
    <li>prefix params with <code>:</code> if you want to calculate attribute value. Same as in Vue, current example <code>:ping="..."</code></li>
    <li>Custom DOM tag name - <code>FORM</code> instead of default <code>DIV</code></li>
  </ul>
</div>

        <div id="body-form" style="padding-bottom: 20px;">
          <div class="flex">
  <ui-form target="/api" :ping="updateFormData">
    <p>
      <input type="text" name="info" value="a dude" />
    </p>
    <p>
      <select name="num">
        <option>one</option>
        <option>two</option>
        <option>three</option>
      </select>
    </p>
    <p>
      <label><input type="radio" name="name" value="Jakov" /> Jakov</label>
      <label><input type="radio" name="name" value="Vid" /> Vid</label>
      <label><input type="radio" name="name" value="Dino" /> Dino</label>
    </p>
    <p>
      <button>Submit</button>
    </p>
  </ui-form>

  <ui-form target="/api" :ping="updateFormData">
    <p>
      <select name="num">
        <option>uno</option>
        <option>due</option>
        <option>tres</option>
      </select>
    </p>
    <p>
      <button>Submit</button>
    </p>
  </ui-form>
</div>

<pre id="form-data"></pre>

<script>
  function updateFormData(obj) {
    $('#form-data').append(JSON.stringify(obj) + "\n")
  }
</script>

        </div>

        <app-editor name="form" id="html-form" file="./demo/fez/form.html" language="html">
           &lt;div class="flex">
  &lt;ui-form target="/api" :ping="updateFormData">
    &lt;p>
      &lt;input type="text" name="info" value="a dude" />
    &lt;/p>
    &lt;p>
      &lt;select name="num">
        &lt;option>one&lt;/option>
        &lt;option>two&lt;/option>
        &lt;option>three&lt;/option>
      &lt;/select>
    &lt;/p>
    &lt;p>
      &lt;label>&lt;input type="radio" name="name" value="Jakov" /> Jakov&lt;/label>
      &lt;label>&lt;input type="radio" name="name" value="Vid" /> Vid&lt;/label>
      &lt;label>&lt;input type="radio" name="name" value="Dino" /> Dino&lt;/label>
    &lt;/p>
    &lt;p>
      &lt;button>Submit&lt;/button>
    &lt;/p>
  &lt;/ui-form>

  &lt;ui-form target="/api" :ping="updateFormData">
    &lt;p>
      &lt;select name="num">
        &lt;option>uno&lt;/option>
        &lt;option>due&lt;/option>
        &lt;option>tres&lt;/option>
      &lt;/select>
    &lt;/p>
    &lt;p>
      &lt;button>Submit&lt;/button>
    &lt;/p>
  &lt;/ui-form>
&lt;/div>

&lt;pre id="form-data">&lt;/pre>

&lt;script>
  function updateFormData(obj) {
    $('#form-data').append(JSON.stringify(obj) + "\n")
  }
&lt;/script>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-form" file="./demo/fez/form.fez" name="form">
           &lt;script>
  NAME = 'form'

  // if you define onSubmit, you will get submited form data object
  // and event.preventDefault will allready be applied
  onSubmit(data) {
    this.props.ping(data)
  }
&lt;/script>

&lt;style>
  border: 2px solid green;
  border-radius: 5px;
  padding: 15px;
  margin: 15px 0;

  label {
    display: block;
    cursor: pointer;
    margin-bottom: 5px;
  }

  select option {
    font-size: 16px;
  }
&lt;/style>

        </app-editor>
      </div>
    </div>
  
  <template fez="ui-time"><script>
  NAME = 'div'

  getRandomColor() {
    const colors = ['red', 'blue', 'green', 'teal', 'black', 'magenta', 'orange', 'lightblue']
    return colors[Math.floor(Math.random() * colors.length)]
  }

  setRandomColor() {
    const color = this.getRandomColor()
    // this.find('.color-name').innerHTML = color
    this.root.querySelector('.color-name').innerHTML = color
    this.root.style.borderColor = color
  }

  getTime() {
    return (new Date()).getTime()
  }

  setTime() {
    this.val('.time', this.getTime())
  }

  afterRender() {
    this.setTime()
  }

  connect() {
    this.setInterval(this.setTime, 1000)
    this.setRandomColor()
  }
</script>

<style>
  /* styles are applied to body, so this becomes body background color */
  background-color: #f7f7f7;

  /* local component style applied to mounted component root */
  :fez {
    border: 10px solid green;
    border-radius: 10px;
    padding: 10px;
    background-color: #fff;

    button {
      font-size: 16px;
    }
  }
</style>

<p>Param city: {{ @props.city }}</p>
<p>Time now: <span class="time"></span></p>
<p>Random num: <span>{{ Math.random() }}</span></p>
<button onclick="@setRandomColor()">random color</button>
&sdot;
<button onclick="@render()">refresh & preserve slot</button>
<hr />

<slot></slot>
</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-time</h2>
        <div class="info">
  <ul>
    <li>slots</li>
    <li>slot preservation on re-render</li>
    <li>
      global and local css. If <code>:fez { ... }</code> is present, anything inside is local, anythig outside is global.
      If no class <code>:fez</code> is present, style is considered local.
      </li>
  </ul>
</div>

        <div id="body-time" style="padding-bottom: 20px;">
          <ui-time city="Zagreb">
  <ul>
    <li>
      Slot state preservation demo: &nbsp;
      <b class="color-name"></b>
    </li>
  </ul>
</ui-time>

        </div>

        <app-editor name="time" id="html-time" file="./demo/fez/time.html" language="html">
           &lt;ui-time city="Zagreb">
  &lt;ul>
    &lt;li>
      Slot state preservation demo: &nbsp;
      &lt;b class="color-name">&lt;/b>
    &lt;/li>
  &lt;/ul>
&lt;/ui-time>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-time" file="./demo/fez/time.fez" name="time">
           &lt;script>
  NAME = 'div'

  getRandomColor() {
    const colors = ['red', 'blue', 'green', 'teal', 'black', 'magenta', 'orange', 'lightblue']
    return colors[Math.floor(Math.random() * colors.length)]
  }

  setRandomColor() {
    const color = this.getRandomColor()
    // this.find('.color-name').innerHTML = color
    this.root.querySelector('.color-name').innerHTML = color
    this.root.style.borderColor = color
  }

  getTime() {
    return (new Date()).getTime()
  }

  setTime() {
    this.val('.time', this.getTime())
  }

  afterRender() {
    this.setTime()
  }

  connect() {
    this.setInterval(this.setTime, 1000)
    this.setRandomColor()
  }
&lt;/script>

&lt;style>
  /* styles are applied to body, so this becomes body background color */
  background-color: #f7f7f7;

  /* local component style applied to mounted component root */
  :fez {
    border: 10px solid green;
    border-radius: 10px;
    padding: 10px;
    background-color: #fff;

    button {
      font-size: 16px;
    }
  }
&lt;/style>

&lt;p>Param city: {{ @props.city }}&lt;/p>
&lt;p>Time now: &lt;span class="time">&lt;/span>&lt;/p>
&lt;p>Random num: &lt;span>{{ Math.random() }}&lt;/span>&lt;/p>
&lt;button onclick="@setRandomColor()">random color&lt;/button>
&sdot;
&lt;button onclick="@render()">refresh & preserve slot&lt;/button>
&lt;hr />

&lt;slot>&lt;/slot>

        </app-editor>
      </div>
    </div>
  
  <template fez="ui-icon"><script>
  // everything before class gets executed in component registration
  $(document.head).append(`
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  `)

  class {
    NAME = 'span'

    setSize(size) {
      this.$root.css('font-size', `${parseInt(size)}px`)
    }

    onPropsChange(name, value) {
      if (name == 'color') {
        this.$root.css('color', value)
      }

      if (name == 'size') {
        this.setSize(value)
      }
    }

    connect(props) {
      this.copy('onclick')

      const icon = props.name || this.root.innerHTML.trim()
      this.color = props.color || '#00'
      this.root.classList.add('material-symbols-outlined')
      this.root.innerHTML = icon
    }
  }
</script>

<style>
  &.material-symbols-outlined {
    font-variation-settings:
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 24
  }
</style>
</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-icon</h2>
        <div class="info">
  <ul>
    <li>Features component to component communication</li>
    <li>evalule value of a attribute if prefixed with column <code>:</code> (in this example <code>:size=</code></li>
  </ul>
</div>

        <div id="body-icon" style="padding-bottom: 20px;">
          <input
  type="range" min="24" max="100" class="slider" id="icon-range"
  oninput="Fez('#icon-blue').setSize(this.value)"
/>

&sdot;

<span onclick="Fez('#icon-blue').attr('color', $(event.target).text())">
  <button>red</button>
  <button>blue</button>
  <button>green</button>
</span>

<br /><br />

<ui-icon name="home"></ui-icon>
<ui-icon
  id="icon-blue"
  name="settings"
  color="blue"
  onclick="alert(this.fez.props.color)"
  :size="document.getElementById('icon-range').value"
></ui-icon>
<ui-icon color="red">delete</ui-icon>

        </div>

        <app-editor name="icon" id="html-icon" file="./demo/fez/icon.html" language="html">
           &lt;input
  type="range" min="24" max="100" class="slider" id="icon-range"
  oninput="Fez('#icon-blue').setSize(this.value)"
/>

&sdot;

&lt;span onclick="Fez('#icon-blue').attr('color', $(event.target).text())">
  &lt;button>red&lt;/button>
  &lt;button>blue&lt;/button>
  &lt;button>green&lt;/button>
&lt;/span>

&lt;br />&lt;br />

&lt;ui-icon name="home">&lt;/ui-icon>
&lt;ui-icon
  id="icon-blue"
  name="settings"
  color="blue"
  onclick="alert(this.fez.props.color)"
  :size="document.getElementById('icon-range').value"
>&lt;/ui-icon>
&lt;ui-icon color="red">delete&lt;/ui-icon>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-icon" file="./demo/fez/icon.fez" name="icon">
           &lt;script>
  // everything before class gets executed in component registration
  $(document.head).append(`
    &lt;link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  `)

  class {
    NAME = 'span'

    setSize(size) {
      this.$root.css('font-size', `${parseInt(size)}px`)
    }

    onPropsChange(name, value) {
      if (name == 'color') {
        this.$root.css('color', value)
      }

      if (name == 'size') {
        this.setSize(value)
      }
    }

    connect(props) {
      this.copy('onclick')

      const icon = props.name || this.root.innerHTML.trim()
      this.color = props.color || '#00'
      this.root.classList.add('material-symbols-outlined')
      this.root.innerHTML = icon
    }
  }
&lt;/script>

&lt;style>
  &.material-symbols-outlined {
    font-variation-settings:
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 24
  }
&lt;/style>

        </app-editor>
      </div>
    </div>
  
  <script src="./demo/fez/pubsub.js"></script>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-pubsub</h2>
        <div class="info">
  <ul>
    <li>Features publish &lt;> subscribe mechanism</li>
  </ul>
</div>

        <div id="body-pubsub" style="padding-bottom: 20px;">
          <style>
  .fez-ui-pubsub { margin-top: 10px; }
</style>

<button onclick="Fez.publish('ping', Math.random())">ping from anywhere</button>
&sdot;
Fast ping:
<button onclick="
  clearInterval(window.fastPing);
  window.fastPing = setInterval(()=>Fez.publish('ping', Math.random()), 10);"
>START</button>
&sdot;
<button onclick="clearInterval(window.fastPing)">END</button>

<ui-pubsub>
  <h4>lisener 1</h4>
  <p class="target"></p>
</ui-pubsub>

<ui-pubsub>
  <h4>lisener 2</h4>
  <b class="target"></b>
</ui-pubsub>

<ui-pubsub>
  <h4>lisener 3</h4>
  Foo: <span class="target"></span>
</ui-pubsub>

<template id="pubsub-t">
  <ui-pubsub>
    Dynamic lisener:
    <button onclick="Fez(this).$root.remove()">&times;</button>
    &sdot;
    <span class="target"></span>
  </ui-pubsub>
</template>

<br />
<button onclick="$(this).after($('#pubsub-t').html())">add listener</button>

<script>
  setInterval(()=>Fez.publish('ping', Math.random()), 5000)
</script>

        </div>

        <app-editor name="pubsub" id="html-pubsub" file="./demo/fez/pubsub.html" language="html">
           &lt;style>
  .fez-ui-pubsub { margin-top: 10px; }
&lt;/style>

&lt;button onclick="Fez.publish('ping', Math.random())">ping from anywhere&lt;/button>
&sdot;
Fast ping:
&lt;button onclick="
  clearInterval(window.fastPing);
  window.fastPing = setInterval(()=>Fez.publish('ping', Math.random()), 10);"
>START&lt;/button>
&sdot;
&lt;button onclick="clearInterval(window.fastPing)">END&lt;/button>

&lt;ui-pubsub>
  &lt;h4>lisener 1&lt;/h4>
  &lt;p class="target">&lt;/p>
&lt;/ui-pubsub>

&lt;ui-pubsub>
  &lt;h4>lisener 2&lt;/h4>
  &lt;b class="target">&lt;/b>
&lt;/ui-pubsub>

&lt;ui-pubsub>
  &lt;h4>lisener 3&lt;/h4>
  Foo: &lt;span class="target">&lt;/span>
&lt;/ui-pubsub>

&lt;template id="pubsub-t">
  &lt;ui-pubsub>
    Dynamic lisener:
    &lt;button onclick="Fez(this).$root.remove()">&times;&lt;/button>
    &sdot;
    &lt;span class="target">&lt;/span>
  &lt;/ui-pubsub>
&lt;/template>

&lt;br />
&lt;button onclick="$(this).after($('#pubsub-t').html())">add listener&lt;/button>

&lt;script>
  setInterval(()=>Fez.publish('ping', Math.random()), 5000)
&lt;/script>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-pubsub" file="./demo/fez/pubsub.js" name="pubsub">
           Fez('ui-pubsub', class {
  update (info) {
    this.target.innerHTML = info
  }

  connect() {
    this.target = this.find('.target')
    this.subscribe('ping', this.update)
    this.update('waiting for a ping...')
  }
})

        </app-editor>
      </div>
    </div>
  
  <script src="./demo/fez/list.js"></script>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-list</h2>
        <div class="info">
  <ul>
    <li>Features list and object rendering</li>
    <li>JS fez tag creation (does not use template)</li>
  </ul>
</div>

        <div id="body-list" style="padding-bottom: 20px;">
          <h3>Case 1</h3>
<ui-list>red,green,blue</ui-list>

<hr />

<h3>Case 2</h3>
<ui-list></ui-list>

        </div>

        <app-editor name="list" id="html-list" file="./demo/fez/list.html" language="html">
           &lt;h3>Case 1&lt;/h3>
&lt;ui-list>red,green,blue&lt;/ui-list>

&lt;hr />

&lt;h3>Case 2&lt;/h3>
&lt;ui-list>&lt;/ui-list>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-list" file="./demo/fez/list.js" name="list">
           // component to render google fonts icons
Fez('ui-list', class {
  css = `
    li {
      font-weight: bold;
    }
  `

  HTML = `
    {{#if @colors[0]}}
      &lt;p>
        Inside code blocks &lt;code>{ { ... } }&lt;/code>, &lt;code>@&lt;/code> will be replaced with &lt;code>this.&lt;/code>
      &lt;/p>
      &lt;h4>for loop, with index&lt;/h4>
      &lt;ul>
        {{#for color, index in @colors}}
          &lt;li style="color: {{ color }};">
            {{ index + 1}}. {{ color }}
          &lt;/li>
        {{/for}}
      &lt;/ul>
    {{else}}
      &lt;p>no colors&lt;/p>

      &lt;h3>Insert HTML example - bold italic&lt;/h3>

      &lt;p>Escaped: {{ @example }}&lt;/p>
      &lt;p>Raw: {{@html @example }} (prefix with &lt;code>@html&lt;/code>)&lt;/p>
    {{/if}}
  `

  connect() {
    this.colors = this.root.innerHTML.trim().split(',')

    this.example = `&lt;strong>&lt;i>bold & italic&lt;/i>&lt;/strong>`
  }
})

        </app-editor>
      </div>
    </div>
  
  <template fez="ui-tabs"><script>
  activateNode(node) {
    node.parent().find('> *').removeClass('active')
    node.addClass('active')
  }

  activate(num) {
    this.active = parseInt(num)
    const target = this.$root.find(`> div > div.header > span:nth-child(${num + 1})`)
    this.activateNode(target)
    this.activateNode(this.tabs[num])
  }

  connect(props) {
    this.tabs = this.childNodes(n => $(n))

    this.render([
      this.n('div.header', this.tabs.map((tab, index) =>
        this.n(`span`, tab.attr('title'), { onclick: ()=> this.activate(index) })
      )),
      this.n('.body', '<slot />')
    ]);

    this.activate(0)
  }
</script>

<style>
  --tabs-border: 1px solid #ccc;

  .header {
    margin-bottom: -2px;
    position: relative;
    z-index: 1;

    & > span {
      border: var(--tabs-border);
      padding: 8px 15px;
      display: inline-block;
      border-radius: 8px 8px 0 0;
      margin-right: -1px;
      background: #eee;
      cursor: pointer;

      &.active {
        background-color: #fff;
        border-bottom: none;
      }
    }
  }

  .body {
    border: var(--tabs-border);
    padding: 8px 15px;
    background: #fff;

    & > div {
      display: none;

      &.active {
        display: block;
      }
    }
  }
</style>
</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-tabs</h2>
        <div class="info">
  <ul>
    <li>alternative node builder</li>
    <li>nested and recursive components (tabs in tabs in tabs)</li>
    <li><code>this.childNodes()</code> FEZ instance helper function, get all first level child nodes, excluding #text nodes.</li>
  </ul>
</div>

        <div id="body-tabs" style="padding-bottom: 20px;">
          <ui-tabs>
  <div title="Bar">
    <p>First tab</p>

    <br />

    <ui-tabs>
      <div title="Foo nested 2">First tab</div>
      <div title="Bar">
        <p>second tab</p>

        <ui-tabs>
          <div title="Foo nested 3">first tab</div>
          <div title="Bar nested 3">
            <p>second tab</p>
            <hr />
            <ui-clock></ui-clock>
          </div>
        </ui-tabs>
      </div>
    </ui-tabs>
  </div>
  <div title="Baz">
    <h4>image tab</h4>
    <img src="./demo/fez.png" />
  </div>
  <div title="Foo">
    Third tab
    <hr />
    <ui-clock></ui-clock>
  </div>
</ui-tabs>


        </div>

        <app-editor name="tabs" id="html-tabs" file="./demo/fez/tabs.html" language="html">
           &lt;ui-tabs>
  &lt;div title="Bar">
    &lt;p>First tab&lt;/p>

    &lt;br />

    &lt;ui-tabs>
      &lt;div title="Foo nested 2">First tab&lt;/div>
      &lt;div title="Bar">
        &lt;p>second tab&lt;/p>

        &lt;ui-tabs>
          &lt;div title="Foo nested 3">first tab&lt;/div>
          &lt;div title="Bar nested 3">
            &lt;p>second tab&lt;/p>
            &lt;hr />
            &lt;ui-clock>&lt;/ui-clock>
          &lt;/div>
        &lt;/ui-tabs>
      &lt;/div>
    &lt;/ui-tabs>
  &lt;/div>
  &lt;div title="Baz">
    &lt;h4>image tab&lt;/h4>
    &lt;img src="./demo/fez.png" />
  &lt;/div>
  &lt;div title="Foo">
    Third tab
    &lt;hr />
    &lt;ui-clock>&lt;/ui-clock>
  &lt;/div>
&lt;/ui-tabs>


        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-tabs" file="./demo/fez/tabs.fez" name="tabs">
           &lt;script>
  activateNode(node) {
    node.parent().find('> *').removeClass('active')
    node.addClass('active')
  }

  activate(num) {
    this.active = parseInt(num)
    const target = this.$root.find(`> div > div.header > span:nth-child(${num + 1})`)
    this.activateNode(target)
    this.activateNode(this.tabs[num])
  }

  connect(props) {
    this.tabs = this.childNodes(n => $(n))

    this.render([
      this.n('div.header', this.tabs.map((tab, index) =>
        this.n(`span`, tab.attr('title'), { onclick: ()=> this.activate(index) })
      )),
      this.n('.body', '&lt;slot />')
    ]);

    this.activate(0)
  }
&lt;/script>

&lt;style>
  --tabs-border: 1px solid #ccc;

  .header {
    margin-bottom: -2px;
    position: relative;
    z-index: 1;

    & > span {
      border: var(--tabs-border);
      padding: 8px 15px;
      display: inline-block;
      border-radius: 8px 8px 0 0;
      margin-right: -1px;
      background: #eee;
      cursor: pointer;

      &.active {
        background-color: #fff;
        border-bottom: none;
      }
    }
  }

  .body {
    border: var(--tabs-border);
    padding: 8px 15px;
    background: #fff;

    & > div {
      display: none;

      &.active {
        display: block;
      }
    }
  }
&lt;/style>

        </app-editor>
      </div>
    </div>
  
  <template fez="ui-border"><script>
  onMount() {
    const childNodes = this.fezHide()
    $(childNodes).css('border', `3px solid ${this.props.color || 'black'}`)
  }
</script>
</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-border</h2>
        <div class="info">
  <ul>
    <li>internal method <code>this.fezHide()</code> will remove fez node from dom, and set <code>this.root</code> to first parent node and return initial child nodes.</li>
    <li>useful if you need to transform children, but you can't have parent node in place. Think jQuery plugin.</li>
  </ul>
</div>

        <div id="body-border" style="padding-bottom: 20px;">
          <div class="should-be-first-parent">
  <ui-border color="violet">
    <div style="padding: 20px; max-width: 200px;">
      this will get border from fez component. Also check the DOM, fez parent is removed from DOM.
    </div>
  </ui-border>
</div>

        </div>

        <app-editor name="border" id="html-border" file="./demo/fez/border.html" language="html">
           &lt;div class="should-be-first-parent">
  &lt;ui-border color="violet">
    &lt;div style="padding: 20px; max-width: 200px;">
      this will get border from fez component. Also check the DOM, fez parent is removed from DOM.
    &lt;/div>
  &lt;/ui-border>
&lt;/div>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-border" file="./demo/fez/border.fez" name="border">
           &lt;script>
  onMount() {
    const childNodes = this.fezHide()
    $(childNodes).css('border', `3px solid ${this.props.color || 'black'}`)
  }
&lt;/script>

        </app-editor>
      </div>
    </div>
  
  <template fez="ui-slider"><script>
  getWidth() {
    const width = this.root.getBoundingClientRect().width

    if (width != this.state.width) {
      this.setPannel(0)
      this.state.width = width
    }
  }

  cssVars() {
    return [
      `--width: ${this.state.width}px`,
      `--arrow-width: ${this.arrowWidth}px`,
      `--pannel-width: ${this.state.width - (this.arrowWidth * 2)}px`,
      `--offset: -${this.state.offset}px`,
    ]
  }

  setPannel(num) {
    this.state.slide = num
  }

  changePannel(direction){
    this.state.slide += direction

    const slides = this.find('.fez-slot').querySelectorAll(":scope > div")

    if (this.state.slide < 0) {
      this.state.slide = slides.length - 1
    } else if (!slides[this.state.slide]) {
      this.state.slide = 0
    }
  }

  beforeRender() {
    this.state.offset = (this.state.width - (this.arrowWidth * 2)) * this.state.slide
  }

  connect() {
    this.arrowWidth = 100
    this.setPannel(0)
    this.getWidth()

    this.setInterval(this.getWidth, 100)
  }
</script>

<style>
  .slides {
    display: flex;
    overflow: hidden;

    > .arrow {
      min-width: var(--arrow-width);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 50px;
      cursor: pointer;
      transform: rotate(-90deg);
      color: #aaa;

      span:hover {
        color: #111;
      }

      &:nth-child(3) {
        span {
          transform: rotate(180deg);
        }
      }
    }

    > .slot {
      display: flex;
      align-items: flex-start;
      overflow: hidden;
      max-width: var(--panel-width);

      .slot-parent {
        transition: transform 0.3s ease;
        transform: translateX(var(--offset));

        .fez-slot {
          display: flex;

          & > div {
            width: var(--pannel-width);
            flex-shrink: 0;
          }
        }
      }
    }
  }
</style>

<div class="slides" style="{{ @cssVars().join(';') }}">
  <div class="arrow" onclick="@changePannel(-1)">
      <span>&#8679;</span>
  </div>
  <div class="slot">
    <div class="slot-parent">
      <slot />
    </div>
  </div>
  <div class="arrow" onclick="@changePannel(1)">
      <span>&#8679;</span>
  </div>
</div>

</template>

    <div class="flex" style="border-top: 1px solid #ccc; margin-top: 40px;">
      <div class="body">
        <h2 style="margin-top: 0;">Demo: ui-slider</h2>
        <div class="info">
  <ul>
    <li>sweet component with css animations :)</li>
    <li><code>beforeRender()</code> to prepare vars before render (clean alternative to svelte <code>$: {...}</code></li>
    <li><code>this.setInterval()</code> to set interval on a instance. No need to clear it, it will be auto cleared on component destroy.</li>
  </ul>
</div>

        <div id="body-slider" style="padding-bottom: 20px;">
          <style>
  .fez-c-slider {
    .fez-slot {
      > div {
         text-align: center;
      }
    }
  }

  div.img {
    img {
      width: 100%;
      max-height: 600px;
      object-fit: cover;
      border-radius: 8px;
    }
  }
</style>

<ui-slider>
  <div>
    <h1>Sider 1</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1737143765999-bd3be790ab4f?w=600" />
     </div>
  </div>
  <div>
    <h1>Sider 2</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1735767975829-71496633d499?w=600" style="width: 45%" />
      <img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" style="width: 45%" />
     </div>
  </div>
  <div>
    <h1>Sider 3</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1737898415581-7dea57a1905b?w=600" />
     </div>
  </div>
  <div>
    <h1>Sider 4</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" />
     </div>
  </div>
  <div>
    <h1>Sider 5</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1736185669686-f302d6274f23?w=600" />
     </div>
  </div>
</ui-slider>

        </div>

        <app-editor name="slider" id="html-slider" file="./demo/fez/slider.html" language="html">
           &lt;style>
  .fez-c-slider {
    .fez-slot {
      > div {
         text-align: center;
      }
    }
  }

  div.img {
    img {
      width: 100%;
      max-height: 600px;
      object-fit: cover;
      border-radius: 8px;
    }
  }
&lt;/style>

&lt;ui-slider>
  &lt;div>
    &lt;h1>Sider 1&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1737143765999-bd3be790ab4f?w=600" />
     &lt;/div>
  &lt;/div>
  &lt;div>
    &lt;h1>Sider 2&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1735767975829-71496633d499?w=600" style="width: 45%" />
      &lt;img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" style="width: 45%" />
     &lt;/div>
  &lt;/div>
  &lt;div>
    &lt;h1>Sider 3&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1737898415581-7dea57a1905b?w=600" />
     &lt;/div>
  &lt;/div>
  &lt;div>
    &lt;h1>Sider 4&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" />
     &lt;/div>
  &lt;/div>
  &lt;div>
    &lt;h1>Sider 5&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1736185669686-f302d6274f23?w=600" />
     &lt;/div>
  &lt;/div>
&lt;/ui-slider>

        </app-editor>
      </div>
      <div>
        <app-editor id="code-ui-slider" file="./demo/fez/slider.fez" name="slider">
           &lt;script>
  getWidth() {
    const width = this.root.getBoundingClientRect().width

    if (width != this.state.width) {
      this.setPannel(0)
      this.state.width = width
    }
  }

  cssVars() {
    return [
      `--width: ${this.state.width}px`,
      `--arrow-width: ${this.arrowWidth}px`,
      `--pannel-width: ${this.state.width - (this.arrowWidth * 2)}px`,
      `--offset: -${this.state.offset}px`,
    ]
  }

  setPannel(num) {
    this.state.slide = num
  }

  changePannel(direction){
    this.state.slide += direction

    const slides = this.find('.fez-slot').querySelectorAll(":scope > div")

    if (this.state.slide &lt; 0) {
      this.state.slide = slides.length - 1
    } else if (!slides[this.state.slide]) {
      this.state.slide = 0
    }
  }

  beforeRender() {
    this.state.offset = (this.state.width - (this.arrowWidth * 2)) * this.state.slide
  }

  connect() {
    this.arrowWidth = 100
    this.setPannel(0)
    this.getWidth()

    this.setInterval(this.getWidth, 100)
  }
&lt;/script>

&lt;style>
  .slides {
    display: flex;
    overflow: hidden;

    > .arrow {
      min-width: var(--arrow-width);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 50px;
      cursor: pointer;
      transform: rotate(-90deg);
      color: #aaa;

      span:hover {
        color: #111;
      }

      &:nth-child(3) {
        span {
          transform: rotate(180deg);
        }
      }
    }

    > .slot {
      display: flex;
      align-items: flex-start;
      overflow: hidden;
      max-width: var(--panel-width);

      .slot-parent {
        transition: transform 0.3s ease;
        transform: translateX(var(--offset));

        .fez-slot {
          display: flex;

          & > div {
            width: var(--pannel-width);
            flex-shrink: 0;
          }
        }
      }
    }
  }
&lt;/style>

&lt;div class="slides" style="{{ @cssVars().join(';') }}">
  &lt;div class="arrow" onclick="@changePannel(-1)">
      &lt;span>&#8679;&lt;/span>
  &lt;/div>
  &lt;div class="slot">
    &lt;div class="slot-parent">
      &lt;slot />
    &lt;/div>
  &lt;/div>
  &lt;div class="arrow" onclick="@changePannel(1)">
      &lt;span>&#8679;&lt;/span>
  &lt;/div>
&lt;/div>


        </app-editor>
      </div>
    </div>
  

  <script>
    window.applyChanges = function(name) {
      Fez.compile(`ui-${name}`, Fez(`#code-ui-${name}`).getSource())

      $(`#body-${name}`).html( Fez(`#html-${name}`).getSource() )
    }
  </script>
</body>
</html>

