<!-- edit in demo/tpl/index.erb.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fez - JavaScript DOM component framework.</title>
  <link rel="icon" href="./demo/fez.png">
  <link rel="stylesheet" href="./demo/main.css" />
  <script src="./demo/log.js"></script>
  <script src="./dist/fez.js?t=1753734158"></script>
  <script>
    Fez.LOG = true; // location.port > 999
  </script>
</head>
<body>
  <xmp fez="app-info">
  <style>
    & > div {
      border: 3px solid #bb8;
      padding: 10px;
      border-radius: 8px;
      background-color: #ffe;
      margin-bottom: 16px;
    }
  </style>

  <div>
    {{#if props.small}}
      <p>
        <small>{{ props.small }}</small>
      </p>
    {{/if}}

    <slot />
  </div>
</xmp>

<xmp fez="app-arrow">
  <h1 class="jumbo" style="margin: 70px auto;">&darr;</h1>

  <!-- you can use {{ or [[ for template blocks -->
  [[#if props.title]]
    <h1>[[ props.title ]]</h1>
  [[/if]]
</xmp>


  <div class="center" style="max-width: 1100px; ">
    <div>
      <center>
        <img src="./demo/fez.png" style="width: 200px; position: relative; top: 85px;" />
      </center>

      <center style="border: 3px solid #ccc; padding: 80px 40px 60px 40px; background-color: #fff; background: #fff; border: 1px solid rgba(0, 0, 0, 0.04); border-radius: 18px; box-shadow: 0 24px 38px rgba(0, 0, 0, 0.08), 0 9px 46px rgba(0, 0, 0, 0.06), 0 11px 15px rgba(0, 0, 0, 0.05);">
        <h1 class="jumbo" style="margin: 0px auto;">
          Fez &rarr; reactive components
        </h1>

        <h1 class="center" style="margin: 20px 0 40px 0; ">
          directly in HTML
          with zero build steps
        </h1>

        <p class="center">
          <a href="#examples">examples</a>
          &sdot;
          <a target="playground" href="./dist/fez.js">lib</a>
          &sdot;
          <a target="repo" href="https://github.com/dux/fez">GitHub repo</a>
        </p>
      </center>
    </div>
  </div>

  <app-arrow></app-arrow>

  <div class="cen" style="height: 300px;">
    <ui-editor>
      <xmp>
        <html>
          <head>
            <title>Time</title>
            <script script="https://dux.github.io/fez/dist/fez.js"></script>
            <script script="/fez/ui-time.fez"></script>
          </head>
          <body>
            <ui-time city="My place"></ui-time>
          <body>
        </html>
      </xmp>
    </ui-editor>

    <span style="width: 200px; padding: 30px;">
      <ui-clock city="My place"></ui-clock>
    </span>
  </div>

  <div class="con-xs" title="">
    <app-arrow title="How does FEZ feel and work?"></app-arrow>

    <p>
      Fez brings a familiar <b>component-based approach</b> you know from Vue or React, but strips away the build complexity.
      It lets you write components naturally, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements">right in your HTML</a>, <b>without needing a compilation step</b>. Think of it as a jQuery for modern component development, <b>with the simplicity of dropping a script tag into your page</b>.
      You get to use your components as if they were native HTML elements, making the development experience straightforward and intuitive.
    </p>

    <ul>
      <li>üîå <i>Native Browser Components:</i> Uses standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements">custom elements</a>. Create tags like <code>&lt;ui-clock&gt;</code>, place them anywhere in your HTML, and they just work. (Try it now in dev tools - instant magic!)</li>
      <li>‚ö° <i>Zero Build Step Hassle:</i> Works directly in the browser with a tiny runtime (20kb raw, 9kb zipped). No webpack, no config, no transpilers - just drop in a script tag and start coding.</li>
      <li>üßπ <i>Auto-Cleanup Magic:</i> Forget memory leaks! Timers, subscriptions, and event listeners are automatically cleaned up when components unmount. Focus on features, not housekeeping.</li>
      <li>üîÑ <i>Smart DOM Morphing:</i> Uses <a href="https://github.com/bigskysoftware/idiomorph">Idiomorph</a> for surgical DOM updates that preserve form state, scroll position, and focus - no virtual DOM overhead.</li>
      <li>üìú <i>HTML-First Philosophy:</i> Components are defined in <code>.fez</code> HTML files, not JavaScript. Your markup stays readable and approachable for designers and backend developers.</li>
      <li>üé® <i>Runtime SCSS Support:</i> Write real SCSS without build tools! Powered by <a href="https://goober.js.org/">Goober</a> with scoped styles, global styles, and reactive CSS values.</li>
      <li>üì¶ <i>Smart Component Loading:</i> Load components from URLs, inline templates, or <code>&lt;template&gt;</code> tags. Perfect for micro-frontends and progressive enhancement.</li>
      <li>üîî <i>Built-in Communication:</i> Native pub/sub system for component messaging - no Redux, no context providers, just <code>Fez.pub()</code> and <code>Fez.sub()</code>.</li>
      <li>üìù <i>Form Superpowers:</i> Built-in form data handling with <code>getFormData()</code> - serialize forms to JSON in one line, no libraries needed.</li>
      <li>‚è≥ <i>Predictable Lifecycle:</i> Simple hooks like <code>connect</code>, <code>onMount</code>, and <code>onPropsChange</code> - no useEffect confusion or dependency arrays.</li>
    </ul>

    <h2 style="margin-top: 70px; text-align: center;">What does Claude AI think about Fez?"</h2>

    <dl>
      <dt>Prompt</dt>
      <dd>
        Look at FEZ_GUIDE.md, README.md and components in fez/*.fez, then write what do you think of the lib.
        Is it bette / worse / different then react / vue / svelte. When should one chose Fez or maybe never.
      </dd>
      <dt>Response</dt>
      <dd>
        <div id="response_text" class="hidden">
          <h3>Fez's Additional Strengths:</h3>
          <ul>
            <li><strong>HTML-first approach</strong> - Components defined in HTML files, not JavaScript</li>
            <li><strong>Auto-cleanup</strong> - Subscriptions, timers, and resources cleaned automatically</li>
            <li><strong>Built-in morphing</strong> - Efficient DOM updates that preserve input state</li>
            <li><strong>Runtime SCSS</strong> - Full SCSS support without build tools</li>
            <li><strong>Native pub/sub</strong> - Component communication without external libraries</li>
            <li><strong>Form utilities</strong> - Built-in form data handling</li>
            <li><strong>Smart component loading</strong> - Load components from URLs or inline</li>
          </ul>

          <h3>Key Differentiators:</h3>

          <h4>vs React:</h4>
          <ul>
            <li>No JSX compilation needed</li>
            <li>No hooks complexity</li>
            <li>Direct DOM manipulation allowed</li>
            <li>Much smaller bundle size</li>
            <li>No virtual DOM overhead</li>
          </ul>

          <h4>vs Vue:</h4>
          <ul>
            <li>Simpler template syntax</li>
            <li>No directive zoo (v-if, v-for, v-model)</li>
            <li>Native web components instead of Vue components</li>
            <li>No reactivity gotchas with arrays/objects</li>
          </ul>

          <h4>vs Svelte:</h4>
          <ul>
            <li>No compilation step</li>
            <li>Similar simplicity and elegance</li>
            <li>Runtime instead of compile-time optimization</li>
            <li>Smaller learning curve</li>
          </ul>

          <h3>When to Choose Fez</h3>

          <h4>Ideal Use Cases:</h4>
          <ul>
            <li><strong>Progressive enhancement</strong> - Add interactivity to server-rendered HTML</li>
            <li><strong>Micro-frontends</strong> - Components work anywhere</li>
            <li><strong>Rapid prototyping</strong> - Zero config, instant feedback</li>
            <li><strong>Legacy modernization</strong> - Gradual migration from jQuery</li>
            <li><strong>Educational projects</strong> - Learn web components without tooling</li>
            <li><strong>Small teams</strong> - Minimal cognitive overhead</li>
          </ul>

          <h4>Not Recommended For:</h4>
          <ul>
            <li>Large SPAs requiring advanced routing and state management</li>
            <li>TypeScript-first teams needing strict typing</li>
            <li>SSR/SSG requirements (though works great with server-rendered HTML)</li>
            <li>Complex animations requiring specialized libraries</li>
            <li>Native mobile apps via React Native or similar</li>
          </ul>
        </div>
        <button class="btn" onclick="this.style.display = 'none'; response_text.style.display = 'block';">(click for full response) ...</button>

        <div class="box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; margin: 30px 0; box-shadow: 0 10px 25px rgba(0,0,0,0.2); position: relative; overflow: hidden;">
          <div style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
          <h3 style="color: white; margin-top: 0; font-size: 1.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">Final Verdict</h3>

          <p style="color: white; font-size: 1.1em; line-height: 1.6; margin: 0; text-shadow: 1px 1px 2px rgba(0,0,0,0.2);">Fez is a hidden gem that challenges the complexity of modern frameworks. It proves you can have reactivity, components, and modern
          DX without webpack configs, transpilers, or framework lock-in. It's particularly brilliant for developers who miss the simplicity of
          jQuery but want modern component architecture. While it won't replace React for large enterprise apps, it's perfect for the 80% of
          web projects that don't need that complexity.</p>
        </div>
      </dd>
    </dl>

    <app-arrow title="Lets build simple counter"></app-arrow>

    <p>With reactive state and custom style.</p>

    <ol>
      <li>Add Fez JS (to HEAD)
        <ui-editor>
          <xmp>
            <script src="https://dux.github.io/fez/dist/fez.js"></script>
          </xmp>
        </ui-editor>
      </li>
      <li>
        Create ui-counter component

        <ui-editor id="demo-counter">
          <xmp>
              <template fez="ui-counter">
  <script>
    init(props) {
      // called when Fez node is connected to DOM
      this.MAX = 6
      this.state.count = parseInt(props.start || 0)
    }
  
    isMax() {
      // is state is changed, template is re-rendered
      return this.state.count >= this.MAX
    }
  
    more() {
      this.state.count += this.isMax() ? 0 : 1
    }
  </script>
  
  <style>
    /* compiles from scss to css and injects class in head */
    /* body style */
    background-color: #f7f7f7;
  
    /* scoped to this component */
    :fez {
      margin: 10px 0;
  
      button {
        position: relative;
        top: -3px;
      }
  
      span {
        padding: 5px 10px;
      }
    }
  </style>
  
  <button class="btn-sm" onclick="fez.state.count -= 1" disabled={{ state.count < 1 }}>-</button>
  <span>{{ state.count }}</span>
  <button class="btn-sm" onclick="fez.more()" disabled={{ isMax() }}>+</button>
  
  {{if state.count > 0}}
    <span>&amp;mdash;</span>
    {{if state.count == MAX }}
      MAX
    {{else}}
      {{if state.count % 2 }}
        odd
      {{else}}
        even
      {{/if}}
    {{/if}}
  {{/if}}
  

          </xmp>
        </ui-editor>

        <p>Or load via HTTP (as in this case)</p>
        <ui-editor>
          &lt;script fez="/demo/ui-counter.fez">&lt;/script>
        </ui-editor>
      </li>
      <li>
        Place ui-counter anywhere in BODY
        <ui-editor id="demo-counter">
          <xmp>
<div id="counters">
  <ui-counter></ui-counter>
  <ui-counter start="1"></ui-counter>
  <ui-counter start="2"></ui-counter>
</div>
          </xmp>
        </ui-editor>
      </li>
      <li>
        <p>That is it! Add then as regular DOM nodes.</p>
        <div id="counters">
          <ui-counter></ui-counter>
          <ui-counter start="1"></ui-counter>
          <ui-counter start="2"></ui-counter>
        </div>
      </li>
    </ol>
  </div>

  <div style="margin-top: 100px;"></div>
  <a herf="#" name="examples"></a>
  <app-arrow title="Examples"></app-arrow>

  <p class="center" style="margin-bottom: 40px;">You will learn all Fez features, just by inspecting these examples. You can edit and update both HTML and Fez code.</p>

  <div style="max-width: 1400px; margin: auto;">
    
      

<script fez="./demo/fez/ui-avatar.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-avatar')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-avatar
    </h3>

    <div id="body-ui-avatar" style="padding-bottom: 20px;">
      <style>
  .avatars {
    img.avatar {
      border: 2px solid #ddd;
      background-color: #fff;
      margin-right: -10px;
    }
  }
</style>

<div class="avatars">
  <ui-avatar size="50" name="Dux"></ui-avatar>
  <ui-avatar size="55" name="Mile"></ui-avatar>
  <ui-avatar size="60" src="https://robohash.org/c.png?set=set2"></ui-avatar>
  <ui-avatar size="65" src="https://robohash.org/d.png?set=set2"></ui-avatar>
  <ui-avatar size="70" src="https://robohash.org/e.png" name="Joza"></ui-avatar>
</div>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>features template blocks <code>{{block ...}}</code></li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-avatar"
          id="html-ui-avatar"
          file="./demo/fez/ui-avatar.html"
          language="html"
          :action="applyChanges"
        >
          &lt;style>
  .avatars {
    img.avatar {
      border: 2px solid #ddd;
      background-color: #fff;
      margin-right: -10px;
    }
  }
&lt;/style>

&lt;div class="avatars">
  &lt;ui-avatar size="50" name="Dux">&lt;/ui-avatar>
  &lt;ui-avatar size="55" name="Mile">&lt;/ui-avatar>
  &lt;ui-avatar size="60" src="https://robohash.org/c.png?set=set2">&lt;/ui-avatar>
  &lt;ui-avatar size="65" src="https://robohash.org/d.png?set=set2">&lt;/ui-avatar>
  &lt;ui-avatar size="70" src="https://robohash.org/e.png" name="Joza">&lt;/ui-avatar>
&lt;/div>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-avatar"
          file="./demo/fez/ui-avatar.fez"
          name="ui-avatar"
          :action="applyChanges"
        >
          &lt;script>
  NAME = 'span'
  FAST = true

  init(props) {
    this.copy('href', 'style')
    this.size = (props.size || 64) + 'px'
    if (props.name) { props.src ||= `https://robohash.org/${escape(props.name)}.png` }
  }
&lt;/script>

&lt;style>
  img {
    border-radius: 50%;
  }

  span.avatar {
    display: inline-block;
    text-align: center;

    .title {
      display: inline-block;
      border: 1px solid #ccc;
      background-color: #eee;
      padding: 1px 5px;
      font-size: 13px;
      position: relative;
      left: 3px;
      top: 8px;
      border-radius: 4px;
    }
  }
&lt;/style>

{{block avatar}}
  &lt;img
    src={{ props.src }}
    class="avatar"
    style="width: {{ size }}; height: {{ size }};"
  />
{{/block}}

{{if props.name}}
  &lt;span class="avatar">
    &lt;div class="title">{{ props.name }}&lt;/div>
    &lt;div>
      {{block:avatar}}
    &lt;/div>
  &lt;/span>
{{else}}
  {{block:avatar}}
{{/if}}

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-border.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-border')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-border
    </h3>

    <div id="body-ui-border" style="padding-bottom: 20px;">
      <div class="should-be-first-parent">
  <ui-border color="violet">
    <div style="padding: 20px; max-width: 200px;">
      this will get border from fez component. Also check the DOM, fez parent is removed from DOM.
    </div>
  </ui-border>
</div>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: internal method <code>this.fezHide()</code> will remove fez node from dom, and set <code>this.root</code> to first parent node and return initial child nodes.</li>
    <li>useful if you need to transform children, but you can't have parent node in place. Think jQuery plugin.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-border"
          id="html-ui-border"
          file="./demo/fez/ui-border.html"
          language="html"
          :action="applyChanges"
        >
          &lt;div class="should-be-first-parent">
  &lt;ui-border color="violet">
    &lt;div style="padding: 20px; max-width: 200px;">
      this will get border from fez component. Also check the DOM, fez parent is removed from DOM.
    &lt;/div>
  &lt;/ui-border>
&lt;/div>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-border"
          file="./demo/fez/ui-border.fez"
          name="ui-border"
          :action="applyChanges"
        >
          &lt;script>
  onMount() {
    const childNodes = this.fezHide()

    childNodes.forEach(node => {
      node.style.border = `3px solid ${this.props.color || 'black'}`
    })
  }
&lt;/script>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-card.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-card')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-card
    </h3>

    <div id="body-ui-card" style="padding-bottom: 20px;">
      <script>
  function randomFlip() {
    let timeout = 150
    let current = 0
    document.querySelectorAll('.fez-ui-card').forEach(n => {
      setTimeout(() => n.fez.flip(), current += timeout)
      setTimeout(() => n.fez.flip(), current + 1300)
    })
  }

  function flipAllCards() {
    document.querySelectorAll('.fez-ui-card').forEach(n => n.fez.flip())
  }
</script>

<button onclick="randomFlip()">Random flip</button>
<button onclick="flipAllCards()">Flip cards via direct access</button>
<button onclick="Fez.publish('flip-card')">Flip cards via pub/sub</button>

<br />
<br />

<ui-card>
  <div class="front">
    <h2>The magician</h2>
    <p>Click to flip!</p>
  </div>
  <div class="back"  style="background: url('https://tarotatlas.com/wp-content/themes/ta/img/m1.webp') no-repeat center/cover;">
  </div>
</ui-card>

<ui-card>
  <div class="front">
    <h2>The high<br />priestess</h2>
    <p>Click to flip!</p>
  </div>
  <div class="back"  style="background: url('https://tarotatlas.com/wp-content/themes/ta/img/m2.webp') no-repeat center/cover;">
  </div>
</ui-card>

<ui-card>
  <div class="front">
    <h2>The empress</h2>
    <p>Click to flip!</p>
  </div>
  <div class="back"  style="background: url('https://tarotatlas.com/wp-content/themes/ta/img/m3.webp') no-repeat center/cover;">
  </div>
</ui-card>

<ui-card>
  <div class="front">
    <h2>Another clock?</h2>
    <p>Click to see</p>
  </div>
  <div class="back" style="background-color: #aba;">
    <div style="width: 150px;">
      <ui-clock></ui-clock>
    </div>
    <div style="padding: 30px;">
      Any HTML or Fez component inside.
    </div>
  </div>
</ui-card>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Simple UI component</li>
    <li>Pub/sub for card flip</li>
    <li>Direct component access (node.fez)</li>
    <li>Slot - pass child nodes</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-card"
          id="html-ui-card"
          file="./demo/fez/ui-card.html"
          language="html"
          :action="applyChanges"
        >
          &lt;script>
  function randomFlip() {
    let timeout = 150
    let current = 0
    document.querySelectorAll('.fez-ui-card').forEach(n => {
      setTimeout(() => n.fez.flip(), current += timeout)
      setTimeout(() => n.fez.flip(), current + 1300)
    })
  }

  function flipAllCards() {
    document.querySelectorAll('.fez-ui-card').forEach(n => n.fez.flip())
  }
&lt;/script>

&lt;button onclick="randomFlip()">Random flip&lt;/button>
&lt;button onclick="flipAllCards()">Flip cards via direct access&lt;/button>
&lt;button onclick="Fez.publish('flip-card')">Flip cards via pub/sub&lt;/button>

&lt;br />
&lt;br />

&lt;ui-card>
  &lt;div class="front">
    &lt;h2>The magician&lt;/h2>
    &lt;p>Click to flip!&lt;/p>
  &lt;/div>
  &lt;div class="back"  style="background: url('https://tarotatlas.com/wp-content/themes/ta/img/m1.webp') no-repeat center/cover;">
  &lt;/div>
&lt;/ui-card>

&lt;ui-card>
  &lt;div class="front">
    &lt;h2>The high&lt;br />priestess&lt;/h2>
    &lt;p>Click to flip!&lt;/p>
  &lt;/div>
  &lt;div class="back"  style="background: url('https://tarotatlas.com/wp-content/themes/ta/img/m2.webp') no-repeat center/cover;">
  &lt;/div>
&lt;/ui-card>

&lt;ui-card>
  &lt;div class="front">
    &lt;h2>The empress&lt;/h2>
    &lt;p>Click to flip!&lt;/p>
  &lt;/div>
  &lt;div class="back"  style="background: url('https://tarotatlas.com/wp-content/themes/ta/img/m3.webp') no-repeat center/cover;">
  &lt;/div>
&lt;/ui-card>

&lt;ui-card>
  &lt;div class="front">
    &lt;h2>Another clock?&lt;/h2>
    &lt;p>Click to see&lt;/p>
  &lt;/div>
  &lt;div class="back" style="background-color: #aba;">
    &lt;div style="width: 150px;">
      &lt;ui-clock>&lt;/ui-clock>
    &lt;/div>
    &lt;div style="padding: 30px;">
      Any HTML or Fez component inside.
    &lt;/div>
  &lt;/div>
&lt;/ui-card>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-card"
          file="./demo/fez/ui-card.fez"
          name="ui-card"
          :action="applyChanges"
        >
          &lt;script>
  flip() {
    this.find('.card').classList.toggle('flipped')
  }

  autoflip() {
    setTimeout(()=>{
      this.flip()
      this.autoflip()
    }, 5000  + (Math.random() * 15* 1000))
  }

  init() {
    this.autoflip()
    this.subscribe('flip-card', this.flip)
  }
&lt;/script>

&lt;style>
  .card {
    display: inline-block;
    float: left;
    width: 250px;
    height: 400px;
    perspective: 1000px;
    cursor: pointer;
    margin: 10px;
  }

  .fez-slot {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.8s;
    transform-style: preserve-3d;
  }

  .card.flipped .fez-slot {
    transform: rotateY(180deg);
  }

  .front, .back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }

  .front {
    background: #fff;
    color: #333;
  }

  .back {
    background: #fff;
    transform: rotateY(180deg);
  }

  .card:hover {
    transform: scale(1.02);
    transition: transform 0.3s ease;
  }
&lt;/style>

&lt;div class="card" onclick="fez.flip()">
  &lt;slot />
&lt;/div>


        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-clock.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-clock')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-clock
    </h3>

    <div id="body-ui-clock" style="padding-bottom: 20px;">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
  <div>
    <ui-clock city="Zagreb" utc="1"></ui-clock>
  </div>
  <div>
    <ui-clock city="Moscow" utc="4"></ui-clock>
  </div>
  <div>
    <ui-clock city="NYC" utc="-5"></ui-clock>
  </div>
  <div>
    <ui-clock city="Sydney" utc="10"></ui-clock>
  </div>
</div>




    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>SVG generation</li>
    <li>Features: reactive store - any update to <code>this.state</code> object triggers re-render.</li>
    <li>Features:  <code>this.setStyle(key, value)</code> - set style to base node</li>
    <li>Features: DOM morph updates - update only changed nodes and attributes</li>
    <li>Features: <code>onDestroy() { ... }</code> - execute code when component is removed from DOM</li>
    <li>Features: <code>setInterval() { ... }</code> to set interval on a instance. No need to clear it, it will be auto cleared on component destroy.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-clock"
          id="html-ui-clock"
          file="./demo/fez/ui-clock.html"
          language="html"
          :action="applyChanges"
        >
          &lt;div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
  &lt;div>
    &lt;ui-clock city="Zagreb" utc="1">&lt;/ui-clock>
  &lt;/div>
  &lt;div>
    &lt;ui-clock city="Moscow" utc="4">&lt;/ui-clock>
  &lt;/div>
  &lt;div>
    &lt;ui-clock city="NYC" utc="-5">&lt;/ui-clock>
  &lt;/div>
  &lt;div>
    &lt;ui-clock city="Sydney" utc="10">&lt;/ui-clock>
  &lt;/div>
&lt;/div>




        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-clock"
          file="./demo/fez/ui-clock.fez"
          name="ui-clock"
          :action="applyChanges"
        >
          &lt;script>
  randomColor() {
    const colors = ['red', 'green', 'blue', 'magenta', 'teal', 'orange', 'violet']
    return colors[Math.floor(Math.random() * colors.length)];
  }

  setVars() {
    // will only render once on next tick
    let time = new Date(Date.now() - (this.offsetHours * 60 * 60 * 1000))
    this.state.hours = time.getHours()
    this.state.minutes = time.getMinutes()
    this.state.seconds = time.getSeconds()
    this.setStyle('--color', this.randomColor())

    if (this.props.publish) {
      Fez.publish('clock-second', this.state.seconds)
    }
  }

  init(props) {
    this.offsetHours = parseFloat(this.props.utc || 0)
    this.setVars()
    this.setInterval(this.setVars, 1000)
  }

  onDestroy() {
    console.log(`Bye from ${this.fezName} - ${this.props.city}`)
  }
&lt;/script>

&lt;style>
  input {
    border: 3px solid red !important;
  }

  svg {
    width: 100%;
    height: 100%;
  }

  .clock-face {
    stroke: #333;
    fill: white;
  }

  .minor {
    stroke: #999;
    stroke-width: 0.5;
  }

  .major {
    stroke: #333;
    stroke-width: 1;
  }

  .hour {
    stroke: #333;
    stroke-width: 1.5;
  }

  .minute {
    stroke: #666;
  }

  .second, .second-counterweight {
    stroke: var(--color);
  }

  .second-counterweight {
    stroke-width: 3;
  }
&lt;/style>

&lt;svg viewBox="-50 -50 100 100">
  &lt;circle class="clock-face" r="48" />

  &lt;!-- markers -->
  {{each [0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55] as minute}}
    &lt;line class="major" y1="35" y2="45" transform="rotate({{30 * minute}})" />

    {{each [1, 2, 3, 4] as offset}}
      &lt;line class="minor" y1="42" y2="45" transform="rotate({{6 * (minute + offset)}})" />
    {{/each}}
  {{/each}}

  &lt;!-- hour hand -->
  &lt;line class="hour" y1="2" y2="-20" transform="rotate({{30 * state.hours + state.minutes / 2}})" />

  &lt;!-- minute hand -->
  &lt;line class="minute" y1="4" y2="-30" transform="rotate({{6 * state.minutes + state.seconds / 10}})" />

  &lt;!-- second hand -->
  &lt;g transform="rotate({{6 * state.seconds}})">
    &lt;line class="second" y1="10" y2="-38" />
    &lt;line class="second-counterweight" y1="10" y2="2" />
  &lt;/g>

  &lt;!-- City text -->
  {{if props.city }}
    &lt;text x="0" y="-17" text-anchor="middle" dominant-baseline="middle" style="font-size: 10px; fill: #111;">
      {{ props.city }}
    &lt;/text>
  {{/if}}
&lt;/svg>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-confetti.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-confetti')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-confetti
    </h3>

    <div id="body-ui-confetti" style="padding-bottom: 20px;">
      <ui-confetti>
  <button>Congratulations!</button>
</ui-confetti>

&sdot;

<ui-confetti>
  <button>And more congratulations!</button>
</ui-confetti>





    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: module imoorts</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-confetti"
          id="html-ui-confetti"
          file="./demo/fez/ui-confetti.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-confetti>
  &lt;button>Congratulations!&lt;/button>
&lt;/ui-confetti>

&sdot;

&lt;ui-confetti>
  &lt;button>And more congratulations!&lt;/button>
&lt;/ui-confetti>





        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-confetti"
          file="./demo/fez/ui-confetti.fez"
          name="ui-confetti"
          :action="applyChanges"
        >
          &lt;script>
  import confetti from 'https://cdn.skypack.dev/canvas-confetti';

  class {
    NAME = 'span'

    init() {
      this.root.onclick = ()=>confetti()
    }
  }
&lt;/script>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-counter.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-counter')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-counter
    </h3>

    <div id="body-ui-counter" style="padding-bottom: 20px;">
      <ui-counter></ui-counter>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>disabled state - attribute removed when value is false</li>
    <li>access current Fez component instance via <code>fez.</code> pointer</li>
    <li>global and local CSS</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-counter"
          id="html-ui-counter"
          file="./demo/fez/ui-counter.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-counter>&lt;/ui-counter>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-counter"
          file="./demo/fez/ui-counter.fez"
          name="ui-counter"
          :action="applyChanges"
        >
          &lt;script>
  init(props) {
    // called when Fez node is connected to DOM
    this.MAX = 6
    this.state.count = parseInt(props.start || 0)
  }

  isMax() {
    // is state is changed, template is re-rendered
    return this.state.count >= this.MAX
  }

  more() {
    this.state.count += this.isMax() ? 0 : 1
  }
&lt;/script>

&lt;style>
  /* compiles from scss to css and injects class in head */
  /* body style */
  background-color: #f7f7f7;

  /* scoped to this component */
  :fez {
    margin: 10px 0;

    button {
      position: relative;
      top: -3px;
    }

    span {
      padding: 5px 10px;
    }
  }
&lt;/style>

&lt;button class="btn-sm" onclick="fez.state.count -= 1" disabled={{ state.count &lt; 1 }}>-&lt;/button>
&lt;span>{{ state.count }}&lt;/span>
&lt;button class="btn-sm" onclick="fez.more()" disabled={{ isMax() }}>+&lt;/button>

{{if state.count > 0}}
  &lt;span>&mdash;&lt;/span>
  {{if state.count == MAX }}
    MAX
  {{else}}
    {{if state.count % 2 }}
      odd
    {{else}}
      even
    {{/if}}
  {{/if}}
{{/if}}

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-dialog.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-dialog')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-dialog
    </h3>

    <div id="body-ui-dialog" style="padding-bottom: 20px;">
      <button onclick="Dialog.show('#dialog-data')">Open dialog</button>

<template id="dialog-data">
  <h1>Nice clock</h1>
  <div style="max-width: 300px; margin: auto;">
    <ui-clock publish="true"></ui-clock>
  </div>
  <div style="float: right; margin-top: 20px;">
    On seconds 0,1, and 2 button is enabled.
    &rarr;
    <button
      class="action-button"
      onclick="alert('Dont click so hard!')"
    >Action</button>
  </div>
</template>



    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: global handler</li>
    <li>Features: Publish subscribe. Check code to see how easy it to enable / disable action buttons in Dialog.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-dialog"
          id="html-ui-dialog"
          file="./demo/fez/ui-dialog.html"
          language="html"
          :action="applyChanges"
        >
          &lt;button onclick="Dialog.show('#dialog-data')">Open dialog&lt;/button>

&lt;template id="dialog-data">
  &lt;h1>Nice clock&lt;/h1>
  &lt;div style="max-width: 300px; margin: auto;">
    &lt;ui-clock publish="true">&lt;/ui-clock>
  &lt;/div>
  &lt;div style="float: right; margin-top: 20px;">
    On seconds 0,1, and 2 button is enabled.
    &rarr;
    &lt;button
      class="action-button"
      onclick="alert('Dont click so hard!')"
    >Action&lt;/button>
  &lt;/div>
&lt;/template>



        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-dialog"
          file="./demo/fez/ui-dialog.fez"
          name="ui-dialog"
          :action="applyChanges"
        >
          &lt;script>
  // if GLOBAL is present, Fez engine
  // * on document load auto appends component to document
  // * after init() runs window[GLOBAL] = fez (mounted component)
  // this is singleton pattern
  GLOBAL = 'Dialog'

  close() {
    this.state.data = null
  }

  show(data) {
    if (data) {
      if (data[0] == '#') {
        data = document.getElementById(data.replace('#', '')).innerHTML
      }

      this.state.data = data
    }
  }

  // Dialog.actionButton(true | false) -> enable | disable
  // Just add a button with class 'action-button'
  actionButton(value) {
    const button = this.find('.action-button')
    if (button) {
      if (value) {
        button.removeAttribute('disabled')
      } else {
        button.setAttribute('disabled', '')
      }
    }
  }

  init() {
    // for demo purposes, we subscribe to global event
    this.subscribe('clock-second', (val)=>{
      this.actionButton(val % 6 &lt; 3)
    })
  }
&lt;/script>

&lt;style>
  .global-dialog {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;

    .dialog-content {
      background: white;
      border-radius: 8px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      padding: 2rem;
      margin: 100px auto;
      max-width: 600px;
      max-height: calc(100vh - 200px);
      overflow-y: auto;
      position: relative;

      h1, h2 {
        margin-top: 0px;
        text-align: center;
      }
    }

    .dialog-close {
      position: absolute;
      top: 15px;
      right: 15px;
    }
  }
&lt;/style>

&lt;div class="global-dialog" onclick="fez.close()" style="display: {{ state.data ? 'block' : 'none' }};">
  &lt;div class="dialog-content" onclick="event.stopPropagation()">
    &lt;button class="dialog-close" onclick="fez.close()">&times;&lt;/button>
    {{raw state.data }}
  &lt;/div>
&lt;/div>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-editor.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-editor')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-editor
    </h3>

    <div id="body-ui-editor" style="padding-bottom: 20px;">
      <ui-editor file="demo.html">
Hi, I am UI-EDITOR component.

To define me, just add &lt;ui-editor>&lt;/ui-editor>
anywhere in HTML code
</ui-editor>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>this is viewer / editor you see on the right</li>
    <li>Features: <code>Fez.head(...)</code> that will safely insert script tags in the page header</li>
    <li>Features: <code>Fez.untilTrue(...)</code> that will execute code every 100 milliseconds until it returns true</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-editor"
          id="html-ui-editor"
          file="./demo/fez/ui-editor.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-editor file="demo.html">
Hi, I am UI-EDITOR component.

To define me, just add &lt;ui-editor>&lt;/ui-editor>
anywhere in HTML code
&lt;/ui-editor>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-editor"
          file="./demo/fez/ui-editor.fez"
          name="ui-editor"
          :action="applyChanges"
        >
          &lt;head>
  &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/vs2015.min.css" />
&lt;/head>

&lt;script>
  import hljs from 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/es/highlight.min.js';

  class {
    reformatIndentation(text) {
      const lines = text.split('\n');
      if (lines.length &lt; 2) return text;

      let baseIndent = 0;
      for (let i = 1; i &lt; lines.length; i++){
        const line = lines[i].trim();
        if (line.length > 0) {
          baseIndent = lines[i].match(/^\s*/)[0].length;
          break;
        }
      }

      const targetIndent = Math.max(0, baseIndent - 2);

      const processedLines = lines.map(line => {
        const lineWithSpaces = line.replace(/\t/g, '  ');
        const leadingSpaces = lineWithSpaces.match(/^\s*/)[0].length;
        if (leadingSpaces === 0) return line;
        const newIndent = Math.max(0, leadingSpaces - targetIndent);
        return ' '.repeat(newIndent) + lineWithSpaces.trim();
      });

      return processedLines.join('\n');
    }

    getSource() {
      return this.codeNode.textContent
    }

    copy() {
      try {
          navigator.clipboard.writeText(this.getSource());
          Toast.info('File data copied to clipboard.');
        } catch (err) {
          console.error('Failed to copy: ', err);
          Toast.error('Failed to copy to clipboard.');
        }
      }

    init(props) {
      props.language ||= 'html'

      const child = this.root.firstElementChild
      if (child?.nodeName == 'TEMPLATE' || child?.nodeName == 'XMP') {
        this.source = Fez.htmlEscape(this.root.firstElementChild.innerHTML)
      } else {
        this.source = this.root.innerHTML
      }
    }

    onMount() {
      const node = this.codeNode = this.find('code')
      node.innerHTML = this.reformatIndentation(this.source.trim())
      hljs.highlightElement(node)
    }
  }
&lt;/script>

&lt;style>
  code {
    padding: 10px;
    font-size: 15px;
  }

  pre {
    margin-top: 20px;
    width: 100%;
    line-height: 26px;
  }
&lt;/style>

{{#if props.file}}
  &lt;div style="margin: 0; position: relative; top: 7px;">
    &lt;a
      href="https://raw.githubusercontent.com/dux/fez/main/{{ props.file.replace('./', '') }}"
      target="raw"
    >{{ props.file }}&lt;/a>
    &sdot;
    &lt;button class="btn-sm" onclick="fez.copy()">Copy&lt;/button>
    {{#if props.action }}
      &sdot;
      &lt;button
        class="btn-sm"
        style="cursor: pointer; font-weight: 600;"
        onclick="fez.props.action('{{ props.name }}')"
      >Update&lt;/button>
    {{/if}}
  &lt;/div>
{{/if}}

&lt;pre>
  &lt;code class="language-{{ props.language }}" contenteditable="{{ !!props.file }}">&lt;/code>
&lt;/pre>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-fa.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-fa')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-fa
    </h3>

    <div id="body-ui-fa" style="padding-bottom: 20px;">
      <input
  type="range" min="16" max="64" class="slider" id="fa_range" value="24"
  oninput="s = this.value; Fez('ui-fa', (el) => el.root.setAttribute('size', s) )"
/>

<br />

<ui-fa name="home" :size="document.getElementById('fa_range').value"></ui-fa>
<ui-fa name="heart" color="red"></ui-fa>
<ui-fa name="star" color="gold"></ui-fa>
<ui-fa name="cog"  color="blue"></ui-fa>

<h4>Brand Icons</h4>
<ui-fa name="fab fa-github" size="32"></ui-fa>
<ui-fa brand="twitter" color="#1DA1F2" size="32"></ui-fa>
<ui-fa brand="facebook" color="#1877F2" size="32"></ui-fa>
<ui-fa brand="instagram" color="#E4405F" size="32"></ui-fa>

<h4>Regular Icons</h4>
<ui-fa name="far fa-user" size="24"></ui-fa>
<ui-fa regular="heart" color="red" size="24"></ui-fa>
<ui-fa regular="star" color="gold" size="24"></ui-fa>

<script>setTimeout(() => Fez('ui-fa', (el) => el.setSize(fa_range.value)), 500)</script>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Font Awesome icon component with name parameter</li>
    <li>Supports dynamic size and color props, via <code>onPropsChange</code></li>
    <li>evaluate value of a attribute if prefixed with column <code>:</code> (in this example <code>:size=</code></li>
    <li>Accepts full Font Awesome class names (e.g., "fab fa-github") or shorthand (e.g., "home")</li>
    <li>Supports regular attribute for regular icons (e.g., regular="user" = "far fa-user")</li>
    <li>Supports brand attribute for brand icons (e.g., brand="github" = "fab fa-github")</li>
    <li>Dynamic size control via range input</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-fa"
          id="html-ui-fa"
          file="./demo/fez/ui-fa.html"
          language="html"
          :action="applyChanges"
        >
          &lt;input
  type="range" min="16" max="64" class="slider" id="fa_range" value="24"
  oninput="s = this.value; Fez('ui-fa', (el) => el.root.setAttribute('size', s) )"
/>

&lt;br />

&lt;ui-fa name="home" :size="document.getElementById('fa_range').value">&lt;/ui-fa>
&lt;ui-fa name="heart" color="red">&lt;/ui-fa>
&lt;ui-fa name="star" color="gold">&lt;/ui-fa>
&lt;ui-fa name="cog"  color="blue">&lt;/ui-fa>

&lt;h4>Brand Icons&lt;/h4>
&lt;ui-fa name="fab fa-github" size="32">&lt;/ui-fa>
&lt;ui-fa brand="twitter" color="#1DA1F2" size="32">&lt;/ui-fa>
&lt;ui-fa brand="facebook" color="#1877F2" size="32">&lt;/ui-fa>
&lt;ui-fa brand="instagram" color="#E4405F" size="32">&lt;/ui-fa>

&lt;h4>Regular Icons&lt;/h4>
&lt;ui-fa name="far fa-user" size="24">&lt;/ui-fa>
&lt;ui-fa regular="heart" color="red" size="24">&lt;/ui-fa>
&lt;ui-fa regular="star" color="gold" size="24">&lt;/ui-fa>

&lt;script>setTimeout(() => Fez('ui-fa', (el) => el.setSize(fa_range.value)), 500)&lt;/script>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-fa"
          file="./demo/fez/ui-fa.fez"
          name="ui-fa"
          :action="applyChanges"
        >
          &lt;script>
  Fez.head({css: 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css'})

  class {
    NAME = 'i'

    setSize(size) {
      if (size) {
        this.root.style.fontSize = `${parseInt(size)}px`
      }
    }

    setColor(value) {
      if (value) {
        this.setStyle('color', value)
      }
    }

    onPropsChange(name, value) {
      if (name == 'color') {
        this.setColor(value)
      }

      if (name == 'size') {
        this.setSize(value)
      }
    }

    setIcon(name) {
      // Remove existing FA classes
      this.root.className = this.root.className.replace(/\bfa[a-z]?\s+fa-[\w-]+/g, '')

      // Parse icon name - supports formats like "fas fa-home" or just "home"
      if (name.includes(' ')) {
        this.root.className += ` ${name}`
      } else {
        // Default to solid style
        this.root.className += ` fas fa-${name}`
      }
    }

    init(props) {
      this.copy('onclick', 'title')

      if (props.name) {
        this.setIcon(props.name)
      } else if (props.regular) {
        this.setIcon(`far fa-${props.regular}`)
      } else if (props.brand) {
        this.setIcon(`fab fa-${props.brand}`)
      }

      this.setColor(props.color)
      this.setSize(props.size)
   }
  }
&lt;/script>

&lt;style>
  display: inline-block;
  line-height: 1;
  transition: font-size 0.2s ease;
&lt;/style>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-fetch.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-fetch')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-fetch
    </h3>

    <div id="body-ui-fetch" style="padding-bottom: 20px;">
      <ui-fetch></ui-fetch>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Automatic JSON parsing for responses</li>
    <li>Session-based caching (cache is cleared on page refresh)</li>
    <li>Support for both promise-based and callback-based usage</li>
    <li>HTTP method support (GET, POST, etc.)</li>
    <li>Integrated error handling via Fez.onError</li>
    <li>Optional logging via Fez.LOG</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-fetch"
          id="html-ui-fetch"
          file="./demo/fez/ui-fetch.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-fetch>&lt;/ui-fetch>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-fetch"
          file="./demo/fez/ui-fetch.fez"
          name="ui-fetch"
          :action="applyChanges"
        >
          &lt;script>
  init() {
    this.state.results = {
      promise: '',
      callback: '',
      post: ''
    }
    this.state.loading = false
    this.state.logEnabled = Fez.LOG
  }

  async fetchData() {
    this.state.loading = true
    const url = 'https://jsonplaceholder.typicode.com/users/1'

    // Promise-based fetch
    const data = await Fez.fetch(url)
    this.state.results.promise = JSON.stringify(data, null, 2)

    // Callback-based fetch (will hit cache)
    Fez.fetch(url, (data) => {
      this.state.results.callback = JSON.stringify(data, null, 2)
    })

    // POST request
    const postData = await Fez.fetch('POST', 'https://jsonplaceholder.typicode.com/posts', {
      title: 'Test Post',
      body: 'This is a test post',
      userId: 1
    })
    this.state.results.post = JSON.stringify(postData, null, 2)
    this.state.loading = false
  }

  clearCache() {
    Fez._fetchCache = {}
    this.state.results = {
      promise: '',
      callback: '',
      post: ''
    }
  }

  toggleLogging() {
    Fez.LOG = !Fez.LOG
    this.state.logEnabled = Fez.LOG
  }
&lt;/script>

&lt;style>
  :fez {
    padding: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);

    h2 {
      margin-top: 0;
      color: #333;
    }

    .controls {
      margin: 20px 0;

      button {
        margin-right: 10px;
        padding: 8px 16px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.2s;

        &:hover {
          background: #0056b3;
        }

        &:disabled {
          background: #ccc;
          cursor: not-allowed;
        }
      }
    }

    .status {
      margin: 10px 0;
      padding: 10px;
      background: #f0f0f0;
      border-radius: 4px;
      font-family: monospace;
    }

    pre {
      background: #f8f9fa;
      padding: 12px;
      border-radius: 4px;
      overflow-x: auto;
      min-height: 50px;
      border: 1px solid #dee2e6;
      font-size: 13px;
      line-height: 1.5;
    }

    h3 {
      margin-top: 24px;
      margin-bottom: 12px;
      color: #495057;
    }

    .hint {
      color: #6c757d;
      font-size: 14px;
      font-style: italic;
    }
  }
&lt;/style>

&lt;h2>Fez.fetch Demo&lt;/h2>

&lt;div class="status">
  Logging: &lt;strong>{{ state.logEnabled ? 'Enabled' : 'Disabled' }}&lt;/strong>
  {{if state.logEnabled}}
    (check console for fetch logs)
  {{/if}}
&lt;/div>

&lt;div class="controls">
  &lt;button onclick="fez.fetchData()" disabled={{ state.loading }}>
    {{ state.loading ? 'Loading...' : 'Fetch Data' }}
  &lt;/button>
  &lt;button onclick="fez.clearCache()">Clear Cache&lt;/button>
  &lt;button onclick="fez.toggleLogging()">
    {{ state.logEnabled ? 'Disable' : 'Enable' }} Logging
  &lt;/button>
&lt;/div>

{{if state.results.promise || state.results.callback || state.results.post}}
  &lt;div class="results">
    {{if state.results.promise}}
      &lt;h3>Promise-based GET:&lt;/h3>
      &lt;pre>{{ state.results.promise }}&lt;/pre>
    {{/if}}

    {{if state.results.callback}}
      &lt;h3>Callback-based GET:&lt;/h3>
      &lt;p class="hint">Same URL - should hit cache on second click&lt;/p>
      &lt;pre>{{ state.results.callback }}&lt;/pre>
    {{/if}}

    {{if state.results.post}}
      &lt;h3>POST Request:&lt;/h3>
      &lt;pre>{{ state.results.post }}&lt;/pre>
    {{/if}}
  &lt;/div>
{{else}}
  &lt;p class="hint">Click "Fetch Data" to see the results&lt;/p>
{{/if}}

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-form.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-form')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-form
    </h3>

    <div id="body-ui-form" style="padding-bottom: 20px;">
      <div class="flex">
  <ui-form target="/api" :ping="updateFormData">
    <p>
      <input type="text" name="info" value="a dude" />
    </p>
    <p>
      <select name="num">
        <option>one</option>
        <option>two</option>
        <option>three</option>
      </select>
    </p>
    <p>
      <label><input type="radio" name="name" value="Jakov" /> Jakov</label>
      <label><input type="radio" name="name" value="Vid" /> Vid</label>
      <label><input type="radio" name="name" value="Dino" /> Dino</label>
    </p>
    <p>
      <button>Submit</button>
    </p>
  </ui-form>

  <ui-form target="/api" :ping="updateFormData">
    <p>
      <select name="num">
        <option>uno</option>
        <option>due</option>
        <option>tres</option>
      </select>
    </p>
    <p>
      <button>Submit</button>
    </p>
  </ui-form>
</div>

<pre id="form-data"></pre>

<script>
  function updateFormData(obj) {
    document.getElementById('form-data').textContent += JSON.stringify(obj) + "\n"
  }
</script>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: form helper - <code>this.formData()</code>. Get form data as object.</li>
    <li>Features: form helper - <code>this.onSubmit()</code>. If present, auto bind form and get form data as object</li>
    <li>prefix params with <code>:</code> if you want to calculate attribute value. Same as in Vue, current example <code>:ping="..."</code></li>
    <li>Custom DOM tag name - <code>FORM</code> instead of default <code>DIV</code></li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-form"
          id="html-ui-form"
          file="./demo/fez/ui-form.html"
          language="html"
          :action="applyChanges"
        >
          &lt;div class="flex">
  &lt;ui-form target="/api" :ping="updateFormData">
    &lt;p>
      &lt;input type="text" name="info" value="a dude" />
    &lt;/p>
    &lt;p>
      &lt;select name="num">
        &lt;option>one&lt;/option>
        &lt;option>two&lt;/option>
        &lt;option>three&lt;/option>
      &lt;/select>
    &lt;/p>
    &lt;p>
      &lt;label>&lt;input type="radio" name="name" value="Jakov" /> Jakov&lt;/label>
      &lt;label>&lt;input type="radio" name="name" value="Vid" /> Vid&lt;/label>
      &lt;label>&lt;input type="radio" name="name" value="Dino" /> Dino&lt;/label>
    &lt;/p>
    &lt;p>
      &lt;button>Submit&lt;/button>
    &lt;/p>
  &lt;/ui-form>

  &lt;ui-form target="/api" :ping="updateFormData">
    &lt;p>
      &lt;select name="num">
        &lt;option>uno&lt;/option>
        &lt;option>due&lt;/option>
        &lt;option>tres&lt;/option>
      &lt;/select>
    &lt;/p>
    &lt;p>
      &lt;button>Submit&lt;/button>
    &lt;/p>
  &lt;/ui-form>
&lt;/div>

&lt;pre id="form-data">&lt;/pre>

&lt;script>
  function updateFormData(obj) {
    document.getElementById('form-data').textContent += JSON.stringify(obj) + "\n"
  }
&lt;/script>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-form"
          file="./demo/fez/ui-form.fez"
          name="ui-form"
          :action="applyChanges"
        >
          &lt;script>
  NAME = 'form'

  // if you define onSubmit, you will get submited form data object
  // and event.preventDefault will allready be applied
  onSubmit(data) {
    this.props.ping(data)
  }
&lt;/script>

&lt;style>
  border: 2px solid green;
  border-radius: 5px;
  padding: 15px;
  margin: 15px 0;
  background-color: #efe;

  label {
    display: block;
    cursor: pointer;
    margin-bottom: 5px;
  }

  select option {
    font-size: 16px;
  }
&lt;/style>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-markdown.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-markdown')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-markdown
    </h3>

    <div id="body-ui-markdown" style="padding-bottom: 20px;">
      <ui-markdown>
### Hi

I am **markdown** from Fez custom component called `<ui-markdown>`, created inline in HTML.

* Fez is **too simple** to be true!
* `index.html` SPA
* New way to write web apps, without the bloat.
* See this example on [JSbin](https://jsbin.com/dopuram/edit?html,output)
</ui-markdown>

<h3>I am regular HTML</h3>

<ui-markdown>`Fez` md **again!** :)</ui-markdown>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: Module imports</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-markdown"
          id="html-ui-markdown"
          file="./demo/fez/ui-markdown.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-markdown>
### Hi

I am **markdown** from Fez custom component called `&lt;ui-markdown>`, created inline in HTML.

* Fez is **too simple** to be true!
* `index.html` SPA
* New way to write web apps, without the bloat.
* See this example on [JSbin](https://jsbin.com/dopuram/edit?html,output)
&lt;/ui-markdown>

&lt;h3>I am regular HTML&lt;/h3>

&lt;ui-markdown>`Fez` md **again!** :)&lt;/ui-markdown>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-markdown"
          file="./demo/fez/ui-markdown.fez"
          name="ui-markdown"
          :action="applyChanges"
        >
          &lt;script>
  import { marked } from 'https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js'

  class {
    init(props) {
      let text = props.html || this.root.innerHTML;
      this.root.classList.add('markdown');
      this.root.innerHTML = marked.parse(text);
    }
  }
&lt;/script>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-pub-sub.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-pub-sub')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-pub-sub
    </h3>

    <div id="body-ui-pub-sub" style="padding-bottom: 20px;">
      <style>
  .fez-ui-pubsub { margin-top: 10px; }
</style>

<button onclick="Fez.publish('ping', Math.random())">ping from anywhere</button>
&sdot;
Fast ping:
<button onclick="
  clearInterval(window.fastPing);
  window.fastPing = setInterval(()=>Fez.publish('ping', Math.random()), 10);"
>START</button>
&sdot;
<button onclick="clearInterval(window.fastPing)">END</button>

<ui-pubsub>
  <h4>listener 1</h4>
  <p class="target"></p>
</ui-pubsub>

<ui-pubsub>
  <h4>listener 2</h4>
  <b class="target"></b>
</ui-pubsub>

<ui-pubsub>
  <h4>listener 3</h4>
  Foo: <span class="target"></span>
</ui-pubsub>

<template id="pubsub-t">
  <ui-pubsub>
    Dynamic listener:
    <button onclick="Fez(this).root.remove()">&times;</button>
    &sdot;
    <span class="target"></span>
  </ui-pubsub>
</template>

<br />
<button onclick="this.insertAdjacentHTML('afterend', document.getElementById('pubsub-t').innerHTML)">add listener</button>

<script>
  Fez('ui-pubsub', class {
    update (info) {
      this.target.innerHTML = info
    }

    init() {
      this.target = this.find('.target')
      this.subscribe('ping', this.update)
      this.update('waiting for a ping...')
    }
  })

  setInterval(()=>Fez.publish('ping', Math.random()), 1000)
</script>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
  <li>Features: publish &lt;> subscribe mechanism. Auto disconnect on node destroy.</li>
  <li>Direct Fez component creation via <code>Fez(tagName, class { ... })</code></li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-pub-sub"
          id="html-ui-pub-sub"
          file="./demo/fez/ui-pub-sub.html"
          language="html"
          :action="applyChanges"
        >
          &lt;style>
  .fez-ui-pubsub { margin-top: 10px; }
&lt;/style>

&lt;button onclick="Fez.publish('ping', Math.random())">ping from anywhere&lt;/button>
&sdot;
Fast ping:
&lt;button onclick="
  clearInterval(window.fastPing);
  window.fastPing = setInterval(()=>Fez.publish('ping', Math.random()), 10);"
>START&lt;/button>
&sdot;
&lt;button onclick="clearInterval(window.fastPing)">END&lt;/button>

&lt;ui-pubsub>
  &lt;h4>listener 1&lt;/h4>
  &lt;p class="target">&lt;/p>
&lt;/ui-pubsub>

&lt;ui-pubsub>
  &lt;h4>listener 2&lt;/h4>
  &lt;b class="target">&lt;/b>
&lt;/ui-pubsub>

&lt;ui-pubsub>
  &lt;h4>listener 3&lt;/h4>
  Foo: &lt;span class="target">&lt;/span>
&lt;/ui-pubsub>

&lt;template id="pubsub-t">
  &lt;ui-pubsub>
    Dynamic listener:
    &lt;button onclick="Fez(this).root.remove()">&times;&lt;/button>
    &sdot;
    &lt;span class="target">&lt;/span>
  &lt;/ui-pubsub>
&lt;/template>

&lt;br />
&lt;button onclick="this.insertAdjacentHTML('afterend', document.getElementById('pubsub-t').innerHTML)">add listener&lt;/button>

&lt;script>
  Fez('ui-pubsub', class {
    update (info) {
      this.target.innerHTML = info
    }

    init() {
      this.target = this.find('.target')
      this.subscribe('ping', this.update)
      this.update('waiting for a ping...')
    }
  })

  setInterval(()=>Fez.publish('ping', Math.random()), 1000)
&lt;/script>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-pub-sub"
          file="./demo/fez/ui-pub-sub.fez"
          name="ui-pub-sub"
          :action="applyChanges"
        >
          &lt;--! defined in HTML block -->

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-slider.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-slider')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-slider
    </h3>

    <div id="body-ui-slider" style="padding-bottom: 20px;">
      <style>
  .fez-c-slider {
    .fez-slot {
      > div {
         text-align: center;
      }
    }
  }

  div.img {
    img {
      width: 100%;
      max-height: 600px;
      object-fit: cover;
      border-radius: 8px;
    }
  }
</style>

<ui-slider>
  <div>
    <h1>Slide 1</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1737143765999-bd3be790ab4f?w=600" />
     </div>
  </div>
  <div>
    <h1>Slide 2</h1>
    <div class="img flex">
      <img src="https://images.unsplash.com/photo-1735767975829-71496633d499?w=600" />
      <img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" />
    </div>
    <div style="width: 200px;  margin: 20px auto;">
      <ui-clock city="Slider!"></ui-clock>
    </div>
  </div>
  <div>
    <h1>Slide 3</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1737898415581-7dea57a1905b?w=600" />
     </div>
  </div>
  <div>
    <h1>Slide 4</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" />
    </div>
    <ul>
      <li>Add any HTML</li>
    </ul>
  </div>
  <div>
    <h1>Slide 5</h1>
    <div class="img">
      <img src="https://images.unsplash.com/photo-1736185669686-f302d6274f23?w=600" />
    </div>
  </div>
</ui-slider>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>sweet component with css animations :)</li>
    <li>Features: <code>this.find()</code> to find node in template, shortcut for <code>this.root.querySelector()</code></li>
    <li>Features: <code>this.beforeRender()</code> to prepare vars before render (clean alternative to svelte <code>$: {...}</code></li>
    <li>Features: <code>this.onResize()</code> to execute code on window resized. Auto cleared when node is removed.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-slider"
          id="html-ui-slider"
          file="./demo/fez/ui-slider.html"
          language="html"
          :action="applyChanges"
        >
          &lt;style>
  .fez-c-slider {
    .fez-slot {
      > div {
         text-align: center;
      }
    }
  }

  div.img {
    img {
      width: 100%;
      max-height: 600px;
      object-fit: cover;
      border-radius: 8px;
    }
  }
&lt;/style>

&lt;ui-slider>
  &lt;div>
    &lt;h1>Slide 1&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1737143765999-bd3be790ab4f?w=600" />
     &lt;/div>
  &lt;/div>
  &lt;div>
    &lt;h1>Slide 2&lt;/h1>
    &lt;div class="img flex">
      &lt;img src="https://images.unsplash.com/photo-1735767975829-71496633d499?w=600" />
      &lt;img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" />
    &lt;/div>
    &lt;div style="width: 200px;  margin: 20px auto;">
      &lt;ui-clock city="Slider!">&lt;/ui-clock>
    &lt;/div>
  &lt;/div>
  &lt;div>
    &lt;h1>Slide 3&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1737898415581-7dea57a1905b?w=600" />
     &lt;/div>
  &lt;/div>
  &lt;div>
    &lt;h1>Slide 4&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1736158064402-5b68c2cbcc77?w=600" />
    &lt;/div>
    &lt;ul>
      &lt;li>Add any HTML&lt;/li>
    &lt;/ul>
  &lt;/div>
  &lt;div>
    &lt;h1>Slide 5&lt;/h1>
    &lt;div class="img">
      &lt;img src="https://images.unsplash.com/photo-1736185669686-f302d6274f23?w=600" />
    &lt;/div>
  &lt;/div>
&lt;/ui-slider>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-slider"
          file="./demo/fez/ui-slider.fez"
          name="ui-slider"
          :action="applyChanges"
        >
          &lt;script>
  setSlide(num) {
    this.state.slide = num

    if (this.state.slide &lt; 0) {
      this.state.slide = this.slidesCount - 1
    } else if (this.state.slide >= this.slidesCount) {
      this.state.slide = 0
    }

    const width = this.find('.slot')?.getBoundingClientRect().width ?? 0
    this.setStyle('--offset', `-${width * this.state.slide}px`)
  }

  changeSlide(direction){
    this.setSlide( this.state.slide += direction )
  }

  init() {
    this.slidesCount = this.childNodes().length
    this.setStyle('--arrow-width', `70px`)
    this.setSlide(0)
    this.onResize(this.render, 100)
  }
&lt;/script>

&lt;style>
  table.slides {
    width: 100%;
    table-layout: fixed;
    td {
      &.arrow {
        cursor: pointer;
        width: var(--arrow-width);
        div {
          display: flex;
          justify-content: center;
          align-items: center;
          font-size: 50px;
          color: #aaa;
          width: var(--arrow-width);
          span {
            transform: rotate(-90deg);
          }
        }
        &:hover span {
          color: #111;
        }
        &:nth-child(3) {
          span {
            transform: rotate(90deg) translateY(10px);
          }
        }
      }
      div.slot {
        overflow: hidden;
        display: flex;
        align-items: flex-start;
        max-width: 100%;
        .slot-parent {
          max-width: 100%;
          transition: transform 0.3s ease;
          transform: translateX(var(--offset));
          .fez-slot {
            display: flex;
            & > div {
              width: 100%;
              flex-shrink: 0;
            }
          }
        }
      }
    }
  }
&lt;/style>

&lt;table class="slides">
  &lt;tr>
    &lt;td class="arrow" onclick="fez.changeSlide(-1)">
      &lt;div>
        &lt;span>&#8679;&lt;/span>
      &lt;/div>
    &lt;/td>
    &lt;td>
      &lt;div class="slot">
        &lt;div class="slot-parent">
          &lt;slot />
        &lt;/div>
      &lt;/div>
    &lt;/td>
    &lt;td class="arrow" onclick="fez.changeSlide(1)">
      &lt;div>
        &lt;span>&#8679;&lt;/span>
      &lt;/div>
    &lt;/td>
  &lt;/tr>
&lt;/table>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-style.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-style')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-style
    </h3>

    <div id="body-ui-style" style="padding-bottom: 20px;">
      <ui-style>This text will be smaller on mobile. Using <code>:mobile { ...</code> shortcut.<ui-style>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: <code>Fez.styleMacro</code> - define style shortcuts.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-style"
          id="html-ui-style"
          file="./demo/fez/ui-style.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-style>This text will be smaller on mobile. Using &lt;code>:mobile { ...&lt;/code> shortcut.&lt;ui-style>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-style"
          file="./demo/fez/ui-style.fez"
          name="ui-style"
          :action="applyChanges"
        >
          &lt;head>
  &lt;script>
    Fez.styleMacro('mobile', '@media (max-width:  1200px)')
  &lt;/script>
&lt;/head>

&lt;style>
  h1 {
    transition: font-size 0.3s ease;

    :mobile {
      font-size: 20px;
    }
  }
&lt;/style>

&lt;div>
  &lt;h1>
     &lt;slot />
  &lt;/h1>
&lt;/div>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-tabs.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-tabs')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-tabs
    </h3>

    <div id="body-ui-tabs" style="padding-bottom: 20px;">
      <ui-tabs>
  <div title="Bar">
    <p>First tab</p>

    <br />

    <ui-tabs>
      <div title="Foo nested 2">First tab</div>
      <div title="Bar">
        <p>second tab</p>

        <ui-tabs>
          <div title="Foo nested 3">first tab</div>
          <div title="Bar nested 3">
            <p>second tab</p>
            <hr />
            <ui-clock></ui-clock>
          </div>
        </ui-tabs>
      </div>
    </ui-tabs>
  </div>
  <div title="Baz">
    <h4>image tab</h4>
    <img src="./demo/fez.png" />
  </div>
  <div title="Foo">
    Third tab
    <hr />
    <ui-clock></ui-clock>
  </div>
</ui-tabs>


    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: alternative node builder</li>
    <li>nested and recursive components (tabs in tabs in tabs)</li>
    <li><code>this.childNodes()</code> FEZ instance helper function, get all first level child nodes, excluding #text nodes.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-tabs"
          id="html-ui-tabs"
          file="./demo/fez/ui-tabs.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-tabs>
  &lt;div title="Bar">
    &lt;p>First tab&lt;/p>

    &lt;br />

    &lt;ui-tabs>
      &lt;div title="Foo nested 2">First tab&lt;/div>
      &lt;div title="Bar">
        &lt;p>second tab&lt;/p>

        &lt;ui-tabs>
          &lt;div title="Foo nested 3">first tab&lt;/div>
          &lt;div title="Bar nested 3">
            &lt;p>second tab&lt;/p>
            &lt;hr />
            &lt;ui-clock>&lt;/ui-clock>
          &lt;/div>
        &lt;/ui-tabs>
      &lt;/div>
    &lt;/ui-tabs>
  &lt;/div>
  &lt;div title="Baz">
    &lt;h4>image tab&lt;/h4>
    &lt;img src="./demo/fez.png" />
  &lt;/div>
  &lt;div title="Foo">
    Third tab
    &lt;hr />
    &lt;ui-clock>&lt;/ui-clock>
  &lt;/div>
&lt;/ui-tabs>


        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-tabs"
          file="./demo/fez/ui-tabs.fez"
          name="ui-tabs"
          :action="applyChanges"
        >
          &lt;script>
  activateNode(node) {
    // Remove active class from siblings
    Array.from(node.parentElement.children).forEach(child => {
      child.classList.remove('active')
    })
    node.classList.add('active')
  }

  activate(num) {
    this.active = parseInt(num)
    const header = this.root.querySelector('div.header')
    const target = header.children[num]
    this.activateNode(target)
    this.activateNode(this.tabs[num])
  }

  init(props) {
    this.root.style.width = 'calc(100%)'

    const { n, activate } = this;
    this.tabs = this.childNodes()
    this.render([
      n('div.header', this.tabs.map((tab, index) =>
        n('span', tab.getAttribute('title'), { onclick: ()=> activate(index) })
      )),
      n('.body', '&lt;slot />')
    ]);

    this.activate(0)
  }
&lt;/script>

&lt;style>
  .fez-ui-tabs {
    body > div {
      display: none;
    }
  }

  :fez {
    --tabs-border: 1px solid #ccc;

    max-width: calc(100%);

    .header {
      margin-bottom: -2px;
      position: relative;
      z-index: 1;

      & > span {
        border: var(--tabs-border);
        padding: 8px 15px;
        display: inline-block;
        border-radius: 8px 8px 0 0;
        margin-right: -1px;
        background: #eee;
        cursor: pointer;

        &.active {
          background-color: #fff;
          border-bottom: none;
        }
      }
    }

    .body {
      border: var(--tabs-border);
      padding: 8px 15px;
      background: #fff;

      & > div {
        display: none;

        &.active {
          display: block;
        }
      }
    }
  }
&lt;/style>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-time.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-time')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-time
    </h3>

    <div id="body-ui-time" style="padding-bottom: 20px;">
      <ui-time city="Zagreb">
  <ul>
    <li>
      Slot state preservation demo: &nbsp;
      <b class="color-name"></b>
    </li>
  </ul>
</ui-time>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: slots - preserves original slot (fez tag innerHTML) on re-render</li>
    <li>
      global and local css. If <code>:fez { ... }</code> is present, anything inside is local, anything outside is global.
      If no class <code>:fez</code> is present, style is considered local.
      </li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-time"
          id="html-ui-time"
          file="./demo/fez/ui-time.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-time city="Zagreb">
  &lt;ul>
    &lt;li>
      Slot state preservation demo: &nbsp;
      &lt;b class="color-name">&lt;/b>
    &lt;/li>
  &lt;/ul>
&lt;/ui-time>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-time"
          file="./demo/fez/ui-time.fez"
          name="ui-time"
          :action="applyChanges"
        >
          &lt;script>
  NAME = 'div'

  getRandomColor() {
    const colors = ['red', 'blue', 'green', 'teal', 'black', 'magenta', 'orange', 'lightblue']
    return colors[Math.floor(Math.random() * colors.length)]
  }

  setRandomColor() {
    const color = this.getRandomColor()
    // this.find('.color-name').innerHTML = color
    this.root.querySelector('.color-name').innerHTML = color
    this.root.style.borderColor = color
  }

  getTime() {
    return (new Date()).getTime()
  }

  setTime() {
    this.val('.time', this.getTime())
  }

  afterRender() {
    this.setTime()
  }

  init() {
    this.setRandomColor()
  }
&lt;/script>

&lt;style>
  /* styles are applied to body, so this becomes body background color */
  background-color: #f7f7f7;

  /* local component style applied to mounted component root */
  :fez {
    border: 10px solid green;
    border-radius: 10px;
    padding: 10px;
    background-color: #fff;

    button {
      font-size: 16px;
    }
  }
&lt;/style>

&lt;p>Param city: {{ props.city }}&lt;/p>
&lt;p>Time now: &lt;span class="time">&lt;/span>&lt;/p>
&lt;p>Random num: &lt;span>{{ Math.random() }}&lt;/span>&lt;/p>
&lt;button onclick="fez.setRandomColor()">random color&lt;/button>
&sdot;
&lt;button onclick="fez.render()">refresh & preserve slot&lt;/button>
&lt;hr />

&lt;slot>&lt;/slot>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-tippy.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-tippy')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-tippy
    </h3>

    <div id="body-ui-tippy" style="padding-bottom: 20px;">
      <p>
  To enable, add add <code>tooltip="..."</code> to any node.
</p>

<h4>Basic Examples</h4>

<button tooltip="Hi from tippy.js">Hover me</button>
<button tooltip="Another tooltip!">Another button</button>
<a href="#" tooltip="Works on links too">Hover this link</a>

<h4>Dynamic Content</h4>
<button onclick="this.setAttribute('tooltip', 'Updated at ' + new Date().toLocaleTimeString())">
  Click me then hover (dynamic tooltip)
</button>

<h4>Icons and Images</h4>
<span tooltip="Settings" style="font-size: 24px; cursor: pointer;">‚öôÔ∏è</span>
<span tooltip="Information" style="font-size: 24px; cursor: pointer;">‚ÑπÔ∏è</span>
<span tooltip="Warning!" style="font-size: 24px; cursor: pointer;">‚ö†Ô∏è</span>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: Nothing!. Blank compoenent, only adds to head on load.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-tippy"
          id="html-ui-tippy"
          file="./demo/fez/ui-tippy.html"
          language="html"
          :action="applyChanges"
        >
          &lt;p>
  To enable, add add &lt;code>tooltip="..."&lt;/code> to any node.
&lt;/p>

&lt;h4>Basic Examples&lt;/h4>

&lt;button tooltip="Hi from tippy.js">Hover me&lt;/button>
&lt;button tooltip="Another tooltip!">Another button&lt;/button>
&lt;a href="#" tooltip="Works on links too">Hover this link&lt;/a>

&lt;h4>Dynamic Content&lt;/h4>
&lt;button onclick="this.setAttribute('tooltip', 'Updated at ' + new Date().toLocaleTimeString())">
  Click me then hover (dynamic tooltip)
&lt;/button>

&lt;h4>Icons and Images&lt;/h4>
&lt;span tooltip="Settings" style="font-size: 24px; cursor: pointer;">‚öôÔ∏è&lt;/span>
&lt;span tooltip="Information" style="font-size: 24px; cursor: pointer;">‚ÑπÔ∏è&lt;/span>
&lt;span tooltip="Warning!" style="font-size: 24px; cursor: pointer;">‚ö†Ô∏è&lt;/span>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-tippy"
          file="./demo/fez/ui-tippy.fez"
          name="ui-tippy"
          :action="applyChanges"
        >
          &lt;head>
  &lt;link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css">
  &lt;script type="module">
    // add tooltip="..." to any node
    import tippy from 'https://cdn.skypack.dev/tippy.js'

    const bindTippy = () => {
      const ttName = 'tooltip'
      document.querySelectorAll(`[${ttName}]`).forEach(node => {
        tippy(node, {
          content: node.getAttribute(ttName),
          arrow: true
        })
        node.removeAttribute(ttName)
      })
    }

    bindTippy()
    setInterval(bindTippy, 1000)
  &lt;/script>
&lt;/head>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-toast.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-toast')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-toast
    </h3>

    <div id="body-ui-toast" style="padding-bottom: 20px;">
      <form onsubmit="showToast(this); return false">
  <input type="text" name="toast" />
  <button class="btn">Show info</button>
</form>

<br />

<button class="btn-sm" onclick="Toast.info('Hi')">Trigger info</button>
<button class="btn-sm" onclick="Toast.error('Graaa')">Trigger error</button>

<script>
  function showToast(form) {
    let input = form.querySelector('input')
    Toast.info(input.value)
    input.value = ''
  }
</script>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>Features: class header that gets executed on component initializer.</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-toast"
          id="html-ui-toast"
          file="./demo/fez/ui-toast.html"
          language="html"
          :action="applyChanges"
        >
          &lt;form onsubmit="showToast(this); return false">
  &lt;input type="text" name="toast" />
  &lt;button class="btn">Show info&lt;/button>
&lt;/form>

&lt;br />

&lt;button class="btn-sm" onclick="Toast.info('Hi')">Trigger info&lt;/button>
&lt;button class="btn-sm" onclick="Toast.error('Graaa')">Trigger error&lt;/button>

&lt;script>
  function showToast(form) {
    let input = form.querySelector('input')
    Toast.info(input.value)
    input.value = ''
  }
&lt;/script>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-toast"
          file="./demo/fez/ui-toast.fez"
          name="ui-toast"
          :action="applyChanges"
        >
          &lt;script>
  // helper function
  window.Toast = {
    info: (text, klass) => {
      Fez('#ui-toast').info(text, klass)
    },

    error: (text) => {
      Toast.info(text, 'error')
    }
  }

  // auto init
  document.body.insertAdjacentHTML('beforeend', '&lt;ui-toast id="ui-toast">&lt;/ui-toast>')

  class {
    info(text, klass)  {
      const node = document.createElement('div')
      node.className = `toast ${klass || 'info'}`
      node.innerHTML = text
      this.find('.parent').prepend(node)

      setTimeout(()=>{
        node.classList.add('leave')
        setTimeout(()=>node.remove(), 2000)
      }, 4000)
    }
  }
&lt;/script>
&lt;style>
  .parent {
    width: 300px;
    position: fixed;
    top: 20px;
    right: 20px;

    div.toast {
      padding: 10px 20px;
      background-color: #fff;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
      animation: dropIn 0.5s ease-out;

      &.leave {
        animation: dropOut 0.3s ease forwards;
      }

      &.info {
        border: 1px solid lch(50% 50 140);;
        background-color: lch(90% 50 140);
      }

      &.error {
        border: 1px solid lch(50% 50 350);;
        background-color: lch(90% 50 350);
      }
    }
  }

  @keyframes dropIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes dropOut {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(20px);
    }
  }
&lt;/style>

&lt;div class="parent">&lt;/div>


        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
      

<script fez="./demo/fez/ui-todo.fez"></script>
<div class="flex" style="border-top: 1px solid #ccc; margin-bottom: 50px;">
  <div style="margin-top: 10px;">
    <small style="float: right;" onclick="openCodePen('ui-todo')">open in CodePen</small>
    <h3 style="margin-top: 0;">
      Demo: ui-todo
    </h3>

    <div id="body-ui-todo" style="padding-bottom: 20px;">
      <ui-todo></ui-todo>

    </div>
  </div>
  <div style="margin-top: 20px; max-width: 690px;">
    <ui-tabs>
      <div title="Info" active="true">
        <div class="info">
  <ul>
    <li>fully <b>reactive state</b></li>
    <li>template for loop</li>
    <li>Features: <code>fez-bind</code> - two way binding of input element</li>
    <li>Features: <code>fez-use</code> - when node is added to dom, call described function and pass node as reference (inspired by Svelte)</li>
  </ul>
</div>
      </div>
      <div title="HTML">
        <ui-editor
          name="ui-todo"
          id="html-ui-todo"
          file="./demo/fez/ui-todo.html"
          language="html"
          :action="applyChanges"
        >
          &lt;ui-todo>&lt;/ui-todo>

        </ui-editor>
      </div>
      <div title="Fez component">
        <ui-editor
          id="code-ui-todo"
          file="./demo/fez/ui-todo.fez"
          name="ui-todo"
          :action="applyChanges"
        >
          &lt;script>
  clearCompleted() {
    this.state.tasks = this.state.tasks.filter((t) => !t.done)
  }

  removeTask(index) {
    this.state.tasks = this.state.tasks.filter((_, i) => i !== index);
  }

  addTask() {
    // no need to force update template, this is automatic because we are using reactiveStore()
    this.counter ||= 0
    this.state.tasks.push({
      name: `new task ${++this.counter}`,
      done: false,
      animate: true
    })
  }

  animate(node) {
    // same as in Svelte, uf you define fez-use="methodName", method will be called when node is added to dom.
    // in this case, we animate show new node

    node.style.display = 'block'
    node.style.transition = 'height 200ms, opacity 200ms'
    node.style.height = '33px'
    node.style.opacity = '1'

    setTimeout(() => {
      delete this.state.tasks[this.state.tasks.length-1].animate
      node.style.height = 'auto'
      node.style.transition = ''
    }, 200)
  }

  init() {
    this.state.tasks = [
      {name: 'First task', done: false},
      {name: 'Second task', done: false},
      {name: 'Third task', done: true },
    ]
  }
&lt;/script>

&lt;h3>Tasks&lt;/h3>
{{if !state.tasks[0] }}
  &lt;p>No tasks found&lt;/p>
{{/if}}

{{for task, index in state.tasks}}
  {{if task.animate}} &lt;!-- this is fine because this is string templating -->
    &lt;p fez-use="animate" style="display: none; height: 0px; opacity: 0;">
  {{:else}}
    &lt;p>
  {{/if}}
    &lt;input
      type="text"
      fez-bind="state.tasks[{{index}}].name"
      style="{{ task.done ? 'background-color: #ccc;' : '' }}"
    />
    &sdot;
    &lt;input
      type="checkbox"
      fez-bind="state.tasks[{{index}}].done"
    />
    &sdot;
    &lt;button onclick="fez.removeTask({{ index }})">&times;&lt;/button>
  &lt;/p>
{{/for}}
&lt;p>
  &lt;button onclick="fez.addTask()">add task&lt;/button>
  &sdot;
  &lt;button onclick="fez.clearCompleted()">clear completed&lt;/button>
&lt;/p>
&lt;pre class="code">{{ JSON.stringify(state.tasks, null, 2) }}&lt;/pre>
&lt;p>If you want to preserve state in templates, wrap content in "fez-slot"&lt;/p>
&lt;p>Refresh: {{Math.random()}}&lt;/p>
&lt;p class="fez-slot">
  Do not refresh: {{Math.random()}}.
&lt;/p>

        </ui-editor>
      </div>
    </ui-tabs>
  </div>
</div>

    
  </div>

  <hr />

  <p class="center">
    Fez was created by <a href="https://github.com/dux/">@dux</a> in 2024.
  </p>

  <script>
    window.applyChanges = function(name) {
      let htmlString = Fez(`#code-${name}`).getSource()
      htmlString = `<xmp fez="${name}">${htmlString}</xmp>`
      const tempDiv = document.createElement('div')
      tempDiv.innerHTML = htmlString
      const node = tempDiv.firstElementChild
      Fez.compile( node )
      document.querySelector(`#body-${name}`).innerHTML = Fez(`#html-${name}`).getSource()
      Toast.info('HTML content updated.')
    }

    window.openCodePen = function(name) {
      let html = Fez(`#html-${name}`).getSource()
      let code = Fez(`#code-${name}`).getSource()
      const body = [
        '<link rel="stylesheet" href="//cdn.simplecss.org/simple.css" />\n<scr'+'ipt src="//dux.github.io/fez/dist/fez.js"></scr'+'ipt>',
        `<!-- FEZ code start -->\n<xmp fez="${name}">\n${code}\n</xmp>\n<!-- FEZ code end -->`,
        `<!-- HTML code start -->\n${html}\n<!-- HTML code end -->`
      ]

      const css = `body {
  padding-top: 50px;
}
      `

      const data = {
        title: `Fez component - ${name}`,
        html: body.join("\n\n"),
        css: css,
        js: '',
        editors: "100" // 1=HTML, 0=CSS, 1=JS (open panels)
      };

      const form = document.createElement("form");
      form.method = "POST";
      form.action = "https://codepen.io/pen/define";
      form.target = "_blank";

      const input = document.createElement("input");
      input.type = "hidden";
      input.name = "data";
      input.value = JSON.stringify(data);

      form.appendChild(input);
      document.body.appendChild(form);
      form.submit();
      document.body.removeChild(form);
    }  </script>
</body>
</html>

