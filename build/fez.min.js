(()=>{var _e=Object.defineProperty;var Te=(e,t,r)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var re=(e,t,r)=>Te(e,typeof t!="symbol"?t+"":t,r);function ne(e,t){let r=/(\r\n|\r|\n)/g,i=/{{\s*(.+?)\s*}}/g,o=/^each\s+(.*)\s+as\s+(.*)$/,s=/^if\s+(.*)$/,l=/^else if\s+(.*)$/;function a(v){let g=w=>w.replaceAll("@","this."),E=`
      let _strings = [], _sequence = [], _values = [];

      function htmlEscape(text) {
        if (typeof text === 'string') {
          return text
            .replaceAll("'", '&apos;')
            .replaceAll('"', '&quot;')
            .replaceAll('<', '&lt;')
            .replaceAll('>', '&gt;')
        } else {
          return text
        }
      }

      _sequence.push('${v.trim().replace(r,"\\n").replace(i,(w,u)=>{if(u=u.replace(/^[#:]/,""),u.startsWith("each")||u.startsWith("for")){let m=u.split(/\s+/);if(m.shift()==="for"){let M=m.pop();m.pop(),u=`each ${M} as ${m.join(" ")}`}let T=o.exec(u);if(T)return T[1]=g(T[1]),`');
 (!Array.isArray(${T[1]}) ? Array.from(Object.entries(${T[1]} || []), ([key, value]) => [key, value]) : ${T[1]}).forEach((${T[2]}) => { _sequence.push('`}else if(u.startsWith("if")){let m=s.exec(u);if(m)return m[1]=g(m[1]),`');
 if (${m[1]}) { _sequence.push('`}else if(u.startsWith("else if")){let m=l.exec(u);if(m)return m[1]=g(m[1]),`');
 } else if (${m[1]}) { _sequence.push('`}else{if(u==="else")return`');
 } else { _sequence.push('`;if(u==="/each"||u==="/for")return`');
 }); _sequence.push('`;if(u==="/if")return`');
 } _sequence.push('`}let j=u.split(/^\@html\s+/);return j[1]?u=g(j[1]):u=`htmlEscape(${g(u)})`,`');
 _strings.push(_sequence.join(''));
 _sequence = [];
 _values.push(${u});
 _sequence.push('`})}');
      _strings.push(_sequence.join(''));
      return [_strings, _values];
    `;return new Function("_data",E)}function f(v){let g=a(v);return()=>{let[E,w]=g.bind(t)();return E.reduce((u,j,m)=>u+w[m-1]+j)}}function h(v){let g=new Set(["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"]);return v.replace(/<([a-z-]+)\b([^>]*)\/>/g,(E,w,u)=>g.has(w)?E:`<${w}${u}></${w}>`)}return e=h(e),f(e)().replace(/\n\s*\n/g,`
`)}var ie,Se="http://www.w3.org/1999/xhtml",C=typeof document=="undefined"?void 0:document,we=!!C&&"content"in C.createElement("template"),ze=!!C&&C.createRange&&"createContextualFragment"in C.createRange();function $e(e){return e=e.trim(),we?function(t){var r=C.createElement("template");return r.innerHTML=t,r.content.childNodes[0]}(e):ze?function(t){return ie||(ie=C.createRange()).selectNode(C.body),ie.createContextualFragment(t).childNodes[0]}(e):function(t){var r=C.createElement("body");return r.innerHTML=t,r.childNodes[0]}(e)}function G(e,t){var r,i,o=e.nodeName,s=t.nodeName;return o===s||(r=o.charCodeAt(0),i=s.charCodeAt(0),r<=90&&i>=97?o===s.toUpperCase():i<=90&&r>=97&&s===o.toUpperCase())}function se(e,t,r){e[r]!==t[r]&&(e[r]=t[r],e[r]?e.setAttribute(r,""):e.removeAttribute(r))}var he={OPTION:function(e,t){var r=e.parentNode;if(r){var i=r.nodeName.toUpperCase();i==="OPTGROUP"&&(i=(r=r.parentNode)&&r.nodeName.toUpperCase()),i!=="SELECT"||r.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),r.selectedIndex=-1)}se(e,t,"selected")},INPUT:function(e,t){se(e,t,"checked"),se(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var r=t.value;e.value!==r&&(e.value=r);var i=e.firstChild;if(i){var o=i.nodeValue;if(o==r||!r&&o==e.placeholder)return;i.nodeValue=r}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var r,i,o=-1,s=0,l=e.firstChild;l;)if((i=l.nodeName&&l.nodeName.toUpperCase())==="OPTGROUP")l=(r=l).firstChild;else{if(i==="OPTION"){if(l.hasAttribute("selected")){o=s;break}s++}!(l=l.nextSibling)&&r&&(l=r.nextSibling,r=null)}e.selectedIndex=o}}};function x(){}function Oe(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var me=function(e){return function(t,r,i){if(i||(i={}),typeof r=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var o=r;(r=C.createElement("html")).innerHTML=o}else r=$e(r);else r.nodeType===11&&(r=r.firstElementChild);var s=i.getNodeKey||Oe,l=i.onBeforeNodeAdded||x,a=i.onNodeAdded||x,f=i.onBeforeElUpdated||x,h=i.onElUpdated||x,v=i.onBeforeNodeDiscarded||x,g=i.onNodeDiscarded||x,E=i.onBeforeElChildrenUpdated||x,w=i.skipFromChildren||x,u=i.addChild||function(d,c){return d.appendChild(c)},j=i.childrenOnly===!0,m=Object.create(null),T=[];function M(d){T.push(d)}function ce(d,c){if(d.nodeType===1)for(var p=d.firstChild;p;){var _=void 0;c&&(_=s(p))?M(_):(g(p),p.firstChild&&ce(p,c)),p=p.nextSibling}}function B(d,c,p){v(d)!==!1&&(c&&c.removeChild(d),g(d),ce(d,p))}function K(d){a(d);for(var c=d.firstChild;c;){var p=c.nextSibling,_=s(c);if(_){var R=m[_];R&&G(c,R)?(c.parentNode.replaceChild(R,c),D(R,c)):K(c)}else K(c);c=p}}function D(d,c,p){var _=s(c);if(_&&delete m[_],!p){var R=f(d,c);if(R===!1||(R instanceof HTMLElement&&(d=R),e(d,c),h(d),E(d,c)===!1))return}d.nodeName!=="TEXTAREA"?function(S,ee){var P,z,U,k,L,ue=w(S,ee),b=ee.firstChild,y=S.firstChild;e:for(;b;){for(k=b.nextSibling,P=s(b);!ue&&y;){if(U=y.nextSibling,b.isSameNode&&b.isSameNode(y)){b=k,y=U;continue e}z=s(y);var W=y.nodeType,F=void 0;if(W===b.nodeType&&(W===1?(P?P!==z&&((L=m[P])?U===L?F=!1:(S.insertBefore(L,y),z?M(z):B(y,S,!0),z=s(y=L)):F=!1):z&&(F=!1),(F=F!==!1&&G(y,b))&&D(y,b)):W!==3&&W!=8||(F=!0,y.nodeValue!==b.nodeValue&&(y.nodeValue=b.nodeValue))),F){b=k,y=U;continue e}z?M(z):B(y,S,!0),y=U}if(P&&(L=m[P])&&G(L,b))ue||u(S,L),D(L,b);else{var te=l(b);te!==!1&&(te&&(b=te),b.actualize&&(b=b.actualize(S.ownerDocument||C)),u(S,b),K(b))}b=k,y=U}(function(Ee,H,pe){for(;H;){var Ce=H.nextSibling;(pe=s(H))?M(pe):B(H,Ee,!0),H=Ce}})(S,y,z);var de=he[S.nodeName];de&&de(S,ee)}(d,c):he.TEXTAREA(d,c)}(function d(c){if(c.nodeType===1||c.nodeType===11)for(var p=c.firstChild;p;){var _=s(p);_&&(m[_]=p),d(p),p=p.nextSibling}})(t);var Y,Z,A=t,V=A.nodeType,fe=r.nodeType;if(!j){if(V===1)fe===1?G(t,r)||(g(t),A=function(d,c){for(var p=d.firstChild;p;){var _=p.nextSibling;c.appendChild(p),p=_}return c}(t,(Y=r.nodeName,(Z=r.namespaceURI)&&Z!==Se?C.createElementNS(Z,Y):C.createElement(Y)))):A=r;else if(V===3||V===8){if(fe===V)return A.nodeValue!==r.nodeValue&&(A.nodeValue=r.nodeValue),A;A=r}}if(A===r)g(t);else{if(r.isSameNode&&r.isSameNode(A))return;if(D(A,r,j),T)for(var J=0,Ne=T.length;J<Ne;J++){var Q=m[T[J]];Q&&B(Q,Q.parentNode,!1)}}return!j&&A!==t&&t.parentNode&&(A.actualize&&(A=A.actualize(t.ownerDocument||C)),t.parentNode.replaceChild(A,t)),A}}(function(e,t){var r,i,o,s,l=t.attributes;if(t.nodeType!==11&&e.nodeType!==11){for(var a=l.length-1;a>=0;a--)i=(r=l[a]).name,o=r.namespaceURI,s=r.value,o?(i=r.localName||i,e.getAttributeNS(o,i)!==s&&(r.prefix==="xmlns"&&(i=r.name),e.setAttributeNS(o,i,s))):e.getAttribute(i)!==s&&e.setAttribute(i,s);for(var f=e.attributes,h=f.length-1;h>=0;h--)i=(r=f[h]).name,(o=r.namespaceURI)?(i=r.localName||i,t.hasAttributeNS(o,i)||e.removeAttributeNS(o,i)):t.hasAttribute(i)||e.removeAttribute(i)}});var je={data:""},ge=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||je,Re=e=>{let t=ge(e),r=t.data;return t.data="",r},Le=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xe=/\/\*[^]*?\*\/|  +/g,be=/\n+/g,q=(e,t)=>{let r="",i="",o="";for(let s in e){let l=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+l+";":i+=s[1]=="f"?q(l,s):s+"{"+q(l,s[1]=="k"?"":t)+"}":typeof l=="object"?i+=q(l,t?t.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,a):a?a+" "+f:f)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=q.p?q.p(s,l):s+":"+l+";")}return r+(t&&o?t+"{"+o+"}":o)+i},O={},ve=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+ve(e[r]);return t}return e},qe=(e,t,r,i,o)=>{let s=ve(e),l=O[s]||(O[s]=(f=>{let h=0,v=11;for(;h<f.length;)v=101*v+f.charCodeAt(h++)>>>0;return"go"+v})(s));if(!O[l]){let f=s!==e?e:(h=>{let v,g,E=[{}];for(;v=Le.exec(h.replace(xe,""));)v[4]?E.shift():v[3]?(g=v[3].replace(be," ").trim(),E.unshift(E[0][g]=E[0][g]||{})):E[0][v[1]]=v[2].replace(be," ").trim();return E[0]})(e);O[l]=q(o?{["@keyframes "+l]:f}:f,r?"":"."+l)}let a=r&&O.g?O.g:null;return r&&(O.g=O[l]),((f,h,v,g)=>{g?h.data=h.data.replace(g,f):h.data.indexOf(f)===-1&&(h.data=v?f+h.data:h.data+f)})(O[l],t,i,a),l},Fe=(e,t,r)=>e.reduce((i,o,s)=>{let l=t[s];if(l&&l.call){let a=l(r),f=a&&a.props&&a.props.className||/^go/.test(a)&&a;l=f?"."+f:a&&typeof a=="object"?a.props?"":q(a,""):a===!1?"":a}return i+o+(l==null?"":l)},"");function X(e){let t=this||{},r=e.call?e(t.p):e;return qe(r.unshift?r.raw?Fe(r,[].slice.call(arguments,1),t.p):r.reduce((i,o)=>Object.assign(i,o&&o.call?o(t.p):o),{}):r,ge(t.target),t.g,t.o,t.k)}var ye,oe,le,Ie=X.bind({g:1}),Me=X.bind({k:1});function Pe(e,t,r,i){q.p=t,ye=e,oe=r,le=i}function Ue(e,t){let r=this||{};return function(){let i=arguments;function o(s,l){let a=Object.assign({},s),f=a.className||o.className;r.p=Object.assign({theme:oe&&oe()},a),r.o=/ *go\d+/.test(f),a.className=X.apply(r,i)+(f?" "+f:""),t&&(a.ref=l);let h=e;return e[0]&&(h=a.as||e,delete a.as),le&&h[0]&&le(a),ye(h,a)}return t?t(o):o}}var Ae={css:X,extractCss:Re,glob:Ie,keyframes:Me,setup:Pe,styled:Ue};function ae(e,t={},r){if(typeof t=="string"&&([t,r]=[r,t],t||(t={})),t instanceof Node&&(r=t,t={}),Array.isArray(e)&&(r=e,e="div"),(typeof t!="object"||Array.isArray(t))&&(r=t,t={}),e.includes(".")){let o=e.split(".");e=o.shift()||"div";let s=o.join(" ");t.class?t.class+=` ${s}`:t.class=s}let i=document.createElement(e);for(let[o,s]of Object.entries(t))if(typeof s=="function")i[o]=s.bind(this);else{let l=String(s).replaceAll("$$.",this.fezHtmlRoot);i.setAttribute(o,l)}if(r)if(Array.isArray(r))for(let o of r)i.appendChild(o);else r instanceof Node?i.appendChild(r):i.innerHTML=String(r);return i}var I=class{constructor(){re(this,"n",ae);this.__int={}}static find(e,t){return N.find(e,t)}static fnv1(e){var t,r,i,o,s,l;for(t=2166136261,r=16777619,i=t,o=s=0,l=e.length-1;0<=l?s<=l:s>=l;o=0<=l?++s:--s)i^=e.charCodeAt(o),i*=r;return i.toString(36).replaceAll("-","")}static getProps(e){let t={};for(let r of e.attributes)t[r.name]=r.value;return t}static formData(e){let t=new FormData(e.closest("form")),r={};return t.forEach((i,o)=>{r[o]=i}),r}static fastBind(){return!1}get fezHtmlRoot(){return`Fez.find(this, "${this.fezName}").`}get isAttached(){return this.root.parentNode?!0:(Object.keys(this.__int).forEach(e=>{clearInterval(this.__int[e])}),this.root.fez=null,this.root=null,!1)}prop(e){let t=this.oldRoot[e]||this.props[e];return typeof t=="function"&&(t=t.bind(this.root)),t}copy(){for(let e of Array.from(arguments)){let t=this.props[e];if(t!==void 0){if(e=="class"){let r=this.root.getAttribute(e,t);r&&(t=[r,t].join(" "))}typeof t=="string"?this.root.setAttribute(e,t):this.root[e]=t}}}slot(e,t){t||(t=document.createElement("template"));let r=t.nodeName=="SLOT";for(;e.firstChild;)r?t.parentNode.insertBefore(e.lastChild,t.nextSibling):t.appendChild(e.firstChild);return r?t.parentNode.removeChild(t):e.innerHTML="",t}style(){console.error("call Fez static style")}connect(){console.error('Fez is missing "connect" method.',this.root)}parseHtml(e,t){if(typeof e=="object"&&(e=e[0]),e=e.replaceAll("$$.",this.fezHtmlRoot.replaceAll('"',"&quot;")),e.includes("{{"))try{e=ne(e,this)}catch(r){console.error(`Fez stache template error in "${this.fezName}"`,r)}return e=e.replaceAll(">,<","><").replace(/\s*undefined\s*/g,""),e}html(target,body){typeof body=="undefined"&&(body=target,target=this.root),typeof target=="string"&&(target=this.find(target));let newNode=document.createElement("div");Array.isArray(body)?body[0]instanceof Node?body.forEach(e=>{newNode.appendChild(e)}):body=body.join(""):typeof body=="string"?newNode.innerHTML=this.parseHtml(body):newNode.appendChild(body);let slot=newNode.querySelector("slot");slot&&this.slot(target,slot),N.morphdom(target,newNode),target.querySelectorAll("*[fez-this]").forEach(n=>{let value=n.getAttribute("fez-this").replace(/[^\w\.\[\]]/,"");eval(`this.${value} = n`)}),target.querySelectorAll("*[fez-use]").forEach(e=>{let t=e.getAttribute("fez-use");this[t](e)})}setInterval(e,t,r){return typeof e=="number"&&([t,e]=[e,t]),r||(r=this.class.fnv1(String(e))),clearInterval(this.__int[r]),this.__int[r]=setInterval(()=>{this.isAttached&&e()},t),this.__int[r]}css(e,t){let r=N.css(e);return t&&this.root.classList.add(r),r}find(e){return this.root.querySelector(e)}val(e,t){let r=this.find(".time");["INPUT","TEXTAREA","SELECT"].includes(r.nodeName)?r.value=t:r.innerHTML=new Date}formData(e){return this.class.formData(e||this.root)}attr(e,t){return typeof t=="undefined"?this.root.getAttribute(e):(this.root.setAttribute(e,t),t)}childNodes(e){let t=Array.from(this.root.querySelectorAll(":scope > *"));if(e)t.forEach(e);else return t}fezRegister(){this.class.css&&(this.class.css.includes(":")&&(this.class.css=N.css(this.class.css)),this.root.classList.add(this.class.css)),this.fezRegisterBindMethods()}fezRegisterBindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(t=>t!=="constructor"&&typeof this[t]=="function").forEach(t=>this[t]=this[t].bind(this))}};re(I,"__objects",[]);setInterval(()=>{I.__objects=I.__objects.filter(e=>e.isAttached)},1e4);var He=new MutationObserver((e,t)=>{for(let r of e)if(r.type==="attributes"){let i=r.target.fez,o=r.attributeName,s=r.target.getAttribute(o);i.props[o]=s,i.onPropsChange(o,s)}}),N=(e,t)=>{function r(){let o=this.parentNode;if(o){let s=typeof t.nodeName=="function"?t.nodeName(this):t.nodeName,l=document.createElement(s||"div");l.classList.add("fez"),l.classList.add(`fez-${e}`),o.replaceChild(l,this);let a=new t;a.oldRoot=this,a.fezName=e,a.root=l,a.props=t.getProps(this),a.class=t,a.slot(this,l),l.fez=a,window.$&&(a.$root=$(l)),a.props.id&&l.setAttribute("id",a.props.id),a.fezRegister(),a.connect(a.props),t.__objects.push(a),a.onPropsChange&&He.observe(l,{attributes:!0})}}function i(o){return typeof t.fastBind=="function"?t.fastBind(o):t.fastBind}if(!e)return I;if(typeof t!="function")return N.find(e,t);customElements.define(e,class extends HTMLElement{connectedCallback(){this.firstChild||i(this)?(N.info(`fast bind: ${e}`),r.bind(this)()):(N.info(`slow bind: ${e}`),window.requestAnimationFrame(()=>{r.bind(this)()}))}})};N.find=(e,t)=>{typeof e=="string"&&(e=document.body.querySelector(e)),typeof e.val=="function"&&(e=e[0]);let r=t?`.fez-${t}`:".fez";return e.closest(r).fez};N.globalCss=e=>{let t=N.css(e);return document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add(t)}),t};N.css=e=>Ae.css(e);N.info=e=>{window.DEBUG&&console.log(`Fez: ${e}`)};N.morphdom=(e,t,r={})=>{r.childrenOnly===void 0&&(r.childrenOnly=!0),me(e,t,r)};N.htmlEscape=e=>e.replaceAll("'","&apos;").replaceAll('"',"&quot;").replaceAll("<","&lt;").replaceAll(">","&gt;");window.Fez=N;window.FezBase=I;})();
